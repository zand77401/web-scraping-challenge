/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
// @ sourceMappingURL=jquery-1.10.2.min.map
*/
//! openseadragon 2.3.1
//! Built on 2017-09-19
//! Git commit: v2.3.1-0-08414cd
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function recaptchaLoaded(){console.log("loaded recaptcha")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function titleize(e){var t=e.split(/[\s_-]/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}function singularize(e){return/s$/.test(e)?e.replace(/s$/,""):e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function debounce(e,t){var i=null;return function(){var n=this,s=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,s)},t)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function loadJS(e){var t=window.document.getElementsByTagName("script")[0],i=window.document.createElement("script");i.src=e,i.async=!0,t.parentNode.insertBefore(i,t)}function debounce(e,t){var i=null;return function(){var n=this,s=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,s)},t)}}function singularize(e){return/s$/.test(e)?e.substring(0,e.length-1):e}function titleize(e){var t=e.split(/\W/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}function MarkerClusterer(e,t,i){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var n=i||{};this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.imagePath_=n.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=n.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,n.zoomOnClick!=undefined&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,n.averageCenter!=undefined&&(this.averageCenter_=n.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var s=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=s.map_.getZoom(),t=s.map_.minZoom||0,i=Math.min(s.map_.maxZoom||100,s.map_.mapTypes[s.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),i),s.prevZoom_!=e&&(s.prevZoom_=e,s.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){s.redraw()}),t&&(t.length||Object.keys(t).length)&&this.addMarkers(t,!1)}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,i){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=t,this.padding_=i||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}!function(e,t){function i(e){var t=e.length,i=ue.type(e);return!ue.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function n(e){var t=ke[e]={};return ue.each(e.match(de)||[],function(e,i){t[i]=!0}),t}function s(e,i,n,s){if(ue.acceptData(e)){var r,o,a=ue.expando,l=e.nodeType,c=l?ue.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(s||c[u].data)||n!==t||"string"!=typeof i)return u||(u=l?e[a]=te.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof i||"function"==typeof i)&&(s?c[u]=ue.extend(c[u],i):c[u].data=ue.extend(c[u].data,i)),o=c[u],s||(o.data||(o.data={}),o=o.data),n!==t&&(o[ue.camelCase(i)]=n),"string"==typeof i?null==(r=o[i])&&(r=o[ue.camelCase(i)]):r=o,r}}function r(e,t,i){if(ue.acceptData(e)){var n,s,r=e.nodeType,o=r?ue.cache:e,l=r?e[ue.expando]:ue.expando;if(o[l]){if(t&&(n=i?o[l]:o[l].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in n?t=[t]:t=(t=ue.camelCase(t))in n?[t]:t.split(" "),s=t.length;for(;s--;)delete n[t[s]];if(i?!a(n):!ue.isEmptyObject(n))return}(i||(delete o[l].data,a(o[l])))&&(r?ue.cleanData([e],!0):ue.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function o(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace(Ce,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(s))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?ue.parseJSON(n):n)}catch(X){}ue.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Z.activeElement}catch(e){}}function h(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function d(e,t,i){if(ue.isFunction(t))return ue.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ue.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Be.test(t))return ue.filter(t,e,i);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>=0!==i})}function p(e){var t=qe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return ue.nodeName(e,"table")&&ue.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i,n=0;null!=(i=e[n]);n++)ue._data(i,"globalEval",!t||ue._data(t[n],"globalEval"))}function _(e,t){if(1===t.nodeType&&ue.hasData(e)){var i,n,s,r=ue._data(e),o=ue._data(t,r),a=r.events;if(a)for(i in delete o.handle,o.events={},a)for(n=0,s=a[i].length;s>n;n++)ue.event.add(t,i,a[i][n]);o.data&&(o.data=ue.extend({},o.data))}}function y(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ue.support.noCloneEvent&&t[ue.expando]){for(n in(s=ue._data(t)).events)ue.removeEvent(t,n,s.handle);t.removeAttribute(ue.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.support.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function b(e,i){var n,s,r=0,o=typeof e.getElementsByTagName!==G?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(i||"*"):t;if(!o)for(o=[],n=e.childNodes||e;null!=(s=n[r]);r++)!i||ue.nodeName(s,i)?o.push(s):ue.merge(o,b(s,i));return i===t||i&&ue.nodeName(e,i)?ue.merge([e],o):o}function w(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=Et.length;s--;)if((t=Et[s]+i)in e)return t;return n}function E(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)}function S(e,t){for(var i,n,s,r=[],o=0,a=e.length;a>o;o++)(n=e[o]).style&&(r[o]=ue._data(n,"olddisplay"),i=n.style.display,t?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&E(n)&&(r[o]=ue._data(n,"olddisplay",R(n.nodeName)))):r[o]||(s=E(n),(i&&"none"!==i||!s)&&ue._data(n,"olddisplay",s?i:ue.css(n,"display"))));for(o=0;a>o;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function k(e,t,i){var n=gt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=ue.css(e,i+xt[r],!0,s)),n?("content"===i&&(o-=ue.css(e,"padding"+xt[r],!0,s)),"margin"!==i&&(o-=ue.css(e,"border"+xt[r]+"Width",!0,s))):(o+=ue.css(e,"padding"+xt[r],!0,s),"padding"!==i&&(o+=ue.css(e,"border"+xt[r]+"Width",!0,s)));return o}function C(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=ct(e),o=ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,r);if(0>=s||null==s){if((0>(s=ut(e,t,r))||null==s)&&(s=e.style[t]),vt.test(s))return s;n=o&&(ue.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+T(e,t,i||(o?"border":"content"),n,r)+"px"}function R(e){var t=Z,i=yt[e];return i||("none"!==(i=P(e,t))&&i||((t=((lt=(lt||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||lt[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),i=P(e,t),lt.detach()),yt[e]=i),i}function P(e,t){var i=ue(t.createElement(e)).appendTo(t.body),n=ue.css(i[0],"display");return i.remove(),n}function N(e,t,i,n){var s;if(ue.isArray(t))ue.each(t,function(t,s){i||kt.test(e)?n(e,s):N(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==ue.type(t))n(e,t);else for(s in t)N(e+"["+s+"]",t[s],i,n)}function M(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(de)||[];if(ue.isFunction(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function O(e,i,n,s){function r(l){var c;return o[l]=!0,ue.each(e[l]||[],function(e,l){var u=l(i,n,s);return"string"!=typeof u||a||o[u]?a?!(c=u):t:(i.dataTypes.unshift(u),r(u),!1)}),c}var o={},a=e===Bt;return r(i.dataTypes[0])||!o["*"]&&r("*")}function D(e,i){var n,s,r=ue.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((r[s]?e:n||(n={}))[s]=i[s]);return n&&ue.extend(!0,e,n),e}function I(e,i,n){for(var s,r,o,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||i.getResponseHeader("Content-Type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){c.unshift(a);break}if(c[0]in n)o=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){o=a;break}s||(s=a)}o=o||s}return o?(o!==c[0]&&c.unshift(o),n[o]):t}function L(e,t,i,n){var s,r,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(s in c)if((a=s.split(" "))[1]===r&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[s]:!0!==c[s]&&(r=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(te){return{state:"parsererror",error:o?te:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function j(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function z(){return setTimeout(function(){Zt=t}),Zt=ue.now()}function F(e,t,i){for(var n,s=(ii[t]||[]).concat(ii["*"]),r=0,o=s.length;o>r;r++)if(n=s[r].call(i,t,e))return n}function H(e,t,i){var n,s,r=0,o=ti.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Zt||z(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),r=0,o=c.tweens.length;o>r;r++)c.tweens[r].run(n);return a.notifyWith(e,[c,n,i]),1>n&&o?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Zt||z(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ue.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for($(u,c.opts.specialEasing);o>r;r++)if(n=ti[r].call(c,e,u,c.opts))return n;return ue.map(u,F,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e,t){var i,n,s,r,o;for(i in e)if(s=t[n=ue.camelCase(i)],r=e[i],ue.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(o=ue.cssHooks[n])&&"expand"in o)for(i in r=o.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=s);else t[n]=s}function B(e,t,i){var n,s,r,o,a,l,c=this,u={},h=e.style,d=e.nodeType&&E(e),p=ue._data(e,"fxshow");for(n in i.queue||(null==(a=ue._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ue.css(e,"display")&&"none"===ue.css(e,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==R(e.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),t)if(s=t[n],Kt.exec(s)){if(delete t[n],r=r||"toggle"===s,s===(d?"hide":"show"))continue;u[n]=p&&p[n]||ue.style(e,n)}if(!ue.isEmptyObject(u))for(n in p?"hidden"in p&&(d=p.hidden):p=ue._data(e,"fxshow",{}),r&&(p.hidden=!d),d?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;for(t in ue._removeData(e,"fxshow"),u)ue.style(e,t,u[t])}),u)o=F(d?p[n]:0,n,c),n in p||(p[n]=o.start,d&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}function W(e,t,i,n,s){return new W.prototype.init(e,t,i,n,s)}function V(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)n["margin"+(i=xt[s])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function U(e){return ue.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var q,Y,G=typeof t,X=e.location,Z=e.document,Q=Z.documentElement,K=e.jQuery,J=e.$,ee={},te=[],ie="1.10.2",ne=te.concat,se=te.push,re=te.slice,oe=te.indexOf,ae=ee.toString,le=ee.hasOwnProperty,ce=ie.trim,ue=function(e,t){return new ue.fn.init(e,t,Y)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,_e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ye=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,be=/^-ms-/,we=/-([\da-z])/gi,xe=function(e,t){return t.toUpperCase()},Ee=function(e){(Z.addEventListener||"load"===e.type||"complete"===Z.readyState)&&(Se(),ue.ready())},Se=function(){
Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",Ee,!1),e.removeEventListener("load",Ee,!1)):(Z.detachEvent("onreadystatechange",Ee),e.detachEvent("onload",Ee))};ue.fn=ue.prototype={jquery:ie,constructor:ue,init:function(e,i,n){var s,r;if(!e)return this;if("string"==typeof e){if(!(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:fe.exec(e))||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1]){if(i=i instanceof ue?i[0]:i,ue.merge(this,ue.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:Z,!0)),me.test(s[1])&&ue.isPlainObject(i))for(s in i)ue.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}if((r=Z.getElementById(s[2]))&&r.parentNode){if(r.id!==s[2])return n.find(e);this.length=1,this[0]=r}return this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))},selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ue.each(this,e,t)},ready:function(e){return ue.ready.promise().done(e),this},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(ue.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:se,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var e,i,n,s,r,o,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(s in r)e=a[s],a!==(n=r[s])&&(u&&n&&(ue.isPlainObject(n)||(i=ue.isArray(n)))?(i?(i=!1,o=e&&ue.isArray(e)?e:[]):o=e&&ue.isPlainObject(e)?e:{},a[s]=ue.extend(u,o,n)):n!==t&&(a[s]=n));return a},ue.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ue&&(e.$=J),t&&e.jQuery===ue&&(e.jQuery=K),ue},isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){if(!0===e?!--ue.readyWait:!ue.isReady){if(!Z.body)return setTimeout(ue.ready);ue.isReady=!0,!0!==e&&--ue.readyWait>0||(q.resolveWith(Z,[ue]),ue.fn.trigger&&ue(Z).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[ae.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(Y){return!1}if(ue.support.ownLast)for(i in e)return le.call(e,i);for(i in e);return i===t||le.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Z;var n=me.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=ue.buildFragment([e],t,s),s&&ue(s).remove(),ue.merge([],n.childNodes))},parseJSON:function(i){return e.JSON&&e.JSON.parse?e.JSON.parse(i):null===i?i:"string"==typeof i&&((i=ue.trim(i))&&ge.test(i.replace(_e,"@").replace(ye,"]").replace(ve,"")))?Function("return "+i)():(ue.error("Invalid JSON: "+i),t)},parseXML:function(i){var n;if(!i||"string"!=typeof i)return null;try{e.DOMParser?n=(new DOMParser).parseFromString(i,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(i))}catch(X){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(be,"ms-").replace(we,xe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s=0,r=e.length,o=i(e);if(n){if(o)for(;r>s&&!1!==t.apply(e[s],n);s++);else for(s in e)if(!1===t.apply(e[s],n))break}else if(o)for(;r>s&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},trim:ce&&!ce.call("\ufeff\xa0")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):se.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(oe)return oe.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,s=e.length,r=0;if("number"==typeof n)for(;n>r;r++)e[s++]=i[r];else for(;i[r]!==t;)e[s++]=i[r++];return e.length=s,e},grep:function(e,t,i){var n=[],s=0,r=e.length;for(i=!!i;r>s;s++)i!==!!t(e[s],s)&&n.push(e[s]);return n},map:function(e,t,n){var s,r=0,o=e.length,a=[];if(i(e))for(;o>r;r++)null!=(s=t(e[r],r,n))&&(a[a.length]=s);else for(r in e)null!=(s=t(e[r],r,n))&&(a[a.length]=s);return ne.apply([],a)},guid:1,proxy:function(e,i){var n,s,r;return"string"==typeof i&&(r=e[i],i=e,e=r),ue.isFunction(e)?(n=re.call(arguments,2),(s=function(){return e.apply(i||this,n.concat(re.call(arguments)))}).guid=e.guid=e.guid||ue.guid++,s):t},access:function(e,i,n,s,r,o,a){var l=0,c=e.length,u=null==n;if("object"===ue.type(n))for(l in r=!0,n)ue.access(e,i,l,n[l],!0,o,a);else if(s!==t&&(r=!0,ue.isFunction(s)||(a=!0),u&&(a?(i.call(e,s),i=null):(u=i,i=function(e,t,i){return u.call(ue(e),i)})),i))for(;c>l;l++)i(e[l],n,a?s:s.call(e[l],l,i(e[l],n)));return r?e:u?i.call(e):c?i(e[0],n):o},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in s=i.apply(e,n||[]),t)e.style[r]=o[r];return s}}),ue.ready.promise=function(t){if(!q)if(q=ue.Deferred(),"complete"===Z.readyState)setTimeout(ue.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",Ee,!1),e.addEventListener("load",Ee,!1);else{Z.attachEvent("onreadystatechange",Ee),e.attachEvent("onload",Ee);var i=!1;try{i=null==e.frameElement&&Z.documentElement}catch(G){}i&&i.doScroll&&function t(){if(!ue.isReady){try{i.doScroll("left")}catch(e){return setTimeout(t,50)}Se(),ue.ready()}}()}return q.promise(t)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),Y=ue(Z),function(e,t){function i(e,t,i,n){var s,r,o,a,l,c,u,h,d,m;if((t?t.ownerDocument||t:$)!==D&&O(t),i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=(t=t||D).nodeType)&&9!==a)return[];if(L&&!n){if(s=be.exec(e))if(o=s[1]){if(9===a){if(!(r=t.getElementById(o))||!r.parentNode)return i;if(r.id===o)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&F(t,r)&&r.id===o)return i.push(r),i}else{if(s[2])return te.apply(i,t.getElementsByTagName(e)),i;if((o=s[3])&&S.getElementsByClassName&&t.getElementsByClassName)return te.apply(i,t.getElementsByClassName(o)),i}if(S.qsa&&(!A||!A.test(e))){if(h=u=H,d=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(u=t.getAttribute("id"))?h=u.replace(Ee,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+f(c[l]);d=fe.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return te.apply(i,d.querySelectorAll(m)),i}catch(B){}finally{u||t.removeAttribute("id")}}}return x(e.replace(he,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>T.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function s(e){return e[H]=!0,e}function r(e){var t=D.createElement("div");try{return!!e(t)}catch(E){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)T.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Z)-(~e.sourceIndex||Z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function u(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function h(e){return s(function(t){return t=+t,s(function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function d(){}function p(e,t){var n,s,r,o,a,l,c,u=U[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=T.preFilter;a;){for(o in(!n||(s=de.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=pe.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(he," ")}),a=a.slice(n.length)),T.filter)!(s=_e[o].exec(a))||c[o]&&!(s=c[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):U(e,l).slice(0)}function f(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function m(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=W++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,o){var a,l,c,u=B+" "+r;if(o){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if((l=(c=t[H]||(t[H]={}))[n])&&l[0]===u){if(!0===(a=l[1])||a===k)return!0===a}else if((l=c[n]=[u])[1]=e(t,i,o)||k,!0===l[1])return!0}}function g(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function v(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,c=null!=t;l>a;a++)(r=e[a])&&(!i||i(r,n,s))&&(o.push(r),c&&t.push(a));return o}function _(e,t,i,n,r,o){return n&&!n[H]&&(n=_(n)),r&&!r[H]&&(r=_(r,o)),s(function(s,o,a,l){var c,u,h,d=[],p=[],f=o.length,m=s||w(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:v(m,d,e,a,l),_=i?r||(s?e:f||n)?[]:o:g;if(i&&i(g,_,a,l),n)for(c=v(_,p),n(c,[],a,l),u=c.length;u--;)(h=c[u])&&(_[p[u]]=!(g[p[u]]=h));if(s){if(r||e){if(r){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(g[u]=h);r(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=r?ne.call(s,h):d[u])>-1&&(s[c]=!(o[c]=h))}}else _=v(_===o?_.splice(f,_.length):_),r?r(null,o,_,l):te.apply(o,_)})}function y(e){for(var t,i,n,s=e.length,r=T.relative[e[0].type],o=r||T.relative[" "],a=r?1:0,l=m(function(e){return e===t},o,!0),c=m(function(e){return ne.call(t,e)>-1},o,!0),u=[function(e,i,n){return!r&&(n||i!==N)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];s>a;a++)if(i=T.relative[e[a].type])u=[m(g(u),i)];else{if((i=T.filter[e[a].type].apply(null,e[a].matches))[H]){for(n=++a;s>n&&!T.relative[e[n].type];n++);return _(a>1&&g(u),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(he,"$1"),i,n>a&&y(e.slice(a,n)),s>n&&y(e=e.slice(n)),s>n&&f(e))}u.push(i)}return g(u)}function b(e,t){var n=0,r=t.length>0,o=e.length>0,a=function(s,a,l,c,u){var h,d,p,f=[],m=0,g="0",_=s&&[],y=null!=u,b=N,w=s||o&&T.find.TAG("*",u&&a.parentNode||a),x=B+=null==b?1:Math.random()||.1;for(y&&(N=a!==D&&a,k=n);null!=(h=w[g]);g++){if(o&&h){for(d=0;p=e[d++];)if(p(h,a,l)){c.push(h);break}y&&(B=x,k=++n)}r&&((h=!p&&h)&&m--,s&&_.push(h))}if(m+=g,r&&g!==m){for(d=0;p=t[d++];)p(_,f,a,l);if(s){if(m>0)for(;g--;)_[g]||f[g]||(f[g]=J.call(c));f=v(f)}te.apply(c,f),y&&!s&&f.length>0&&m+t.length>1&&i.uniqueSort(c)}return y&&(B=x,N=b),_};return r?s(a):a}function w(e,t,n){for(var s=0,r=t.length;r>s;s++)i(e,t[s],n);return n}function x(e,t,i,n){var s,r,o,a,l,c=p(e);if(!n&&1===c.length){if((r=c[0]=c[0].slice(0)).length>2&&"ID"===(o=r[0]).type&&S.getById&&9===t.nodeType&&L&&T.relative[r[1].type]){if(!(t=(T.find.ID(o.matches[0].replace(Se,ke),t)||[])[0]))return i;e=e.slice(r.shift().value.length)}for(s=_e.needsContext.test(e)?0:r.length;s--&&(o=r[s],!T.relative[a=o.type]);)if((l=T.find[a])&&(n=l(o.matches[0].replace(Se,ke),fe.test(r[0].type)&&t.parentNode||t))){if(r.splice(s,1),!(e=n.length&&f(r)))return te.apply(i,n),i;break}}return P(e,c)(n,t,!L,i,fe.test(e)),i}var E,S,k,T,C,R,P,N,M,O,D,I,L,A,j,z,F,H="sizzle"+-new Date,$=e.document,B=0,W=0,V=n(),U=n(),q=n(),Y=!1,G=function(e,t){return e===t?(Y=!0,0):0},X=typeof t,Z=1<<31,Q={}.hasOwnProperty,K=[],J=K.pop,ee=K.push,te=K.push,ie=K.slice,ne=K.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},se="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),le="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+re+"*\\]",ce=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",he=RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),de=RegExp("^"+re+"*,"+re+"*"),pe=RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=RegExp(re+"*[+~]"),me=RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),ge=RegExp(ce),ve=RegExp("^"+ae+"$"),_e={ID:RegExp("^#("+oe+")"),CLASS:RegExp("^\\.("+oe+")"),TAG:RegExp("^("+oe.replace("w","w*")+")"),ATTR:RegExp("^"+le),PSEUDO:RegExp("^"+ce),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:RegExp("^(?:"+se+")$","i"),needsContext:RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,Ee=/'|\\/g,Se=RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{te.apply(K=ie.call($.childNodes),$.childNodes),K[$.childNodes.length].nodeType}catch(c){te={apply:K.length?function(e,t){ee.apply(e,ie.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(E in R=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=i.support={},O=i.setDocument=function(e){var i=e?e.ownerDocument||e:$,n=i.defaultView;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,I=i.documentElement,L=!R(i),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){O()}),S.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),S.getById=r(function(e){return I.appendChild(e).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),S.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==X&&L){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(e){var t=e.replace(Se,ke);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(Se,ke);return function(e){var i=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return i&&i.value===t}}),T.find.TAG=S.getElementsByTagName?function(e,i){return typeof i.getElementsByTagName!==X?i.getElementsByTagName(e):t}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},T.find.CLASS=S.getElementsByClassName&&function(e,i){return typeof i.getElementsByClassName!==X&&L?i.getElementsByClassName(e):t},j=[],A=[],(S.qsa=ye.test(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||A.push("\\["+re+"*(?:value|"+se+")"),e.querySelectorAll(":checked").length||A.push(":checked")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&A.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),A.push(",.*:")})),(S.matchesSelector=ye.test(z=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){S.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),j.push("!=",ce)}),A=A.length&&RegExp(A.join("|")),j=j.length&&RegExp(j.join("|")),F=ye.test(I.contains)||I.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=I.compareDocumentPosition?function(e,t){if(e===t)return Y=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||!S.sortDetached&&t.compareDocumentPosition(e)===n?e===i||F($,e)?-1:t===i||F($,t)?1:M?ne.call(M,e)-ne.call(M,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,s=0,r=e.parentNode,o=t.parentNode,l=[e],c=[t];if(e===t)return Y=!0,0;if(!r||!o)return e===i?-1:t===i?1:r?-1:o?1:M?ne.call(M,e)-ne.call(M,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[s]===c[s];)s++;return s?a(l[s],c[s]):l[s]===$?-1:c[s]===$?1:0},i):D},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&O(e),t=t.replace(me,"='$1']"),!(!S.matchesSelector||!L||j&&j.test(t)||A&&A.test(t)))try{var n=z.call(e,t);if(n||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(k){}return i(t,D,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==D&&O(e),F(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==D&&O(e);var n=T.attrHandle[i.toLowerCase()],s=n&&Q.call(T.attrHandle,i.toLowerCase())?n(e,i,!L):t;return s===t?S.attributes||!L?e.getAttribute(i):(s=e.getAttributeNode(i))&&s.specified?s.value:null:s},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,s=0;if(Y=!S.detectDuplicates,M=!S.sortStable&&e.slice(0),e.sort(G),Y){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return e},C=i.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=C(t);return i},(T=i.selectors={cacheLength:50,createPseudo:s,match:_e,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Se,ke),e[3]=(e[4]||e[5]||"").replace(Se,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return _e.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&ge.test(n)&&(i=p(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Se,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(s){var r=i.attr(s,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,u,h,d,p,f,m=r!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),_=!l&&!a;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&_){for(p=(c=(u=g[H]||(g[H]={}))[e]||[])[0]===B&&c[1],d=c[0]===B&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[B,p,d];break}}else if(_&&(c=(t[H]||(t[H]={}))[e])&&c[0]===B)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(_&&((h[H]||(h[H]={}))[e]=[B,d]),h!==t)););return(d-=s)===n||0==d%n&&d/n>=0}}},PSEUDO:function(e,t){var n,r=T.pseudos[e]||T.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return r[H]?r(t):r.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,i){for(var n,s=r(e,t),o=s.length;o--;)e[n=ne.call(e,s[o])]=!(i[n]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:s(function(e){var t=[],i=[],n=P(e.replace(he,"$1"));return n[H]?s(function(e,t,i,s){for(var r,o=n(e,null,s,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,s,r){return t[0]=e,n(t,null,r,i),!i.pop()}}),has:s(function(e){return function(t){return i(e,t).length>0}}),contains:s(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:s(function(e){return ve.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(Se,ke).toLowerCase(),function(t){var i;do{if(i=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return xe.test(e.nodeName)},input:function(e){return we.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[0>i?i+t:i]}),even:h(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:h(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}}).pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[E]=l(E);for(E in{submit:!0,reset:!0})T.pseudos[E]=u(E);d.prototype=T.filters=T.pseudos,T.setFilters=new d,P=i.compile=function(e,t){var i,n=[],s=[],r=q[e+" "];if(!r){for(t||(t=p(e)),i=t.length;i--;)(r=y(t[i]))[H]?n.push(r):s.push(r);r=q(e,b(s,n))}return r},S.sortStable=H.split("").sort(G).join("")===H,S.detectDuplicates=Y,O(),S.sortDetached=r(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,i,n){return n?t:e.getAttribute(i,"type"===i.toLowerCase()?1:2)}),S.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,i,n){return n||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(se,function(e,i,n){var s;return n?t:(s=e.getAttributeNode(i))&&s.specified?s.value:!0===e[i]?i.toLowerCase():null}),ue.find=i,ue.expr=i.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=i.uniqueSort,ue.text=i.getText,ue.isXMLDoc=i.isXML,ue.contains=i.contains}(e);var ke={};ue.Callbacks=function(e){e="string"==typeof e?ke[e]||n(e):ue.extend({},e);var i,s,r,o,a,l,c=[],u=!e.once&&[],h=function(t){for(s=e.memory&&t,r=!0,a=l||0,l=0,o=c.length,i=!0;c&&o>a;a++)if(!1===c[a].apply(t[0],t[1])&&e.stopOnFalse){s=!1;break}i=!1,c&&(u?u.length&&h(u.shift()):s?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;(function n(t){ue.each(t,function(t,i){var s=ue.type(i);"function"===s?e.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==s&&n(i)})})(arguments),i?o=c.length:s&&(l=t,h(s))}return this},remove:function(){return c&&ue.each(arguments,function(e,t){for(var n;(n=ue.inArray(t,c,n))>-1;)c.splice(n,1),i&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?ue.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=u=s=t,this},disabled:function(){return!c},lock:function(){return u=t,s||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=[e,(t=t||[]).slice?t.slice():t],i?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(i){ue.each(t,function(t,r){var o=r[0],a=ue.isFunction(e[t])&&e[t];s[r[1]](function(){var e=a&&a.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},s={};return n.pipe=n.then,ue.each(t,function(e,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=re.call(arguments),o=r.length,a=1!==o||e&&ue.isFunction(e.promise)?o:0,l=1===a?e:ue.Deferred(),c=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?re.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=Array(o),i=Array(o),n=Array(o);o>s;s++)r[s]&&ue.isFunction(r[s].promise)?r[s].promise().done(c(s,n,r)).fail(l.reject).progress(c(s,i,t)):--a;return a||l.resolveWith(n,r),l.promise()}}),ue.support=function(t){var i,n,s,r,o,a,l,c,u,h=Z.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*")||[],!(n=h.getElementsByTagName("a")[0])||!n.style||!i.length)return t;a=(r=Z.createElement("select")).appendChild(Z.createElement("option")),s=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==h.className,t.leadingWhitespace=3===h.firstChild.nodeType,t.tbody=!h.getElementsByTagName("tbody").length,t.htmlSerialize=!!h.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!s.value,t.optSelected=a.selected,t.enctype=!!Z.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(se){t.deleteExpando=!1}for(u in(s=Z.createElement("input")).setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),(o=Z.createDocumentFragment()).appendChild(s),t.appendChecked=s.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||!1===h.attributes[l].expando;for(u in h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip,ue(t))break;return t.ownLast="0"!==u,ue(function(){var i,n,s,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=Z.getElementsByTagName("body")[0];o&&((i=Z.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(i).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(s=h.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&0===s[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===h.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,(n=h.appendChild(Z.createElement("div"))).style.cssText=h.style.cssText=r,n.style.marginRight=n.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==G&&(h.innerHTML="",h.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(i),i=h=s=n=null)}),i=r=o=a=n=s=null,t}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ce=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando])&&!a(e)},data:function(e,t,i){return s(e,t,i)},removeData:function(e,t){return r(e,t)},_data:function(e,t,i){return s(e,t,i,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ue.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),ue.fn.extend({data:function(e,i){var n,s,r=null,a=0,l=this[0];if(e===t){if(this.length&&(r=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(n=l.attributes;n.length>a;a++)0===(s=n[a].name).indexOf("data-")&&o(l,s=ue.camelCase(s.slice(5)),r[s]);ue._data(l,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,i)}):l?o(l,e,ue.data(l,e)):null},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,i,n){var s;return e?(i=(i||"fx")+"queue",s=ue._data(e,i),n&&(!s||ue.isArray(n)?s=ue._data(e,i,ue.makeArray(n)):s.push(n)),s||[]):t},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),n=i.length,s=i.shift(),r=ue._queueHooks(e,t),o=function(){ue.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ue._data(e,i)||ue._data(e,i,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,i)})})}}),ue.fn.extend({
queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?ue.queue(this[0],e):i===t?this:this.each(function(){var t=ue.queue(this,e,i);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},delay:function(e,t){return e=ue.fx&&ue.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,s=1,r=ue.Deferred(),o=this,a=this.length,l=function(){--s||r.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)(n=ue._data(o[a],e+"queueHooks"))&&n.empty&&(s++,n.empty.add(l));return l(),r.promise(i)}});var Re,Pe,Ne=/[\t\r\n\f]/g,Me=/\r/g,Oe=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i,Ie=/^(?:checked|selected)$/i,Le=ue.support.getSetAttribute,Ae=ue.support.input;ue.fn.extend({attr:function(e,t){return ue.access(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})},prop:function(e,t){return ue.access(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(q){}})},addClass:function(e){var t,i,n,s,r,o=0,a=this.length,l="string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(de)||[];a>o;o++)if(n=1===(i=this[o]).nodeType&&(i.className?(" "+i.className+" ").replace(Ne," "):" ")){for(r=0;s=t[r++];)0>n.indexOf(" "+s+" ")&&(n+=s+" ");i.className=ue.trim(n)}return this},removeClass:function(e){var t,i,n,s,r,o=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(de)||[];a>o;o++)if(n=1===(i=this[o]).nodeType&&(i.className?(" "+i.className+" ").replace(Ne," "):"")){for(r=0;s=t[r++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");i.className=e?ue.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(i){ue(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,s=ue(this),r=e.match(de)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(i===G||"boolean"===i)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ue._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ne," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,s,r=this[0];return arguments.length?(s=ue.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=s?e.call(this,i,ue(this).val()):e)?r="":"number"==typeof r?r+="":ue.isArray(r)&&(r=ue.map(r,function(e){return null==e?"":e+""})),(n=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,r,"value")!==t||(this.value=r))})):r?(n=ue.valHooks[r.type]||ue.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&(i=n.get(r,"value"))!==t?i:"string"==typeof(i=r.value)?i.replace(Me,""):null==i?"":i:void 0}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,o=r?null:[],a=r?s+1:n.length,l=0>s?a:r?s:0;a>l;l++)if(!(!(i=n[l]).selected&&l!==s||(ue.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ue.nodeName(i.parentNode,"optgroup"))){if(t=ue(i).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,r=ue.makeArray(t),o=s.length;o--;)((n=s[o]).selected=ue.inArray(ue(n).val(),r)>=0)&&(i=!0);return i||(e.selectedIndex=-1),r}}},attr:function(e,i,n){var s,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===G?ue.prop(e,i,n):(1===o&&ue.isXMLDoc(e)||(i=i.toLowerCase(),s=ue.attrHooks[i]||(ue.expr.match.bool.test(i)?Pe:Re)),n===t?s&&"get"in s&&null!==(r=s.get(e,i))?r:null==(r=ue.find.attr(e,i))?t:r:null!==n?s&&"set"in s&&(r=s.set(e,n,i))!==t?r:(e.setAttribute(i,n+""),n):(ue.removeAttr(e,i),t))},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(de);if(r&&1===e.nodeType)for(;i=r[s++];)n=ue.propFix[i]||i,ue.expr.match.bool.test(i)?Ae&&Le||!Ie.test(i)?e[n]=!1:e[ue.camelCase("default-"+i)]=e[n]=!1:ue.attr(e,i,""),e.removeAttribute(Le?i:n)},attrHooks:{type:{set:function(e,t){if(!ue.support.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var s,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!ue.isXMLDoc(e))&&(i=ue.propFix[i]||i,r=ue.propHooks[i]),n!==t?r&&"set"in r&&(s=r.set(e,n,i))!==t?s:e[i]=n:r&&"get"in r&&null!==(s=r.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):Oe.test(e.nodeName)||De.test(e.nodeName)&&e.href?0:-1}}}}),Pe={set:function(e,t,i){return!1===t?ue.removeAttr(e,i):Ae&&Le||!Ie.test(i)?e.setAttribute(!Le&&ue.propFix[i]||i,i):e[ue.camelCase("default-"+i)]=e[i]=!0,i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,i){var n=ue.expr.attrHandle[i]||ue.find.attr;ue.expr.attrHandle[i]=Ae&&Le||!Ie.test(i)?function(e,i,s){var r=ue.expr.attrHandle[i],o=s?t:(ue.expr.attrHandle[i]=t)!=n(e,i,s)?i.toLowerCase():null;return ue.expr.attrHandle[i]=r,o}:function(e,i,n){return n?t:e[ue.camelCase("default-"+i)]?i.toLowerCase():null}}),Ae&&Le||(ue.attrHooks.value={set:function(e,i,n){return ue.nodeName(e,"input")?(e.defaultValue=i,t):Re&&Re.set(e,i,n)}}),Le||(Re={set:function(e,i,n){var s=e.getAttributeNode(n);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(n)),s.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(e,i,n){var s;return n?t:(s=e.getAttributeNode(i))&&""!==s.value?s.value:null},ue.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:Re.set},ue.attrHooks.contenteditable={set:function(e,t,i){Re.set(e,""!==t&&t,i)}},ue.each(["width","height"],function(e,i){ue.attrHooks[i]={set:function(e,n){return""===n?(e.setAttribute(i,"auto"),n):t}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,i){return ue.isArray(i)?e.checked=ue.inArray(ue(e).val(),i)>=0:t}},ue.support.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var je=/^(?:input|select|textarea)$/i,ze=/^key/,Fe=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(e,i,n,s,r){var o,a,l,c,u,h,d,p,f,m,g,v=ue._data(e);if(v){for(n.handler&&(n=(c=n).handler,r=c.selector),n.guid||(n.guid=ue.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||((h=v.handle=function(e){return typeof ue===G||e&&ue.event.triggered===e.type?t:ue.event.dispatch.apply(h.elem,arguments)}).elem=e),l=(i=(i||"").match(de)||[""]).length;l--;)f=g=(o=$e.exec(i[l])||[])[1],m=(o[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},d=ue.extend({type:f,origType:g,data:s,handler:n,guid:n.guid,selector:r,needsContext:r&&ue.expr.match.needsContext.test(r),namespace:m.join(".")},c),(p=a[f])||((p=a[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,s,m,h)||(e.addEventListener?e.addEventListener(f,h,!1):e.attachEvent&&e.attachEvent("on"+f,h))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),ue.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var r,o,a,l,c,u,h,d,p,f,m,g=ue.hasData(e)&&ue._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(de)||[""]).length;c--;)if(p=m=(a=$e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},d=u[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)o=d[r],!s&&m!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(d.splice(r,1),o.selector&&d.delegateCount--,h.remove&&h.remove.call(e,o));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||ue.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(e,p+t[c],i,n,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(e,"events"))}},trigger:function(i,n,s,r){var o,a,l,c,u,h,d,p=[s||Z],f=le.call(i,"type")?i.type:i,m=le.call(i,"namespace")?i.namespace.split("."):[];if(l=h=s=s||Z,3!==s.nodeType&&8!==s.nodeType&&!He.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(f=(m=f.split(".")).shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,(i=i[ue.expando]?i:new ue.Event(f,"object"==typeof i&&i)).isTrigger=r?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=s),n=null==n?[i]:ue.makeArray(n,[i]),u=ue.event.special[f]||{},r||!u.trigger||!1!==u.trigger.apply(s,n))){if(!r&&!u.noBubble&&!ue.isWindow(s)){for(c=u.delegateType||f,He.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(s.ownerDocument||Z)&&p.push(h.defaultView||h.parentWindow||e)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?c:u.bindType||f,(o=(ue._data(l,"events")||{})[i.type]&&ue._data(l,"handle"))&&o.apply(l,n),(o=a&&l[a])&&ue.acceptData(l)&&o.apply&&!1===o.apply(l,n)&&i.preventDefault();if(i.type=f,!r&&!i.isDefaultPrevented()&&(!u._default||!1===u._default.apply(p.pop(),n))&&ue.acceptData(s)&&a&&s[f]&&!ue.isWindow(s)){(h=s[a])&&(s[a]=null),ue.event.triggered=f;try{s[f]()}catch(ae){}ue.event.triggered=t,h&&(s[a]=h)}return i.result}},dispatch:function(e){e=ue.event.fix(e);var i,n,s,r,o,a=[],l=re.call(arguments),c=(ue._data(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=ue.event.handlers.call(this,e,c),i=0;(r=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(s=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,(n=((ue.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))!==t&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,s,r,o,a=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(r=[],o=0;l>o;o++)r[n=(s=i[o]).selector+" "]===t&&(r[n]=s.needsContext?ue(n,this).index(c)>=0:ue.find(n,this,null,[c]).length),r[n]&&r.push(s);r.length&&a.push({elem:c,handlers:r})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[ue.expando])return e;var t,i,n,s=e.type,r=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Fe.test(s)?this.mouseHooks:ze.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new ue.Event(r),t=n.length;t--;)e[i=n[t]]=r[i];return e.target||(e.target=r.srcElement||Z),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,r,o=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(r=(s=e.target.ownerDocument||Z).documentElement,n=s.body,e.pageX=i.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=ue.extend(new ue.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ue.event.trigger(s,null,t):ue.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},ue.removeEvent=Z.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===G&&(e[n]=null),e.detachEvent(n,i))},ue.Event=function(e,i){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,i&&ue.extend(this,i),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0,t):new ue.Event(e,i)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return(!s||s!==n&&!ue.contains(n,s))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return!ue.nodeName(this,"form")&&(ue.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=ue.nodeName(i,"input")||ue.nodeName(i,"button")?i.form:t;n&&!ue._data(n,"submitBubbles")&&(ue.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ue._data(n,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ue.nodeName(this,"form")&&(ue.event.remove(this,"._submit"),t)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return je.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,e,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;je.test(t.nodeName)&&!ue._data(t,"changeBubbles")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e,!0)}),ue._data(t,"changeBubbles",!0))}),t)},handle:function(e){var i=e.target;return this!==i||e.isSimulated||e.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ue.event.remove(this,"._change"),!je.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){ue.event.simulate(t,e.target,ue.event.fix(e),!0)};ue.event.special[t]={setup:function(){0==i++&&Z.addEventListener(e,n,!0)},teardown:function(){0==--i&&Z.removeEventListener(e,n,!0)}}}),ue.fn.extend({on:function(e,i,n,s,r){var o,a;if("object"==typeof e){for(o in"string"!=typeof i&&(n=n||i,i=t),e)this.on(o,i,n,e[o],r);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),!1===s)s=c;else if(!s)return this;return 1===r&&(a=s,(s=function(e){return ue().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,ue(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,i,e[r]);return this}return(!1===i||"function"==typeof i)&&(n=i,i=t),!1===n&&(n=c),this.each(function(){ue.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,i){var n=this[0];return n?ue.event.trigger(e,i,n,!0):t}});var Be=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,Ve=ue.expr.match.needsContext,Ue={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;s>t;t++)if(ue.contains(n[t],this))return!0}));for(t=0;s>t;t++)ue.find(e,n[t],i);return(i=this.pushStack(s>1?ue.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=ue(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ue.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(d(this,e||[],!0))},filter:function(e){return this.pushStack(d(this,e||[],!1))},is:function(e){return!!d(this,"string"==typeof e&&Ve.test(e)?ue(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,s=this.length,r=[],o=Ve.test(e)||"string"!=typeof e?ue(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(o?o.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){i=r.push(i);break}return this.pushStack(r.length>1?ue.unique(r):r)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ue(e,t):ue.makeArray(e&&e.nodeType?[e]:e),n=ue.merge(this.get(),i);return this.pushStack(ue.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ue.dir(e,"parentNode",i)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return ue.dir(e,"nextSibling")},prevAll:function(e){return ue.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ue.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ue.dir(e,"previousSibling",i)},siblings:function(e){return ue.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ue.sibling(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(i,n){var s=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ue.filter(n,s)),this.length>1&&(Ue[e]||(s=ue.unique(s)),We.test(e)&&(s=s.reverse())),this.pushStack(s)}}),ue.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var s=[],r=e[i];r&&9!==r.nodeType&&(n===t||1!==r.nodeType||!ue(r).is(n));)1===r.nodeType&&s.push(r),r=r[i];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ye=/ jQuery\d+="(?:null|\d+)"/g,Ge=RegExp("<(?:"+qe+")[\\s/>]","i"),Xe=/^\s+/,Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ke=/<tbody/i,Je=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,st=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ot={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=p(Z).appendChild(Z.createElement("div"));ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,ue.fn.extend({text:function(e){return ue.access(this,function(e){return e===t?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ue.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||ue.cleanData(b(i)),i.parentNode&&(t&&ue.contains(i.ownerDocument,i)&&v(b(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return ue.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Ye,""):t;if(!("string"!=typeof e||et.test(e)||!ue.support.htmlSerialize&&Ge.test(e)||!ue.support.leadingWhitespace&&Xe.test(e)||ot[(Qe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ze,"<$1></$2>");try{for(;s>n;n++)1===(i=this[n]||{}).nodeType&&(ue.cleanData(b(i,!1)),i.innerHTML=e);i=0}catch(X){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ue.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],s=e[t++];s&&(n&&n.parentNode!==s&&(n=this.nextSibling),ue(this).remove(),s.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=ne.apply([],e);var n,s,r,o,a,l,c=0,u=this.length,h=this,d=u-1,p=e[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&it.test(p))return this.each(function(n){var s=h.eq(n);f&&(e[0]=p.call(this,n,s.html())),s.domManip(e,t,i)});if(u&&(n=(l=ue.buildFragment(e,this[0].ownerDocument,!1,!i&&this)).firstChild,1===l.childNodes.length&&(l=n),n)){for(r=(o=ue.map(b(l,"script"),m)).length;u>c;c++)s=l,c!==d&&(s=ue.clone(s,!0,!0),r&&ue.merge(o,b(s,"script"))),t.call(this[c],s,c);if(r)for(a=o[o.length-1].ownerDocument,ue.map(o,g),c=0;r>c;c++)s=o[c],nt.test(s.type||"")&&!ue._data(s,"globalEval")&&ue.contains(a,s)&&(s.src?ue._evalUrl(s.src):ue.globalEval((s.text||s.textContent||s.innerHTML||"").replace(rt,"")));l=n=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var i,n=0,s=[],r=ue(e),o=r.length-1;o>=n;n++)i=n===o?this:this.clone(!0),ue(r[n])[t](i),se.apply(s,i.get());return this.pushStack(s)}}),ue.extend({clone:function(e,t,i){var n,s,r,o,a,l=ue.contains(e.ownerDocument,e);if(ue.support.html5Clone||ue.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(at.innerHTML=e.outerHTML,at.removeChild(r=at.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(n=b(r),a=b(e),o=0;null!=(s=a[o]);++o)n[o]&&y(s,n[o]);if(t)if(i)for(a=a||b(e),n=n||b(r),o=0;null!=(s=a[o]);o++)_(s,n[o]);else _(e,r);return(n=b(r,"script")).length>0&&v(n,!l&&b(e,"script")),n=a=s=null,r},buildFragment:function(e,t,i,n){for(var s,r,o,a,l,c,u,h=e.length,d=p(t),f=[],m=0;h>m;m++)if((r=e[m])||0===r)if("object"===ue.type(r))ue.merge(f,r.nodeType?[r]:r);else if(Je.test(r)){for(a=a||d.appendChild(t.createElement("div")),l=(Qe.exec(r)||["",""])[1].toLowerCase(),u=ot[l]||ot._default,a.innerHTML=u[1]+r.replace(Ze,"<$1></$2>")+u[2],s=u[0];s--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Xe.test(r)&&f.push(t.createTextNode(Xe.exec(r)[0])),!ue.support.tbody)for(s=(r="table"!==l||Ke.test(r)?"<table>"!==u[1]||Ke.test(r)?0:a:a.firstChild)&&r.childNodes.length;s--;)ue.nodeName(c=r.childNodes[s],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(r));for(a&&d.removeChild(a),ue.support.appendChecked||ue.grep(b(f,"input"),w),m=0;r=f[m++];)if((!n||-1===ue.inArray(r,n))&&(o=ue.contains(r.ownerDocument,r),a=b(d.appendChild(r),"script"),o&&v(a),i))for(s=0;r=a[s++];)nt.test(r.type||"")&&i.push(r);return a=null,d},cleanData:function(e,t){for(var i,n,s,r,o=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(i=e[o]);o++)if((t||ue.acceptData(i))&&(r=(s=i[a])&&l[s])){if(r.events)for(n in r.events)u[n]?ue.event.remove(i,n):ue.removeEvent(i,n,r.handle);l[s]&&(delete l[s],c?delete i[a]:typeof i.removeAttribute!==G?i.removeAttribute(a):i[a]=null,te.push(s))}},_evalUrl:function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(i){ue(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var lt,ct,ut,ht=/alpha\([^)]*\)/i,dt=/opacity\s*=\s*([^)]*)/,pt=/^(top|right|bottom|left)$/,ft=/^(none|table(?!-c[ea]).+)/,mt=/^margin/,gt=RegExp("^("+he+")(.*)$","i"),vt=RegExp("^("+he+")(?!px)[a-z%]+$","i"),_t=RegExp("^([+-])=("+he+")","i"),yt={BODY:"block"},bt={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:0,fontWeight:400},xt=["Top","Right","Bottom","Left"],Et=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(e,i){return ue.access(this,function(e,i,n){var s,r,o={},a=0;if(ue.isArray(i)){for(r=ct(e),s=i.length;s>a;a++)o[i[a]]=ue.css(e,i[a],!1,r);return o}return n!==t?ue.style(e,i,n):ue.css(e,i)},e,i,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){E(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ut(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,l=ue.camelCase(i),c=e.style;if(i=ue.cssProps[l]||(ue.cssProps[l]=x(c,l)),a=ue.cssHooks[i]||ue.cssHooks[l],n===t)return a&&"get"in a&&(r=a.get(e,!1,s))!==t?r:c[i];if("string"===(o=typeof n)&&(r=_t.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ue.css(e,i)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||ue.cssNumber[l]||(n+="px"),ue.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,s))===t)))try{c[i]=n}catch(ee){}}},css:function(e,i,n,s){var r,o,a,l=ue.camelCase(i);return i=ue.cssProps[l]||(ue.cssProps[l]=x(e.style,l)),(a=ue.cssHooks[i]||ue.cssHooks[l])&&"get"in a&&(o=a.get(e,!0,n)),o===t&&(o=ut(e,i,s)),"normal"===o&&i in wt&&(o=wt[i]),""===n||n?(r=parseFloat(o),!0===n||ue.isNumeric(r)?r||0:o):o}}),e.getComputedStyle?(ct=function(t){return e.getComputedStyle(t,null)},ut=function(e,i,n){var s,r,o,a=n||ct(e),l=a?a.getPropertyValue(i)||a[i]:t,c=e.style;return a&&(""!==l||ue.contains(e.ownerDocument,e)||(l=ue.style(e,i)),vt.test(l)&&mt.test(i)&&(s=c.width,r=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=s,c.minWidth=r,c.maxWidth=o)),l}):Z.documentElement.currentStyle&&(ct=function(e){return e.currentStyle},ut=function(e,i,n){var s,r,o,a=n||ct(e),l=a?a[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),vt.test(l)&&!pt.test(i)&&(s=c.left,(o=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=s,o&&(r.left=o)),""===l?"auto":l}),ue.each(["height","width"],function(e,i){ue.cssHooks[i]={get:function(e,n,s){return n?0===e.offsetWidth&&ft.test(ue.css(e,"display"))?ue.swap(e,bt,function(){return C(e,i,s)}):C(e,i,s):t},set:function(e,t,n){var s=n&&ct(e);return k(e,t,n?T(e,i,n,ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,s),s):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(e,t){return dt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ue.trim(r.replace(ht,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ht.test(r)?r.replace(ht,s):r+" "+s)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(e,i){return i?ue.swap(e,{display:"inline-block"},ut,[e,"marginRight"]):t}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(e,i){ue.cssHooks[i]={get:function(e,n){return n?(n=ut(e,i),vt.test(n)?ue(e).position()[i]+"px":n):t}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ue.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ue.css(e,"display"))},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+xt[n]+t]=r[n]||r[n-2]||r[0];return s}},mt.test(e)||(ue.cssHooks[e+t].set=k)});var St=/%20/g,kt=/\[\]$/,Tt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type
;return this.name&&!ue(this).is(":disabled")&&Rt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:i.replace(Tt,"\r\n")}}).get()}}),ue.param=function(e,i){var n,s=[],r=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){r(this.name,this.value)});else for(n in e)N(n,e[n],i,r);return s.join("&").replace(St,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Pt,Nt,Mt=ue.now(),Ot=/\?/,Dt=/#.*$/,It=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,At=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,zt=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ht=ue.fn.load,$t={},Bt={},Wt="*/".concat("*");try{Nt=X.href}catch(ni){(Nt=Z.createElement("a")).href="",Nt=Nt.href}Pt=Ft.exec(Nt.toLowerCase())||[],ue.fn.load=function(e,i,n){if("string"!=typeof e&&Ht)return Ht.apply(this,arguments);var s,r,o,a=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l,e.length),e=e.slice(0,l)),ue.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(o="POST"),a.length>0&&ue.ajax({url:e,type:o,dataType:"html",data:i}).done(function(e){r=arguments,a.html(s?ue("<div>").append(ue.parseHTML(e)).find(s):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:At.test(Pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,ue.ajaxSettings),t):D(ue.ajaxSettings,e)},ajaxPrefilter:M($t),ajaxTransport:M(Bt),ajax:function(e,i){function n(e,i,n,s){var r,h,_,y,w,E=i;2!==b&&(b=2,l&&clearTimeout(l),u=t,a=s||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=I(d,x,n)),y=L(d,y,x,r),r?(d.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(ue.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(ue.etag[o]=w)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=y.state,h=y.data,r=!(_=y.error))):(_=E,(e||!E)&&(E="error",0>e&&(e=0))),x.status=e,x.statusText=(i||E)+"",r?m.resolveWith(p,[h,E,x]):m.rejectWith(p,[x,E,_]),x.statusCode(v),v=t,c&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,d,r?h:_]),g.fireWith(p,[x,E]),c&&(f.trigger("ajaxComplete",[x,d]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,r,o,a,l,c,u,h,d=ue.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=d.statusCode||{},_={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!h)for(h={};t=Lt.exec(a);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,_[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Nt)+"").replace(Dt,"").replace(zt,Pt[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ue.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(s=Ft.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]===Pt[1]&&s[2]===Pt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Pt[3]||("http:"===Pt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ue.param(d.data,d.traditional)),O($t,d,i,x),2===b)return x;for(r in(c=d.global)&&0==ue.active++&&ue.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!jt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Ot.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=It.test(o)?o.replace(It,"$1_="+Mt++):o+(Ot.test(o)?"&":"?")+"_="+Mt++)),d.ifModified&&(ue.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[o]),ue.etag[o]&&x.setRequestHeader("If-None-Match",ue.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wt+"; q=0.01":""):d.accepts["*"]),d.headers)x.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(p,x,d)||2===b))return x.abort();for(r in w="abort",{success:1,error:1,complete:1})x[r](d[r]);if(u=O(Bt,d,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,u.send(_,n)}catch(fe){if(!(2>b))throw fe;n(-1,fe)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,i){return ue.get(e,t,i,"script")}}),ue.each(["get","post"],function(e,i){ue[i]=function(e,n,s,r){return ue.isFunction(n)&&(r=r||s,s=n,n=t),ue.ajax({url:e,type:i,dataType:r,data:n,success:s})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=Z.head||ue("head")[0]||Z.documentElement;return{send:function(t,s){(i=Z.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Vt=[],Ut=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||ue.expando+"_"+Mt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(i,n,s){var r,o,a,l=!1!==i.jsonp&&(Ut.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(r=i.jsonpCallback=ue.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ut,"$1"+r):!1!==i.jsonp&&(i.url+=(Ot.test(i.url)?"&":"?")+i.jsonp+"="+r),i.converters["script json"]=function(){return a||ue.error(r+" was not called"),a[0]},i.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},s.always(function(){e[r]=o,i[r]&&(i.jsonpCallback=n.jsonpCallback,Vt.push(r)),a&&ue.isFunction(o)&&o(a[0]),a=o=t}),"script"):t});var qt,Yt,Gt=0,Xt=e.ActiveXObject&&function(){var e;for(e in qt)qt[e](t,!0)};ue.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||j()}:A,Yt=ue.ajaxSettings.xhr(),ue.support.cors=!!Yt&&"withCredentials"in Yt,(Yt=ue.support.ajax=!!Yt)&&ue.ajaxTransport(function(i){var n;if(!i.crossDomain||ue.support.cors)return{send:function(s,r){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)l.setRequestHeader(a,s[a])}catch(J){}l.send(i.hasContent&&i.data||null),n=function(e,s){var a,c,u,h;try{if(n&&(s||4===l.readyState))if(n=t,o&&(l.onreadystatechange=ue.noop,Xt&&delete qt[o]),s)4!==l.readyState&&l.abort();else{h={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(ie){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(ne){s||r(-1,ne)}h&&r(a,u,h,c)},i.async?4===l.readyState?setTimeout(n):(o=++Gt,Xt&&(qt||(qt={},ue(e).unload(Xt)),qt[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}});var Zt,Qt,Kt=/^(?:toggle|show|hide)$/,Jt=RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),ei=/queueHooks$/,ti=[B],ii={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=Jt.exec(t),r=s&&s[3]||(ue.cssNumber[e]?"":"px"),o=(ue.cssNumber[e]||"px"!==r&&+n)&&Jt.exec(ue.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==r){r=r||o[3],s=s||[],o=+n||1;do{o/=a=a||".5",ue.style(i.elem,e,o+r)}while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(o=i.start=+o||+n||0,i.unit=r,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};ue.Animation=ue.extend(H,{tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],ii[i]=ii[i]||[],ii[i].unshift(t)},prefilter:function(e,t){t?ti.unshift(e):ti.push(e)}}),ue.Tween=W,W.prototype={constructor:W,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ue.cssNumber[i]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,i=W.propHooks[this.prop];return this.pos=t=this.options.duration?ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ue.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ue.cssProps[e.prop]]||ue.cssHooks[e.prop])?ue.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.each(["toggle","show","hide"],function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(V(t,!0),e,n,s)}}),ue.fn.extend({fadeTo:function(e,t,i,n){return this.filter(E).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=ue.isEmptyObject(e),r=ue.speed(t,i,n),o=function(){var t=H(this,ue.extend({},e),r);(s||ue._data(this,"finish"))&&t.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,i,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=ue.timers,o=ue._data(this);if(i)o[i]&&o[i].stop&&s(o[i]);else for(i in o)o[i]&&o[i].stop&&ei.test(i)&&s(o[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));(t||!n)&&ue.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=ue._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=ue.timers,o=n?n.length:0;for(i.finish=!0,ue.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ue.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ue.speed=function(e,t,i){var n=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||ue.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ue.isFunction(t)&&t};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ue.timers=[],ue.fx=W.prototype.init,ue.fx.tick=function(){var e,i=ue.timers,n=0;for(Zt=ue.now();i.length>n;n++)(e=i[n])()||i[n]!==e||i.splice(n--,1);i.length||ue.fx.stop(),Zt=t},ue.fx.timer=function(e){e()&&ue.timers.push(e)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Qt||(Qt=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Qt),Qt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length}),ue.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var i,n,s={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(i=o.documentElement,ue.contains(i,r)?(typeof r.getBoundingClientRect!==G&&(s=r.getBoundingClientRect()),n=U(o),{top:s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):s):void 0},ue.offset={setOffset:function(e,t,i){var n=ue.css(e,"position");"static"===n&&(e.style.position="relative");var s,r,o=ue(e),a=o.offset(),l=ue.css(e,"top"),c=ue.css(e,"left"),u={},h={};("absolute"===n||"fixed"===n)&&ue.inArray("auto",[l,c])>-1?(s=(h=o.position()).top,r=h.left):(s=parseFloat(l)||0,r=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):o.css(u)}},ue.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(i=e.offset()),i.top+=ue.css(e[0],"borderTopWidth",!0),i.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ue.css(n,"marginTop",!0),left:t.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||Q})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);ue.fn[e]=function(s){return ue.access(this,function(e,s,r){var o=U(e);return r===t?o?i in o?o[i]:o.document.documentElement[s]:e[s]:(o?o.scrollTo(n?ue(o).scrollLeft():r,n?r:ue(o).scrollTop()):e[s]=r,t)},e,s,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(e,i){ue.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,s){ue.fn[s]=function(s,r){var o=arguments.length&&(n||"boolean"!=typeof s),a=n||(!0===s||!0===r?"margin":"border");return ue.access(this,function(i,n,s){var r;return ue.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(r=i.documentElement,Math.max(i.body["scroll"+e],r["scroll"+e],i.body["offset"+e],r["offset"+e],r["client"+e])):s===t?ue.css(i,n,a):ue.style(i,n,s,a)},i,o?s:t,o,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(e.jQuery=e.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2001 Robert Penner
 * All rights reserved.
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,s){return jQuery.easing[jQuery.easing.def](e,t,i,n,s)},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,s){return n*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,s){return n*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,n,s){return 0==t?i:n*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,n,s){return t==s?i+n:n*(1-Math.pow(2,-10*t/s))+i},easeInOutExpo:function(e,t,i,n,s){return 0==t?i:t==s?i+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(o||(o=.3*s),a<Math.abs(n)){a=n;r=o/4}else r=o/(2*Math.PI)*Math.asin(n/a);return-a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/o)+i},easeOutElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(o||(o=.3*s),a<Math.abs(n)){a=n;r=o/4}else r=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin((t*s-r)*(2*Math.PI)/o)+n+i},easeInOutElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(2==(t/=s/2))return i+n;if(o||(o=s*(.3*1.5)),a<Math.abs(n)){a=n;r=o/4}else r=o/(2*Math.PI)*Math.asin(n/a);return t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/o)*-.5+i:a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/o)*.5+n+i},easeInBack:function(e,t,i,n,s,r){return r==undefined&&(r=1.70158),n*(t/=s)*t*((r+1)*t-r)+i},easeOutBack:function(e,t,i,n,s,r){return r==undefined&&(r=1.70158),n*((t=t/s-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(e,t,i,n,s,r){return r==undefined&&(r=1.70158),(t/=s/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+i:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},easeInBounce:function(e,t,i,n,s){return n-jQuery.easing.easeOutBounce(e,s-t,0,n,s)+i},easeOutBounce:function(e,t,i,n,s){return(t/=s)<1/2.75?n*(7.5625*t*t)+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,s){return t<s/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,s)+i:.5*jQuery.easing.easeOutBounce(e,2*t-s,0,n,s)+.5*n+i}}),window.console&&console.log||function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],i=t.length,n=window.console={};i--;)n[t[i]]=e}(),function(e,t,i){function n(e){var t=E.className,i=x._config.classPrefix||"";if(S&&(t=t.baseVal),x._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}x._config.enableClasses&&(t+=" "+i+e.join(" "+i),S?E.className.baseVal=t:E.className=t)}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):S?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function r(e,t){return typeof e===t}function o(){var e,t,i,n,s,o;for(var a in b){if(e=[],(t=b[a]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=r(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s++)1===(o=e[s].split(".")).length?x[o[0]]=n:(!x[o[0]]||x[o[0]]instanceof Boolean||(x[o[0]]=new Boolean(x[o[0]])),x[o[0]][o[1]]=n),y.push((n?"":"no-")+o.join("-"))}}function a(){var e=t.body;return e||((e=s(S?"svg":"body")).fake=!0),e}function l(e,t){if("object"==typeof e)for(var i in e)T(e,i)&&l(i,e[i]);else{var s=(e=e.toLowerCase()).split("."),r=x[s[0]];if(2==s.length&&(r=r[s[1]]),void 0!==r)return x;t="function"==typeof t?t():t,1==s.length?x[s[0]]=t:(!x[s[0]]||x[s[0]]instanceof Boolean||(x[s[0]]=new Boolean(x[s[0]])),x[s[0]][s[1]]=t),n([(t&&0!=t?"":"no-")+s.join("-")]),x._trigger(e,t)}return x}function c(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function u(e,i,n,r){var o,l,c,u,h="modernizr",d=s("div"),p=a();if(parseInt(n,10))for(;n--;)(c=s("div")).id=r?r[n]:h+(n+1),d.appendChild(c);return(o=s("style")).type="text/css",o.id="s"+h,(p.fake?p:d).appendChild(o),p.appendChild(d),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),d.id=h,p.fake&&(p.style.background="",p.style.overflow="hidden",u=E.style.overflow,E.style.overflow="hidden",E.appendChild(p)),l=i(d,e),p.fake?(p.parentNode.removeChild(p),E.style.overflow=u,E.offsetHeight):d.parentNode.removeChild(d),!!l}function h(e,t){return!!~(""+e).indexOf(t)}function d(e,t){return function(){return e.apply(t,arguments)}}function p(e,t,i){var n;for(var s in e)if(e[s]in t)return!1===i?e[s]:r(n=t[e[s]],"function")?d(n,i||t):n;return!1}function f(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(t,n){var s=t.length;if("CSS"in e&&"supports"in e.CSS){for(;s--;)if(e.CSS.supports(f(t[s]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];s--;)r.push("("+f(t[s])+":"+n+")");return u("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return i}function g(e,t,n,o){function a(){u&&(delete L.style,delete L.modElem)}if(o=!r(o,"undefined")&&o,!r(n,"undefined")){var l=m(e,n);if(!r(l,"undefined"))return l}for(var u,d,p,f,g,v=["modernizr","tspan"];!L.style;)u=!0,L.modElem=s(v.shift()),L.style=L.modElem.style;for(p=e.length,d=0;p>d;d++)if(f=e[d],g=L.style[f],h(f,"-")&&(f=c(f)),L.style[f]!==i){if(o||r(n,"undefined"))return a(),"pfx"!=t||f;try{L.style[f]=n}catch(_){}if(L.style[f]!=g)return a(),"pfx"!=t||f}return a(),!1}function v(e,t,i,n,s){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+M.join(o+" ")+o).split(" ");return r(t,"string")||r(t,"undefined")?g(a,t,n,s):p(a=(e+" "+D.join(o+" ")+o).split(" "),t,i)}function _(e,t,n){return v(e,i,i,t,n)}var y=[],b=[],w={_version:"3.0.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){b.push({name:e,fn:t,options:i})},addAsyncTest:function(e){b.push({name:null,fn:e})}},x=function(){};x.prototype=w,(x=new x).addTest("cookies",function(){try{t.cookie="cookietest=1";var e=-1!=t.cookie.indexOf("cookietest=");return t.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(i){return!1}}),x.addTest("geolocation","geolocation"in navigator),x.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),x.addTest("picture","HTMLPictureElement"in e);var E=t.documentElement,S="svg"===E.nodeName.toLowerCase();x.addTest("canvas",function(){var e=s("canvas");return!(!e.getContext||!e.getContext("2d"))}),x.addTest("video",function(){var e=s("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(i){}return t}),x.addTest("webgl",function(){var t=s("canvas"),i="probablySupportsContext"in t?"probablySupportsContext":"supportsContext";return i in t?t[i]("webgl")||t[i]("experimental-webgl"):"WebGLRenderingContext"in e}),x.addTest("srcdoc","srcdoc"in s("iframe"));var k=w._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];w._prefixes=k;var T,C="CSS"in e&&"supports"in e.CSS,R="supportsCSS"in e;x.addTest("supports",C||R),function(){var e={}.hasOwnProperty;T=r(e,"undefined")||r(e.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(t,i){return e.call(t,i)}}(),w._l={},w.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),x.hasOwnProperty(e)&&setTimeout(function(){x._trigger(e,x[e])},0)},w._trigger=function(e,t){if(this._l[e]){var i=this._l[e];setTimeout(function(){var e;for(e=0;e<i.length;e++)(0,i[e])(t)},0),delete this._l[e]}},x._q.push(function(){w.addTest=l}),x.addAsyncTest(function(){var i,n=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},r=function(e,t){var i=!!e;if(i&&((i=new Boolean(i)).blocked="blocked"===e),l("flash",function(){return i}),t&&d.contains(t)){for(;t.parentNode!==d;)t=t.parentNode;d.removeChild(t)}};try{i="ActiveXObject"in e&&"Pan"in new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(c){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||i)||S)r(!1);else{var o,u,h=s("embed"),d=a();if(h.type="application/x-shockwave-flash",d.appendChild(h),E.appendChild(d),!("Pan"in h||i))return r("blocked",h),void n(d);o=function(){return E.contains(d)?(E.contains(h)?(u=h.style.cssText,r(""===u||"blocked",h)):r("blocked"),void n(d)):(d=t.body||d,(h=s("embed")).type="application/x-shockwave-flash",d.appendChild(h),setTimeout(o,1e3))},setTimeout(o,10)}});var P=w.testStyles=u;x.addTest("hiddenscroll",function(){return P("#modernizr {width:100px;height:100px;overflow:scroll}",function(e){return e.offsetWidth===e.clientWidth})}),x.addTest("touchevents",function(){var i;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)i=!0;else{var n=["@media (",k.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");P(n,function(e){i=9===e.offsetTop})}return i});var N="Moz O ms Webkit",M=w._config.usePrefixes?N.split(" "):[];w._cssomPrefixes=M;var O=function(t){var n,s=k.length,r=e.CSSRule;if(void 0===r)return i;if(!t)return!1;if((n=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+t;for(var o=0;s>o;o++){var a=k[o];if(a.toUpperCase()+"_"+n in r)return"@-"+a.toLowerCase()+"-"+t}return!1};w.atRule=O;var D=w._config.usePrefixes?N.toLowerCase().split(" "):[];w._domPrefixes=D;var I={elem:s("modernizr")};x._q.push(function(){delete I.elem});var L={style:I.elem.style};x._q.unshift(function(){delete L.style}),w.testAllProps=v;var A=w.prefixed=function(e,t,i){return 0===e.indexOf("@")?O(e):(-1!=e.indexOf("-")&&(e=c(e)),t?v(e,t,i):v(e,"pfx"))};x.addTest("fullscreen",!(!A("exitFullscreen",t,!1)&&!A("cancelFullScreen",t,!1))),w.testAllProps=_,x.addTest("flexbox",_("flexBasis","1px",!0)),x.addTest("cssanimations",_("animationName","a",!0)),x.addTest("flexboxlegacy",_("boxDirection","reverse",!0)),x.addTest("flexboxtweener",_("flexAlign","end",!0)),x.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&_("transform","scale(1)",!0)}),x.addTest("csstransforms3d",function(){var e,t=!!_("perspective","1px",!0),i=x._config.usePrefixes;t&&(!i||"webkitPerspective"in E.style)&&(x.supports?e="@supports (perspective: 1px)":(e="@media (transform-3d)",i&&(e+=",(-webkit-transform-3d)")),P(e+="{#modernizr{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0}}",function(e){t=9===e.offsetLeft&&5===e.offsetHeight}));return t}),x.addTest("csstransitions",_("transition","all",!0)),x.addTest("preserve3d",_("transformStyle","preserve-3d")),o(),n(y),delete w.addTest,delete w.addAsyncTest;for(var j=0;j<x._q.length;j++)x._q[j]();e.Modernizr=x}(window,document),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(u){return}var i,n=e.href||e.getAttribute("data-href"),s=n.replace(/[^\/]+$/,""),r=(/^[a-z]{3,10}:/.exec(s)||[""])[0],o=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(s)||[""])[0],a=/^([^?]*)\??/.exec(n)[1],l=e.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&i()},i=function(){if((i=c.responseText)&&e.parentNode&&(!c.status||400>c.status||600<c.status)){if(i=t.fix(i,!0,e),s){var i=i.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+r+i+'")':/^\//.test(i)?'url("'+o+i+'")':/^\?/.test(i)?'url("'+a+i+'")':'url("'+s+i+'")'}),n=s.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");i=i.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1")}(n=document.createElement("style")).textContent=i,n.media=e.media,n.disabled=e.disabled,n.setAttribute("data-href",e.getAttribute("href")),l.insertBefore(n,e),l.removeChild(e),n.media=e.media}};try{c.open("GET",n),c.send(null)}catch(h){"undefined"!=typeof XDomainRequest&&((c=new XDomainRequest).onerror=c.onprogress=function(){},c.onload=i,c.open("GET",n),c.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var i=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=i}},styleAttribute:function(e){var i=e.getAttribute("style");i=t.fix(i,!1,e);e.setAttribute("style",i)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,i){(t.fixers=t.fixers||[]).splice(void 0===i?t.fixers.length:i,0,e)},fix:function(e,i,n){for(var s=0;s<t.fixers.length;s++)e=t.fixers[s](e,i,n)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(e){function t(e,t,n,s,r){return(e=i[e]).length&&(e=RegExp(t+"("+e.join("|")+")"+n,"gi"),r=r.replace(e,s)),r}if(window.StyleFix&&window.getComputedStyle){var i=window.PrefixFree={prefixCSS:function(e,n){var s=i.prefix;if(-1<i.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+s+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+s+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+s+"$2:",e),i.properties.length){var r=RegExp("\\b("+i.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(r,s+"$1")},e)}return n&&(e=t("selectors","","\\b",i.prefixSelector,e),e=t("atrules","@","\\b","@"+s+"$1",e)),(e=e.replace(RegExp("-"+s,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,i.prefix)},property:function(e){return(i.properties.indexOf(e)?i.prefix:"")+e},value:function(e){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+i.prefix+"$2(",e),t("keywords","(^|\\s)","(\\s|$)","$1"+i.prefix+"$2$3",e)},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+i.prefix})},prefixProperty:function(e,t){var n=i.prefix+e;return t?StyleFix.camelCase(n):n}},n={},s=[],r=getComputedStyle(document.documentElement,null),o=document.createElement("div").style,a=function(e){if("-"===e.charAt(0)){s.push(e);var t=(e=e.split("-"))[1];for(n[t]=++n[t]||1;3<e.length;)e.pop(),t=e.join("-"),StyleFix.camelCase(t)in o&&-1===s.indexOf(t)&&s.push(t)}};if(0<r.length)for(var l=0;l<r.length;l++)a(r[l]);else for(var c in r)a(StyleFix.deCamelCase(c));var u,h;l=0;for(h in n)l<(r=n[h])&&(u=h,l=r);for(i.prefix="-"+u+"-",i.Prefix=StyleFix.camelCase(i.prefix),i.properties=[],l=0;l<s.length;l++)0===(c=s[l]).indexOf(i.prefix)&&(u=c.slice(i.prefix.length),StyleFix.camelCase(u)in o||i.properties.push(u));"Ms"==i.Prefix&&!("transform"in o)&&!("MsTransform"in o)&&"msTransform"in o&&i.properties.push("transform","transform-origin"),i.properties.sort(),u=function(e,t){return p[t]="",p[t]=e,!!p[t]},(h={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}})["repeating-linear-gradient"]=h["repeating-radial-gradient"]=h["radial-gradient"]=h["linear-gradient"],l={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display"},i.functions=[],i.keywords=[];var d,p=document.createElement("div").style;for(d in h)r=(a=h[d]).property,!u(a=d+"("+a.params+")",r)&&u(i.prefix+a,r)&&i.functions.push(d);for(var f in l)!u(f,r=l[f])&&u(i.prefix+f,r)&&i.keywords.push(f);d=function(e){return g.textContent=e+"{}",!!g.sheet.cssRules.length},f={":read-only":null,":read-write":null,":any-link":null,"::selection":null},u={keyframes:"name",viewport:null,document:'regexp(".")'},i.selectors=[],i.atrules=[];var m,g=e.appendChild(document.createElement("style"));for(m in f)!d(h=m+(f[m]?"("+f[m]+")":""))&&d(i.prefixSelector(h))&&i.selectors.push(m);for(var v in u)!d("@"+(h=v+" "+(u[v]||"")))&&d("@"+i.prefix+h)&&i.atrules.push(v);e.removeChild(g),i.valueProperties=["transition","transition-property"],e.className+=" "+i.prefix,StyleFix.register(i.prefixCSS)}}(document.documentElement),function(e,t){if(e&&t)for(var i=0;i<t.properties.length;i++){var n=t.properties[i],s=StyleFix.camelCase(n),r=t.prefixProperty(n,!0);e.cssProps[s]=r}}(window.jQuery,window.PrefixFree),
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
window.matchMedia=window.matchMedia||function(e){"use strict";var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,s=e.createElement("body"),r=e.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),t=42===r.offsetWidth,i.removeChild(s),{matches:t,media:e}}}(document),
/*! Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */
function(e){"use strict";function t(){w(!0)}var i={};if(e.respond=i,i.update=function(){},i.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches,!i.mediaQueriesSupported){var n,s,r,o=e.document,a=o.documentElement,l=[],c=[],u=[],h={},d=30,p=o.getElementsByTagName("head")[0]||a,f=o.getElementsByTagName("base")[0],m=p.getElementsByTagName("link"),g=[],v=function(){for(var t=0;m.length>t;t++){var i=m[t],n=i.href,s=i.media,r=i.rel&&"stylesheet"===i.rel.toLowerCase();n&&r&&!h[n]&&(i.styleSheet&&i.styleSheet.rawCssText?(y(i.styleSheet.rawCssText,n,s),h[n]=!0):(!/^([a-zA-Z:]*\/\/)/.test(n)&&!f||n.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&g.push({href:n,media:s}))}_()},_=function(){if(g.length){var t=g.shift();x(t.href,function(i){y(i,t.href,t.media),h[t.href]=!0,e.setTimeout(function(){_()},0)})}},y=function(e,t,i){var n=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),s=n&&n.length||0,r=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},o=!s&&i;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),o&&(s=1);for(var a=0;s>a;a++){var u,h,d,p;o?(u=i,c.push(r(e))):(u=n[a].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,c.push(RegExp.$2&&r(RegExp.$2))),p=(d=u.split(",")).length;for(var f=0;p>f;f++)h=d[f],l.push({media:h.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:c.length-1,hasquery:h.indexOf("(")>-1,minw:h.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:h.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}w()},b=function(){var e,t=o.createElement("div"),i=o.body,n=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||((i=n=o.createElement("body")).style.background="none"),i.appendChild(t),a.insertBefore(i,a.firstChild),e=t.offsetWidth,n?a.removeChild(i):i.removeChild(t),r=parseFloat(e)},w=function(t){var i="clientWidth",h=a[i],f="CSS1Compat"===o.compatMode&&h||o.body[i]||h,g={},v=m[m.length-1],_=(new Date).getTime();if(t&&n&&d>_-n)return e.clearTimeout(s),void(s=e.setTimeout(w,d));for(var y in n=_,l)if(l.hasOwnProperty(y)){var x=l[y],E=x.minw,S=x.maxw,k=null===E,T=null===S,C="em";E&&(E=parseFloat(E)*(E.indexOf(C)>-1?r||b():1)),S&&(S=parseFloat(S)*(S.indexOf(C)>-1?r||b():1)),x.hasquery&&(k&&T||!(k||f>=E)||!(T||S>=f))||(g[x.media]||(g[x.media]=[]),g[x.media].push(c[x.rules]))}for(var R in u)u.hasOwnProperty(R)&&u[R]&&u[R].parentNode===p&&p.removeChild(u[R]);for(var P in g)if(g.hasOwnProperty(P)){var N=o.createElement("style"),M=g[P].join("\n");N.type="text/css",N.media=P,p.insertBefore(N,v.nextSibling),N.styleSheet?N.styleSheet.cssText=M:N.appendChild(o.createTextNode(M)),u.push(N)}},x=function(e,t){var i=E();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},E=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(o){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}();v(),i.update=v,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),function(e){function t(t){var i=(t||"").split(/ /),n={center:"50%",left:"0%",right:"100%",top:"0%",bottom:"100%"},s=function(e){var t=(n[i[e]]||i[e]||"50%").match(/^([+-]=)?([+-]?\d+(\.\d*)?)(.*)$/);i[e]=[t[1],parseFloat(t[2]),t[4]||"px"]};return 1==i.length&&e.inArray(i[0],["top","bottom"])>-1&&(i[1]=i[0],i[0]="50%"),s(0),s(1),i}function i(t){t.set||n(t),e(t.elem).css("background-position",t.pos*(t.end[0][1]-t.start[0][1])+t.start[0][1]+t.end[0][2]+" "+(t.pos*(t.end[1][1]-t.start[1][1])+t.start[1][1]+t.end[1][2]))}function n(i){i.start=t(e(i.elem).css("backgroundPosition")),i.end=t(i.end);for(var n=0;n<i.end.length;n++)i.end[n][0]&&(i.end[n][1]=i.start[n][1]+("-="==i.end[n][0]?-1:1)*i.end[n][1]);i.set=!0}!!e.Tween?e.Tween.propHooks.backgroundPosition={get:function(i){return t(e(i.elem).css(i.prop))},set:i}:e.fx.step.backgroundPosition=i}(jQuery),
/*
 * SimpleModal 1.4.4 - jQuery Plugin
 * http://simplemodal.com/
 * Copyright (c) 2013 Eric Martin
 * Licensed under MIT and GPL
 * Date: Sun, Jan 20 2013 15:58:56 -0800
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t,i,n=[],s=e(document),r=navigator.userAgent.toLowerCase(),o=e(window),a=[],l=null,c=/msie/.test(r)&&!/opera/.test(r),u=/opera/.test(r);t=c&&/msie 6./.test(r)&&"object"!=typeof window.XMLHttpRequest,i=c&&/msie 7.0/.test(r),e.modal=function(t,i){return e.modal.impl.init(t,i)},e.modal.close=function(){e.modal.impl.close()},e.modal.focus=function(t){e.modal.impl.focus(t)},e.modal.setContainerDimensions=function(){e.modal.impl.setContainerDimensions()},e.modal.setPosition=function(){e.modal.impl.setPosition()},e.modal.update=function(t,i){e.modal.impl.update(t,i)},e.fn.modal=function(t){return e.modal.impl.init(this,t)},e.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},e.modal.impl={d:{},init:function(t,i){if(this.d.data)return!1;if(l=c&&!e.support.boxModel,this.o=e.extend({},e.modal.defaults,i),this.zIndex=this.o.zIndex,this.occb=!1,"object"==typeof t)t=t instanceof e?t:e(t),this.d.placeholder=!1,0<t.parent().parent().size()&&(t.before(e("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=t.css("display"),!this.o.persist)&&(this.d.orig=t.clone(!0));else{if("string"!=typeof t&&"number"!=typeof t)return alert("SimpleModal Error: Unsupported data type: "+typeof t),this;t=e("<div></div>").html(t)}return this.create(t),this.open(),e.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]),this},create:function(i){this.getDimensions(),this.o.modal&&t&&(this.d.iframe=e('<iframe src="javascript:false;"></iframe>').css(e.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:a[0],width:a[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo)),this.d.overlay=e("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(e.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?n[0]:0,width:this.o.modal?n[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo),this.d.container=e("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(e.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?e(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo),this.d.wrap=e("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container),this.d.data=i.attr("id",i.attr("id")||this.o.dataId).addClass("simplemodal-data").css(e.extend(this.o.dataCss,{display:"none"})).appendTo("body"),this.setContainerDimensions(),this.d.data.appendTo(this.d.wrap),(t||l)&&this.fixIE()},bindEvents:function(){var i=this;e("."+i.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),i.close()}),i.o.modal&&i.o.close&&i.o.overlayClose&&i.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),i.close()}),s.bind("keydown.simplemodal",function(e){i.o.modal&&9===e.keyCode?i.watchTab(e):i.o.close&&i.o.escClose&&27===e.keyCode&&(e.preventDefault(),i.close())}),o.bind("resize.simplemodal orientationchange.simplemodal",function(){i.getDimensions(),i.o.autoResize?i.setContainerDimensions():i.o.autoPosition&&i.setPosition(),t||l?i.fixIE():i.o.modal&&(i.d.iframe&&i.d.iframe.css({height:a[0],width:a[1]}),i.d.overlay.css({height:n[0],width:n[1]}))})},unbindEvents:function(){e("."+this.o.closeClass).unbind("click.simplemodal"),s.unbind("keydown.simplemodal"),o.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var t=this.o.position;e.each([this.d.iframe||null,this.o.modal?this.d.overlay:null,"fixed"===this.d.container.css("position")?this.d.container:null],function(e,i){if(i){var n,s,r=i[0].style;if(r.position="absolute",2>e)r.removeExpression("height"),r.removeExpression("width"),r.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),r.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else t&&t.constructor===Array?(n=-1===(n=t[0]?"number"==typeof t[0]?t[0].toString():t[0].replace(/px/,""):i.css("top").replace(/px/,"")).indexOf("%")?n+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(n.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',t[1]&&(s=-1===(s="number"==typeof t[1]?t[1].toString():t[1].replace(/px/,"")).indexOf("%")?s+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(s.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(n='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',s='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),r.removeExpression("top"),r.removeExpression("left"),r.setExpression("top",n),r.setExpression("left",s)}})},focus:function(t){var i=this,n=(t=t&&-1!==e.inArray(t,["first","last"])?t:"first",e(":input:enabled:visible:"+t,i.d.wrap));setTimeout(function(){0<n.length?n.focus():i.d.wrap.focus()},10)},getDimensions:function(){var e="undefined"==typeof window.innerHeight?o.height():window.innerHeight;n=[s.height(),s.width()],a=[e,o.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:0<e.indexOf("%")?parseInt(e.replace(/%/,""))/100*("h"===t?a[0]:a[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){if(!this.d.data)return!1;this.d.origHeight=this.getVal(e,"h"),this.d.origWidth=this.getVal(t,"w"),this.d.data.hide(),e&&this.d.container.css("height",e),t&&this.d.container.css("width",t),this.setContainerDimensions(),this.d.data.show(),this.o.focus&&this.focus(),this.unbindEvents(),this.bindEvents()},setContainerDimensions:function(){var e=t||i,n=this.d.origHeight?this.d.origHeight:u?this.d.container.height():this.getVal(e?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),s=(e=this.d.origWidth?this.d.origWidth:u?this.d.container.width():this.getVal(e?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),this.d.data.outerHeight(!0)),r=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||n,this.d.origWidth=this.d.origWidth||e;var o=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,l=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,c=(o=o&&o<a[0]?o:a[0],l=l&&l<a[1]?l:a[1],this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto");n=n?this.o.autoResize&&n>o?o:n<c?c:n:s?s>o?o:this.o.minHeight&&"auto"!==c&&s<c?c:s:c,o=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",e=e?this.o.autoResize&&e>l?l:e<o?o:e:r?r>l?l:this.o.minWidth&&"auto"!==o&&r<o?o:r:o;this.d.container.css({height:n,width:e}),this.d.wrap.css({overflow:s>n||r>e?"auto":"visible"}),this.o.autoPosition&&this.setPosition()},setPosition:function(){var e,t;e=a[0]/2-this.d.container.outerHeight(!0)/2,t=a[1]/2-this.d.container.outerWidth(!0)/2;var i="fixed"!==this.d.container.css("position")?o.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(e=i+(this.o.position[0]||e),t=this.o.position[1]||t):e=i+e,this.d.container.css({left:t,top:e})},watchTab:function(t){0<e(t.target).parents(".simplemodal-container").length?(this.inputs=e(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),(!t.shiftKey&&t.target===this.inputs[this.inputs.length-1]||t.shiftKey&&t.target===this.inputs[0]||0===this.inputs.length)&&(t.preventDefault(),this.focus(t.shiftKey?"last":"first"))):(t.preventDefault(),this.focus())},open:function(){this.d.iframe&&this.d.iframe.show(),e.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show()),this.o.focus&&this.focus(),this.bindEvents()},close:function(){if(!this.d.data)return!1;if(this.unbindEvents(),e.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var t=e("#simplemodal-placeholder");this.o.persist?t.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),t.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove(),this.d.overlay.hide(),this.d.iframe&&this.d.iframe.hide().remove(),this.d.overlay.remove(),this.d={}}}}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){"use strict";function t(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function n(e,t){for(var n in e){var s=e[n];if(!i(s,"-")&&void 0!==m[s])return"pfx"!=t||s}return!1}function s(e,i,n){for(var s in e){var r=i[e[s]];if(void 0!==r)return!1===n?e[s]:t(r,"function")?r.bind(n||i):r}return!1}function r(e,i,r){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+v.join(o+" ")+o).split(" ");return t(i,"string")||t(i,"undefined")?n(a,i):s(a=(e+" "+_.join(o+" ")+o).split(" "),i,r)}var o,a,l={image:null,imageAttribute:"image",holderClass:"imageHolder",imgClass:"img-holder-img",container:e("body"),windowObject:e(window),speed:.2,coverRatio:.75,holderMinHeight:200,holderMaxHeight:null,extraHeight:0,mediaWidth:1600,mediaHeight:900,parallax:!0,touch:!1},c="imageScroll",u="plugin_"+c,h=function(e,t){return function(){return e.apply(t,arguments)}},d={},p=document.documentElement,f="imageScrollModernizr",m=document.createElement(f).style,g="Webkit Moz O ms",v=g.split(" "),_=g.toLowerCase().split(" "),y={},b=0,w="",x=function(e,t,i,n){var s,r,o,a,l=document.createElement("div"),c=document.body,u=c||document.createElement("body");if(parseInt(i,10))for(;i--;)(o=document.createElement("div")).id=n?n[i]:f+(i+1),l.appendChild(o);return s=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),l.id=f,(c?l:u).innerHTML+=s,u.appendChild(l),c||(u.style.background="",u.style.overflow="hidden",a=p.style.overflow,p.style.overflow="hidden",p.appendChild(u)),r=t(l,e),c?l.parentNode.removeChild(l):(u.parentNode.removeChild(u),p.style.overflow=a),!!r};return y.csstransforms=function(){return!!r("transform")},y.csstransforms3d=function(){var e=!!r("perspective");return e&&"webkitPerspective"in p.style&&x("@media (transform-3d),(-webkit-transform-3d){#imageScrollModernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},d.prefixed=function(e,t,i){return t?r(e,t,i):r(e,"pfx")},window.requestAnimationFrame=d.prefixed("requestAnimationFrame",window)||function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-b)),n=window.setTimeout(function(){e(t+i)},i);return b=t+i,n},y.csstransforms3d()?w="csstransforms3d":y.csstransforms()&&(w="csstransforms"),""!==w&&(a=d.prefixed("transform")),o=function(t,i){this.$imageHolder=e(t),this.settings=e.extend({},l,i),this.image=this.$imageHolder.data(this.settings.imageAttribute)||this.settings.image,this.mediaWidth=this.$imageHolder.data("width")||this.settings.mediaWidth,this.mediaHeight=this.$imageHolder.data("height")||this.settings.mediaHeight,this.coverRatio=this.$imageHolder.data("cover-ratio")||this.settings.coverRatio,this.holderMinHeight=this.$imageHolder.data("min-height")||this.settings.holderMinHeight,this.holderMaxHeight=this.$imageHolder.data("max-height")||this.settings.holderMaxHeight,this.extraHeight=this.$imageHolder.data("extra-height")||this.settings.extraHeight,this.ticking=!1,this.refresh=h(this.refresh,this),this._onScroll=h(this._onScroll,this),this._defaults=l,this._name=c,this.init()},e.extend(o.prototype,{constructor:o,init:function(){if(!this.image)throw new Error("You need to provide either a data-img attr or an image option");this.$scrollingElement=e("<img/>",{src:this.image}).addClass(this.settings.imgClass),!0===this.settings.touch?this.$scrollingElement.css({maxWidth:"100%"}).prependTo(this.$imageHolder):!0===this.settings.parallax?(this.$scrollerHolder=e("<div/>",{html:this.$imageHolder.html()}).css({top:0,visibility:"hidden",position:"fixed",overflow:"hidden"}).addClass(this.settings.holderClass).prependTo(this.settings.container),this.$imageHolder.css("visibility","hidden").empty(),this.$scrollingElement.css({position:"absolute",top:0,left:0,visibility:"hidden",maxWidth:"none"}).prependTo(this.$scrollerHolder)):(this.$scrollerHolder=this.$imageHolder.css({overflow:"hidden"}),this.$scrollingElement.css({position:"relative",overflow:"hidden"}).prependTo(this.$imageHolder)),!1===this.settings.touch&&(this._bindEvents(),this.refresh())},_adjustImgHolderHeights:function(){var e,t,i,n,s,r,o,a,l,c=this.settings.windowObject.height(),u=this.settings.windowObject.width()-this.settings.container.offset().left,h=this.coverRatio*c;h=null===this.holderMaxHeight||this.holderMaxHeight>h?Math.floor(h):this.holderMaxHeight,h=this.holderMinHeight<h?Math.floor(h):this.holderMinHeight,h+=this.extraHeight,a=Math.floor(c-(c-h)*this.settings.speed),(r=Math.round(this.mediaWidth*(a/this.mediaHeight)))>=u?o=a:(r=u,o=Math.round(this.mediaHeight*(r/this.mediaWidth))),l=a-h,s=c+h,n=2*c*(1-this.settings.speed)-l,e=-(l/2+(o-a)/2),t=Math.round(-.5*(r-u)),i=e-n/2,this.$scrollingElement.css({height:o,width:r}),this.$imageHolder.height(h),this.$scrollerHolder.css({height:h,width:r}),this.scrollingState={winHeight:c,fromY:i,imgTopPos:e,imgLeftPos:t,imgHolderHeight:h,imgScrollingDistance:n,travelDistance:s,holderDistanceFromTop:this.$imageHolder.offset().top-this.settings.windowObject.scrollTop()}},_bindEvents:function(){this.settings.windowObject.on("resize",this.refresh),!0===this.settings.parallax&&this.settings.windowObject.on("scroll",this._onScroll)},_unBindEvents:function(){this.settings.windowObject.off("resize",this.refresh),!0===this.settings.parallax&&this.settings.windowObject.off("scroll",this._onScroll)},_onScroll:function(){this.scrollingState.holderDistanceFromTop=this.$imageHolder.offset().top-this.settings.windowObject.scrollTop(),this._requestTick()},_requestTick:function(){var e=this;this.ticking||(this.ticking=!0,requestAnimationFrame(function(){e._updatePositions()}))},_updatePositions:function(){if(this.scrollingState.holderDistanceFromTop<=this.scrollingState.winHeight&&this.scrollingState.holderDistanceFromTop>=-this.scrollingState.imgHolderHeight){var e=(this.scrollingState.holderDistanceFromTop+this.scrollingState.imgHolderHeight)/this.scrollingState.travelDistance,t=Math.round(this.scrollingState.fromY+this.scrollingState.imgScrollingDistance*(1-e)),i=this.settings.container.offset().left;this.$scrollerHolder.css(this._getCSSObject({transform:a,left:i,x:Math.ceil(this.scrollingState.imgLeftPos)+(""===w&&i>0?i:0),y:Math.round(this.scrollingState.holderDistanceFromTop),visibility:"visible"})),this.$scrollingElement.css(this._getCSSObject({transform:a,x:0,y:t,visibility:"visible"}))}else this.$scrollerHolder.css({visibility:"hidden"}),this.$scrollingElement.css({visibility:"hidden"});this.ticking=!1},_updateFallbackPositions:function(){this.$scrollerHolder.css({width:"100%"}),this.$scrollingElement.css({top:this.scrollingState.imgTopPos,left:this.scrollingState.imgLeftPos})},_getCSSObject:function(e){return"csstransforms3d"===w?e.transform="translate3d("+e.x+"px, "+e.y+"px, 0)":"csstransforms"===w?e.transform="translate("+e.x+"px, "+e.y+"px)":(e.top=e.y,e.left=e.x),delete e.x,delete e.y,e},enable:function(){!1===this.settings.touch&&(this._bindEvents(),this.refresh())},disable:function(){!1===this.settings.touch&&this._unBindEvents()},refresh:function(){!1===this.settings.touch&&(this._adjustImgHolderHeights(),!0===this.settings.parallax?this._requestTick():this._updateFallbackPositions())},destroy:function(){!1===this.settings.touch&&this._unBindEvents(),!0===this.settings.touch?(this.$imageHolder.removeAttr("style"),this.$scrollingElement.remove()):!0===this.settings.parallax?(this.$scrollerHolder.find("."+this.settings.imgClass).remove(),this.$imageHolder.css({visibility:"visible",height:"auto"}).html(this.$scrollerHolder.html()),this.$scrollerHolder.remove()):(this.$imageHolder.css({overflow:"auto"}).removeAttr("style"),this.$scrollingElement.remove()),this.$imageHolder.removeData()}}),e.fn[c]=function(t){return void 0===t||"object"==typeof t?this.each(function(){e.data(this,u)||e.data(this,u,new o(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var i=e.data(this,u);i instanceof o&&"function"==typeof i[t]&&i[t].apply(i,Array.prototype.slice.call(arguments,1))}):void 0},e.fn[c].defaults=o.defaults=l,e.fn[c].Plugin=o,o}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};(t=function(){function t(t,n){var s,r,o=this;if(o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1,waitForAnimate:!0},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.paused=!1,o.positionProp=null,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.windowWidth=0,o.windowTimer=null,o.options=e.extend({},o.defaults,n),o.originalSettings=o.options,(s=o.options.responsive||null)&&s.length>-1){for(r in s)s.hasOwnProperty(r)&&(o.breakpoints.push(s[r].breakpoint),o.breakpointSettings[s[r].breakpoint]=s[r].settings);o.breakpoints.sort(function(e,t){return t-e})}o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.changeSlide=e.proxy(o.changeSlide,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init()}var i=0;return t}()).prototype.addSlide=function(t,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):n?e(t).insertBefore(s.$slides.eq(i)):e(t).insertAfter(s.$slides.eq(i)):!0===n?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,i){e(i).attr("index",t)}),s.$slidesCache=s.$slides,s.reinit()},t.prototype.animateSlide=function(t,i){var n={},s=this;if(1===s.options.slidesToShow&&!0===s.options.adaptiveHeight&&!1===s.options.vertical){var r=s.$slides.eq(s.currentSlide).outerHeight(!0);s.$list.animate({height:r},s.options.speed)}!0===s.options.rtl&&!1===s.options.vertical&&(t=-t),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,i):!1===s.cssTransitions?e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){!1===s.options.vertical?(n[s.animType]="translate("+e+"px, 0px)",s.$slideTrack.css(n)):(n[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(n))},complete:function(){i&&i.call()}}):(s.applyTransition(),n[s.animType]=!1===s.options.vertical?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=!1===t.options.fade?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var t=this,i=null!=t.options.asNavFor?e(t.options.asNavFor).getSlick():null;!1===t.options.infinite?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide+i.options.slidesToScroll)):(0==t.currentSlide-1&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide-i.options.slidesToScroll)):(t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide+i.options.slidesToScroll))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0===t.options.centerMode&&(t.options.slidesToScroll=1,0==t.options.slidesToShow%2&&(t.options.slidesToShow=3)),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),!0===t.options.accessibility&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(){var t,i,n=this;if(n.originalSettings.responsive&&n.originalSettings.responsive.length>-1&&null!==n.originalSettings.responsive){for(t in i=null,n.breakpoints)n.breakpoints.hasOwnProperty(t)&&e(window).width()<n.breakpoints[t]&&(i=n.breakpoints[t]);null!==i?null!==n.activeBreakpoint?i!==n.activeBreakpoint&&(n.activeBreakpoint=i,n.options=e.extend({},n.options,n.breakpointSettings[i]),n.refresh()):(n.activeBreakpoint=i,n.options=e.extend({},n.options,n.breakpointSettings[i]),n.refresh()):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=e.extend({},n.options,n.originalSettings),n.refresh())}},t.prototype.changeSlide=function(t){var i=this,n=e(t.target),s=null!=i.options.asNavFor?e(i.options.asNavFor).getSlick():null;switch(n.is("a")&&t.preventDefault(),t.data.message){case"previous":i.slideCount>i.options.slidesToShow&&(i.slideHandler(i.currentSlide-i.options.slidesToScroll),null!=s&&s.slideHandler(s.currentSlide-s.options.slidesToScroll));break;case"next":i.slideCount>i.options.slidesToShow&&(i.slideHandler(i.currentSlide+i.options.slidesToScroll),null!=s&&s.slideHandler(s.currentSlide+s.options.slidesToScroll));break;case"index":var r=0===t.data.index?0:t.data.index||e(t.target).parent().index()*i.options.slidesToScroll;i.slideHandler(r),null!=s&&s.slideHandler(r);default:return!1}},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.parent().hasClass("slick-track")&&t.$slides.unwrap().unwrap(),t.$slides.removeClass("slick-slide slick-active slick-visible").css("width",""),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid),e(document).off(".slick-"+t.instanceUid)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e,t=this,i=0,n=0,s=0;for(e=!0===t.options.infinite?t.slideCount+t.options.slidesToShow-t.options.slidesToScroll:t.slideCount;e>i;)s++,i=(n+=t.options.slidesToScroll)+t.options.slidesToShow;return s},t.prototype.getLeft=function(e){var t,i=this,n=0;return i.slideOffset=0,t=i.$slides.first().outerHeight(),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=-1*i.slideWidth*i.options.slidesToShow,n=-1*t*i.options.slidesToShow),0!=i.slideCount%i.options.slidesToScroll&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=-1*i.slideCount%i.options.slidesToShow*i.slideWidth,n=-1*i.slideCount%i.options.slidesToShow*t)):0!=i.slideCount%i.options.slidesToShow&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.options.slidesToShow*i.slideWidth-i.slideCount%i.options.slidesToShow*i.slideWidth,n=i.slideCount%i.options.slidesToShow*t),!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),!1===i.options.vertical?-1*e*i.slideWidth+i.slideOffset:-1*e*t+n},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.checkResponsive()),null!==t.options.onInit&&t.options.onInit.call(this,t)},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&!0===t.options.autoplay&&e("li",t.$dots).on("mouseenter.slick",t.autoPlayClear).on("mouseleave.slick",t.autoPlay)},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),!0===t.options.pauseOnHover&&!0===t.options.autoplay&&(t.$list.on("mouseenter.slick",t.autoPlayClear),t.$list.on("mouseleave.slick",t.autoPlay)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy")+"?"+(new Date).getTime();t.load(function(){t.animate({opacity:1},200)}).css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,s=this;!0===s.options.centerMode?!0===s.options.infinite?n=(i=s.currentSlide+(s.options.slidesToShow/2+1))+s.options.slidesToShow+2:(i=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),n=s.options.slidesToShow/2+1+2+s.currentSlide):(n=(i=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide)+s.options.slidesToShow,!0===s.options.fade&&(i>0&&i--,n<=s.slideCount&&n++)),t(s.$slider.find(".slick-slide").slice(i,n)),s.slideCount<=s.options.slidesToShow?t(s.$slider.find(".slick-slide")):s.currentSlide>=s.slideCount-s.options.slidesToShow?t(s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow)):0===s.currentSlide&&t(s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),t.swipeLeft=null,!0===t.options.autoplay&&!1===t.paused&&t.autoPlay()},t.prototype.progressiveLazyLoad=function(){var t,i=this;e("img[data-lazy]").length>0&&(t=e("img[data-lazy]",i.$slider).first()).attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),i.progressiveLazyLoad()}).error(function(){t.removeAttr("data-lazy"),i.progressiveLazyLoad()})},
t.prototype.refresh=function(){var e=this,t=e.currentSlide,i=e.slideCount,n=e.options.slidesToShow;e.destroy(),$.extend(e,e.initials),!0!==e.options.infinite&&t>i-n&&(t=i-n),e.currentSlide=t,e.init(),e.updateArrows()},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),!0===t.options.focusOnSelect&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),null!==t.options.onReInit&&t.options.onReInit.call(this,t)},t.prototype.removeSlide=function(e,t){var i=this;return"boolean"==typeof e?e=!0===(t=e)?0:i.slideCount-1:e=!0===t?--e:e,!(i.slideCount<1||0>e||e>i.slideCount-1)&&(i.unload(),i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,s={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?e+"px":"0px",i="top"==n.positionProp?e+"px":"0px",s[n.positionProp]=e,!1===n.transformsEnabled?n.$slideTrack.css(s):(s={},!1===n.cssTransitions?(s[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(s)):(s[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(s)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,s){t=-1*i.slideWidth*n,e(s).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade()},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,i,n,s,r=this;r.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=r.$slider.find(".slick-slide"),!0===r.options.centerMode?(t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t,e+t+1).addClass("slick-active"):(n=r.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active")),0===e?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")):e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active"):i.length<=r.options.slidesToShow?i.addClass("slick-active"):(s=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-s),n+s).addClass("slick-active"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,s=this;if((!0===s.options.fade||!0===s.options.vertical)&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-n;t-=1)i=t-1,e(s.$slides[i]).clone(!0).attr("id","").attr("index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(s.$slides[i]).clone(!0).attr("id","").attr("index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.selectHandler=function(t){var i=this,n=null!=i.options.asNavFor?e(i.options.asNavFor).getSlick():null,s=parseInt(e(t.target).parents(".slick-slide").attr("index"));if(s||(s=0),!(i.slideCount<=i.options.slidesToShow)&&(i.slideHandler(s),null!=n)){if(n.slideCount<=n.options.slidesToShow)return;n.slideHandler(s)}},t.prototype.slideHandler=function(e){var t,i,n,s,r=null,o=this;return(!0!==o.animating||!0!==o.options.waitForAnimate)&&(t=e,r=o.getLeft(t),n=o.getLeft(o.currentSlide),s=0!=o.slideCount%o.options.slidesToScroll?o.options.slidesToScroll:0,o.currentLeft=null===o.swipeLeft?n:o.swipeLeft,!1===o.options.infinite&&!1===o.options.centerMode&&(0>e||e>o.slideCount-o.options.slidesToShow+s)?(!1===o.options.fade&&(t=o.currentSlide,o.animateSlide(n,function(){o.postSlide(t)})),!1):!1===o.options.infinite&&!0===o.options.centerMode&&(0>e||e>o.slideCount-o.options.slidesToScroll)?(!1===o.options.fade&&(t=o.currentSlide,o.animateSlide(n,function(){o.postSlide(t)})),!1):(!0===o.options.autoplay&&clearInterval(o.autoPlayTimer),i=0>t?0!=o.slideCount%o.options.slidesToScroll?o.slideCount-o.slideCount%o.options.slidesToScroll:o.slideCount-o.options.slidesToScroll:t>o.slideCount-1?0:t,o.animating=!0,null!==o.options.onBeforeChange&&e!==o.currentSlide&&o.options.onBeforeChange.call(this,o,o.currentSlide,i),o.currentSlide=i,o.setSlideClasses(o.currentSlide),o.updateDots(),o.updateArrows(),!0===o.options.fade?(o.fadeSlide(i,function(){o.postSlide(i)}),!1):void o.animateSlide(r,function(){o.postSlide(i)})))},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),0>(n=Math.round(180*i/Math.PI))&&(n=360-Math.abs(n)),45>=n&&n>=0?"left":360>=n&&n>=315?"left":n>=135&&225>=n?"right":"vertical"},t.prototype.swipeEnd=function(t){var i=this,n=null!=i.options.asNavFor?e(i.options.asNavFor).getSlick():null;if(i.dragging=!1,void 0===i.touchObject.curX)return!1;if(i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(e(t.target).on("click.slick",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.slick")}),i.swipeDirection()){case"left":i.slideHandler(i.currentSlide+i.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide+n.options.slidesToScroll),i.touchObject={};break;case"right":i.slideHandler(i.currentSlide-i.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide-n.options.slidesToScroll),i.touchObject={}}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),null!=n&&n.slideHandler(n.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,s=this;return n=void 0!==e.originalEvent?e.originalEvent.touches:null,t=s.getLeft(s.currentSlide),!(!s.dragging||n&&1!==n.length)&&(s.touchObject.curX=void 0!==n?n[0].pageX:e.clientX,s.touchObject.curY=void 0!==n?n[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),"vertical"!==s.swipeDirection()?(void 0!==e.originalEvent&&s.touchObject.swipeLength>4&&e.preventDefault(),i=s.touchObject.curX>s.touchObject.startX?1:-1,s.swipeLeft=!1===s.options.vertical?t+s.touchObject.swipeLength*i:t+s.touchObject.swipeLength*(s.$list.height()/s.listWidth)*i,!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},t.prototype.updateArrows=function(){var e=this;!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},e.fn.slick=function(e){return this.each(function(i,n){n.slick=new t(n,e)})},e.fn.slickAdd=function(e,t,i){return this.each(function(n,s){s.slick.addSlide(e,t,i)})},e.fn.slickCurrentSlide=function(){return this.get(0).slick.getCurrent()},e.fn.slickFilter=function(e){return this.each(function(t,i){i.slick.filterSlides(e)})},e.fn.slickGoTo=function(e){return this.each(function(t,i){i.slick.changeSlide({data:{message:"index",index:e}})})},e.fn.slickNext=function(){return this.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},e.fn.slickPause=function(){return this.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},e.fn.slickPlay=function(){return this.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},e.fn.slickPrev=function(){return this.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},e.fn.slickRemove=function(e,t){return this.each(function(i,n){n.slick.removeSlide(e,t)})},e.fn.slickGetOption=function(e){return this.get(0).slick.options[e]},e.fn.slickSetOption=function(e,t,i){return this.each(function(n,s){s.slick.options[e]=t,!0===i&&(s.slick.unload(),s.slick.reinit())})},e.fn.slickUnfilter=function(){return this.each(function(e,t){t.slick.unfilterSlides()})},e.fn.unslick=function(){return this.each(function(e,t){t.slick&&t.slick.destroy()})},e.fn.getSlick=function(){var e=null;return this.each(function(t,i){e=i.slick}),e}}),
/*!
 * Master Slider  Responsive Touch Swipe Slider
 * @author Averta (www.averta.net)
 * Copyright  All Rights Reserved, Averta Ltd.
 *
 * @version 1.5.7
 * @date 3/31/2014
 */
window.averta={},function(e){function t(){if("result"in arguments.callee)return arguments.callee.result;var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName("script")[0];for(var i in t.style)if(e.test(i))return arguments.callee.result=i.match(e)[0];return"WebkitOpacity"in t.style?arguments.callee.result="Webkit":"KhtmlOpacity"in t.style?arguments.callee.result="Khtml":arguments.callee.result=""}function i(e){var t=(document.body||document.documentElement).style,i=e;if("string"==typeof t[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<v.length;n++)if("string"==typeof t[v[n]+i])return!0;return!1}function n(){return i("transition")}function s(){return i("transform")}function r(){if(!s())return!1;var e,t=document.createElement("p"),i={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};for(var n in document.body.insertBefore(t,null),i)t.style[n]!==undefined&&(t.style[n]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(i[n]));return document.body.removeChild(t),null!=e&&e.length>0&&"none"!==e}window["package"]=function(e){window[e]||(window[e]={})};var o=function(e,t){for(var i in t)e[i]=t[i]};Function.prototype.extend=function(e){"function"==typeof e.prototype.constructor?(o(this.prototype,e.prototype),this.prototype.constructor=this):(this.prototype.extend(e),this.prototype.constructor=this)};var a={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};e(document).ready(function(){window._jcsspfx=t(),window._csspfx=a[window._jcsspfx],window._cssanim=n(),window._css3d=r(),window._css2d=s(),window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document}),window.parseQueryString=function(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,i,n,s){t[i]=s}),t};var l=50/3;(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,l)}),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},e.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),jQuery)&&(e.jqLoadFix=function(){if(this.complete){var t=this;setTimeout(function(){e(t).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),!!navigator.userAgent.match(/Trident\/7\./)&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,e.fn.preloadImg=function(t,i){return this.each(function(){var n=e(this),s=this,r=new Image;r.onload=function(e){null==e&&(e={}),n.attr("src",t),e.width=r.width,e.height=r.height,setTimeout(function(){i.call(s,e)},50),r=null},r.src=t}),this})}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(e){var t=new averta.EventDispatcher;for(var i in t)"constructor"!=i&&(e[i]=averta.EventDispatcher.prototype[i])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(e,t,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({listener:t,ref:i})},removeEventListener:function(e,t,i){if(this.listeners[e]){for(var n=0,s=this.listeners[e].length;n<s;++n)t==this.listeners[e][n].listener&&i==this.listeners[e][n].ref&&this.listeners[e].splice(n);0==this.listeners[e].length&&delete this.listeners[e]}},dispatchEvent:function(e){if(e.target=this,this.listeners[e.type])for(var t=0,i=this.listeners[e.type].length;t<i;++t)this.listeners[e.type][t].listener.call(this.listeners[e.type][t].ref,e)}}}(),function(e){"use strict";var t="ontouchstart"in document,i=!1,n=i?"MSPointerDown":t?"touchstart":"mousedown",s=i?"MSPointerMove":t?"touchmove":"mousemove",r=i?"MSPointerUp":t?"touchend":"mouseup",o=i?"MSPointerUp":"touchcancel";averta.TouchSwipe=function(e){this.$element=e,this.enabled=!0,e.bind(n,{target:this},this.__touchStart),e[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.lastStatus={}};var a=averta.TouchSwipe.prototype;a.getDirection=function(e,t){switch(this.swipeType){case"horizontal":return e<=this.start_x?"left":"right";case"vertical":return t<=this.start_y?"up":"down";case"all":return Math.abs(e-this.start_x)>Math.abs(t-this.start_y)?e<=this.start_x?"left":"right":t<=this.start_y?"up":"down"}},a.priventDefultEvent=function(e,t){var i=Math.abs(e-this.start_x)>Math.abs(t-this.start_y);return"horizontal"===this.swipeType&&i||"vertical"===this.swipeType&&!i},a.createStatusObject=function(e){var t,i,n={};return t=this.lastStatus.distanceX||0,i=this.lastStatus.distanceY||0,n.distanceX=e.pageX-this.start_x,n.distanceY=e.pageY-this.start_y,n.moveX=n.distanceX-t,n.moveY=n.distanceY-i,n.distance=parseInt(Math.sqrt(Math.pow(n.distanceX,2)+Math.pow(n.distanceY,2))),n.duration=(new Date).getTime()-this.start_time,n.direction=this.getDirection(e.pageX,e.pageY),n},a.__reset=function(e,i){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=t?e.touches[0].pageX:i.pageX,this.start_y=t?e.touches[0].pageY:i.pageY},a.__touchStart=function(i){var n=i.data.target,a=i;if(n.enabled)if(i=i.originalEvent,n.onSwipe){if(!n.touchStarted){n.start_x=t?i.touches[0].pageX:a.pageX,n.start_y=t?i.touches[0].pageY:a.pageY,n.start_time=(new Date).getTime(),e(document).bind(r,{target:n},n.__touchEnd).bind(s,{target:n},n.__touchMove).bind(o,{target:n},n.__touchCancel);var l=t?i.touches[0]:a,c=n.createStatusObject(l);c.phase="start",n.onSwipe.call(null,c),t||a.preventDefault(),n.lastStatus=c,n.touchStarted=!0}}else e.error("Swipe listener is undefined")},a.__touchMove=function(e){var i=e.data.target,n=e;if(e=e.originalEvent,i.touchStarted){clearTimeout(i.timo),i.timo=setTimeout(function(){i.__reset(e,n)},60);var s=t?e.touches[0]:n,r=i.createStatusObject(s);i.priventDefultEvent(s.pageX,s.pageY)&&n.preventDefault(),r.phase="move",i.lastStatus=r,i.onSwipe.call(null,r)}},a.__touchEnd=function(i){var n=i.data.target,a=i;i=i.originalEvent,clearTimeout(n.timo);t&&i.touches[0];var l=n.lastStatus;t||a.preventDefault(),l.phase="end",n.touchStarted=!1,n.priventEvt=null,e(document).unbind(r,n.__touchEnd).unbind(s,n.__touchMove).unbind(o,n.__touchCancel),l.speed=l.distance/l.duration,n.onSwipe.call(null,l)},a.__touchCancel=function(e){e.data.target.__touchEnd(e)},a.enable=function(){this.enabled||(this.enabled=!0)},a.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var e=averta.Ticker,t=[],i=!0;e.add=function(i,n){return t.push([i,n]),1===t.length&&e.start(),t.length},e.remove=function(e,i){for(var n=0,s=t.length;n<s;++n)t[n]&&t[n][0]===e&&t[n][1]===i&&t.splice(n,1)},e.start=function(){i&&(i=!1,n())},e.stop=function(){i=!0};var n=function(){if(!e.__stopped){for(var i=0;i<t.length;++i)t[i][0].call(t[i][1]);requestAnimationFrame(n)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(e,t){this.delay=e,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,t&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";var e=null;window.CSSTween=function(t,i,n,s){this.$element=t,this.duration=i||1e3,this.delay=n||0,this.ease=s||"linear",e||(e="O"===window._jcsspfx?"otransitionend":"Webkit"==window._jcsspfx?"webkitTransitionEnd":"transitionend")};var t=CSSTween.prototype;t.to=function(e,t){return this.to_cb=e,this.to_cb_target=t,this},t.from=function(e,t){return this.fr_cb=e,this.fr_cb_target=t,this},t.onComplete=function(e,t){return this.oc_fb=e,this.oc_fb_target=t,this},t.chain=function(e){return this.chained_tween=e,this},t.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},t.start=function(){clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(this.$element.css(window._jcsspfx+"TransitionDuration","0ms"),this.fr_cb.call(this.fr_cb_target));var e=this;return this.onTransComplete=function(){e.fresh&&(e.reset(),this.$element.css(window._jcsspfx+"TransitionDuration","").css(window._jcsspfx+"TransitionProperty","").css(window._jcsspfx+"TransitionTimingFunction","").css(window._jcsspfx+"TransitionDelay",""),e.fresh=!1,e.chained_tween&&e.chained_tween.start(),e.oc_fb&&e.oc_fb.call(e.oc_fb_target))},this.start_to=setTimeout(function(){e.$element.css(window._jcsspfx+"TransitionDuration",e.duration+"ms").css(window._jcsspfx+"TransitionProperty","all"),e.delay>0?e.$element.css(window._jcsspfx+"TransitionDelay",e.delay+"ms"):e.$element.css(window._jcsspfx+"TransitionDelay",""),"linear"!=e.ease&&e.$element.css(window._jcsspfx+"TransitionTimingFunction",e.ease),e.to_cb&&e.to_cb.call(e.to_cb_target),e.end_to=setTimeout(function(){e.onTransComplete()},e.duration+(e.delay||0))},100),this}}(),function(){"use strict";function e(e,i){if(i.x!==undefined||i.y!==undefined)if(t){var n=window._jcsspfx+"Transform";i.x!==undefined&&(i[n]=(i[n]||"")+" translateX("+i.x+"px)",delete i.x),i.y!==undefined&&(i[n]=(i[n]||"")+" translateY("+i.y+"px)",delete i.y)}else{if(i.x!==undefined)i["auto"!==e.css("right")?"right":"left"]=i.x+"px",delete i.x;if(i.y!==undefined)i["auto"!==e.css("bottom")?"bottom":"top"]=i.y+"px",delete i.y}return i}var t=null;window.CTween={},CTween.setPos=function(t,i){t.css(e(t,i))},CTween.animate=function(i,n,s,r){if(null==t&&(t=window._cssanim),r=r||{},e(i,s),t){var o=new CSSTween(i,n,r.delay,EaseDic[r.ease]);return o.to(function(){i.css(s)}),r.complete&&o.onComplete(r.complete,r.target),o.start(),o.stop=o.reset,o}var a;return r.delay&&i.delay(r.delay),r.complete&&(a=function(){r.complete.call(r.target)}),i.stop(!0).animate(s,n,r.ease||"linear",a),i},CTween.fadeOut=function(e,t,i){var n={};i&&(n.complete=function(){e.remove()}),CTween.animate(e,t||1e3,{opacity:0},n)},CTween.fadeIn=function(e,t){e.css("opacity",0),CTween.animate(e,t||1e3,{opacity:1})}}(),window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},function(){"use strict";window.MSAligner=function(e,t,i){this.$container=t,this.$img=i,this.type=e||"stretch",this.widthOnly=!1,this.heightOnly=!1};var e=MSAligner.prototype;e.init=function(e,t){switch(this.baseWidth=e,this.baseHeight=t,this.imgRatio=e/t,this.imgRatio2=t/e,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},e.align=function(){if(this.needAlign){var e=this.$container.width(),t=this.$container.height(),i=e/t;"fill"==this.type?this.imgRatio<i?(this.$img.width(e),this.$img.height(e*this.imgRatio2)):(this.$img.height(t),this.$img.width(t*this.imgRatio)):"fit"==this.type&&(this.imgRatio<i?(this.$img.height(t),this.$img.width(t*this.imgRatio)):(this.$img.width(e),this.$img.height(e*this.imgRatio2))),this.setMargin()}},e.setMargin=function(){var e=this.$container.width(),t=this.$container.height();this.$img.css("margin-top",(t-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(e-this.$img[0].offsetWidth)/2+"px")}}(),function(){"use strict";var e={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},t=function(t,i,n){if(null===i||null===t)throw new Error("Max and Min values are required.");for(var s in this.options=n||{},e)s in this.options||(this.options[s]=e[s]);this._max_value=i,this._min_value=t,this.value=t,this.end_loc=t,this.current_snap=this.getSnapNum(t),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},i=t.prototype;i.changeTo=function(e,t,i,n,s){if(this.stopped=!1,this._internalStop(),e=this._checkLimits(e),i=Math.abs(i||0),this.options.snapping&&(n=n||this.getSnapNum(e),!1!==s&&this._callsnapChange(n),this.current_snap=n),t){this.animating=!0;var r,o=this,a=++o.__animID,l=e-o.value,c=0,u=e,h=1-o.options.friction,d=function(){if(a===o.__animID){var t=e-o.value;if(!(Math.abs(t)>o.options.minValidDist&&o.animating))return o.animating&&(o.value=e,o._callrenderer()),o.animating=!1,a!==o.__animID&&(o.__animID=-1),void o._callonComplete("anim");window.requestAnimationFrame(d),r=h+(i-20)*h*1.3/o.options.maxSpeed,o.value=u-l*Math.exp(-++c*r),o._callrenderer()}};d()}else this.value=e,this._callrenderer()},i.drag=function(e){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=e,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*e):this.value>this._max_value?this.value=this._max_value:this.value=0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},i.push=function(e){if(this.stopped=!1,this.options.snapping&&Math.abs(e)<=this.options.snappingMinSpeed)this.cancel();else{if(this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this.options.snapping){var t=this.getSnapNum(this.value),i=this.getSnapNum(this.end_loc);if(this.options.paging)return t=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(e>0?this.gotoSnap(t+1,!0,e):this.gotoSnap(t-1,!0,e));if(t===i)return void this.cancel();this._callsnapChange(i),this.current_snap=i}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()}},i.bounce=function(e){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this._startDecelaration())},i.stop=function(){this.stopped=!0,this._internalStop()},i.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},i.renderCallback=function(e,t){this.__renderHook={fun:e,ref:t}},i.snappingCallback=function(e,t){this.__snapHook={fun:e,ref:t}},i.snapCompleteCallback=function(e,t){this.__compHook={fun:e,ref:t}},i.getSnapNum=function(e){return Math.floor((e+this.options.snapsize/2)/this.options.snapsize)},i.nextSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e+1,!0)},i.prevSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e-1,!0)},i.gotoSnap=function(e,t,i){this.changeTo(e*this.options.snapsize,t,i,e)},i.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},i._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},i._calculateExtraMove=function(e){var t=e%this.options.snapsize;return t<this.options.snapsize/2?-t:this.options.snapsize-t},i._calculateEnd=function(e){for(var t=this.__speed,i=this.value,n=0;Math.abs(t)>this.options.minValidDist;)i+=t,t*=this.options.friction,n++;return e?n:i},i._checkLimits=function(e){return this.options.endless?e:e<this._min_value?this._min_value:e>this._max_value?this._max_value:e},i._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},i._callsnapChange=function(e){this.__snapHook&&e!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,e,e-this.current_snap)},i._callonComplete=function(e){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,e)},i._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var e=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+e-this.__extrStep,this.__extrStep=e}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var t=0;this.value<this._min_value?t=this._min_value-this.value:this.value>this._max_value&&(t=this._max_value-this.value),this.__isout=Math.abs(t)>=this.options.minValidDist,this.__isout&&(this.__speed*t<=0?this.__speed+=t*this.options.outFriction:this.__speed=t*this.options.outAcceleration)}},i._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var e=this,t=function(){e._deceleration&&(e._computeDeceleration(),Math.abs(e.__speed)>e.options.minValidDist||e.__isout?window.requestAnimationFrame(t):(e._deceleration=!1,e.__isout=!1,this.__needsSnap&&e.options.snapping&&!e.options.paging?e.value=e._checkLimits(e.end_loc+e.__extraMove):e.value=Math.round(e.value),e._callrenderer(),e._callonComplete("decel")))};t()}},window.Controller=t}(),function(e){window.MSLayerEffects={};var t,i={opacity:0};MSLayerEffects.setup=function(){if(!t){t=!0;var n=MSLayerEffects,s=window._jcsspfx+"Transform",r=window._jcsspfx+"TransformOrigin",o=e.browser.opera;_2d=window._css2d&&window._cssanim&&!o,n.defaultValues={left:0,top:0,opacity:1,right:0,bottom:0},n.defaultValues[s]="",n.rf=1,n.presetEffParams={random:"30|300",long:300,short:30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},n.fade=function(){return i},n.left=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateX("+-e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.left=-e*n.rf+"px",i},n.right=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateX("+e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.left=e*n.rf+"px",i},n.top=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateY("+-e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.top=-e*n.rf+"px",i},n.bottom=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateY("+e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.top=e*n.rf+"px",i},n.from=_2d?function(e,t,i){var r=!1===i?{}:{opacity:0};return r[s]="translateX("+e*n.rf+"px) translateY("+t*n.rf+"px)",r}:function(e,t,i){var s=!1===i?{}:{opacity:0};return s.top=t*n.rf+"px",s.left=e*n.rf+"px",s},n.rotate=_2d?function(e,t){var i={opacity:0};return i[s]=" rotate("+e+"deg)",t&&(i[r]=t),i}:function(){return i},n.rotateleft=_2d?function(e,t,i,o){var a=n.left(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.left(t,s)},n.rotateright=_2d?function(e,t,i,o){var a=n.right(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.right(t,s)},n.rotatetop=_2d?function(e,t,i,o){var a=n.top(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.top(t,s)},n.rotatebottom=_2d?function(e,t,i,o){var a=n.bottom(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.bottom(t,s)},n.rotatefrom=_2d?function(e,t,i,o,a){var l=n.from(t,i,a);return l[s]+=" rotate("+e+"deg)",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.from(t,i,r)},n.skewleft=_2d?function(e,t,i){var r=n.left(t,i);return r[s]+=" skewX("+e+"deg)",r}:function(e,t,i){return n.left(t,i)},n.skewright=_2d?function(e,t,i){var r=n.right(t,i);return r[s]+=" skewX("+-e+"deg)",r}:function(e,t,i){return n.right(t,i)},n.skewtop=_2d?function(e,t,i){var r=n.top(t,i);return r[s]+=" skewY("+e+"deg)",r}:function(e,t,i){return n.top(t,i)},n.skewbottom=_2d?function(e,t,i){var r=n.bottom(t,i);return r[s]+=" skewY("+-e+"deg)",r}:function(e,t,i){return n.bottom(t,i)},n.scale=_2d?function(e,t,i,n){var o=!1===n?{}:{opacity:0};return o[s]=" scaleX("+e+") scaleY("+t+")",i&&(o[r]=i),o}:function(e,t,i,n){return!1===n?{}:{opacity:0}},n.scaleleft=_2d?function(e,t,i,o,a){var l=n.left(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.left(i,r)},n.scaleright=_2d?function(e,t,i,o,a){var l=n.right(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.right(i,r)},n.scaletop=_2d?function(e,t,i,o,a){var l=n.top(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.top(i,r)},n.scalebottom=_2d?function(e,t,i,o,a){var l=n.bottom(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.bottom(i,r)},n.scalefrom=_2d?function(e,t,i,o,a,l){var c=n.from(i,o,l);return c[s]+=" scaleX("+e+") scaleY("+t+")",a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.from(i,s,o)},n.rotatescale=_2d?function(e,t,i,o,a){var l=n.scale(t,i,o,a);return l[s]+=" rotate("+e+"deg)",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.scale(t,i,s,r)},n.front=window._css3d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="perspective(2000px) translate3d(0 , 0 ,"+e+"px ) rotate(0.001deg)",i}:function(){return i},n.back=window._css3d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="perspective(2000px) translate3d(0 , 0 ,"+-e+"px ) rotate(0.001deg)",i}:function(){return i},n.rotatefront=window._css3d?function(e,t,i,n){var o=!1===n?{}:{opacity:0};return o[s]="perspective(2000px) translate3d(0 , 0 ,"+t+"px ) rotate("+(e||.001)+"deg)",i&&(o[r]=i),o}:function(){return i},n.rotateback=window._css3d?function(e,t,i,n){var o=!1===n?{}:{opacity:0};return o[s]="perspective(2000px) translate3d(0 , 0 ,"+-t+"px ) rotate("+(e||.001)+"deg)",i&&(o[r]=i),o}:function(){return i},n.rotate3dleft=window._css3d?function(e,t,i,o,a,l){var c=n.left(o,l);return c[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.left(s,o)},n.rotate3dright=window._css3d?function(e,t,i,o,a,l){var c=n.right(o,l);return c[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.right(s,o)},n.rotate3dtop=window._css3d?function(e,t,i,o,a,l){var c=n.top(o,l);return c[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.top(s,o)},n.rotate3dbottom=window._css3d?function(e,t,i,o,a,l){var c=n.bottom(o,l);return c[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.bottom(s,o)},n.rotate3dfront=window._css3d?function(e,t,i,o,a,l){var c=n.front(o,l);return c[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.front(s,o)},n.rotate3dback=window._css3d?function(e,t,i,o,a,l){var c=n.back(o,l);return c[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(c[r]=a),c}:function(e,t,i,s,r,o){return n.back(s,o)},n.t=window._css3d?function(e,t,i,o,a,l,c,u,h,d,p,f,m,g,v){var _=!1===e?{}:{opacity:0},y="";"n"!==t&&(y+="translateX("+t*n.rf+"px) "),"n"!==i&&(y+="translateY("+i*n.rf+"px) "),"n"!==o&&(y+="translateZ("+o*n.rf+"px) "),"n"!==a&&(y+="rotate("+a+"deg) "),"n"!==l&&(y+="rotateX("+l+"deg) "),"n"!==c&&(y+="rotateY("+c+"deg) "),"n"!==u&&(y+="rotateZ("+u+"deg) "),"n"!==p&&(y+="skewX("+p+"deg) "),"n"!==f&&(y+="skewY("+f+"deg) "),"n"!==h&&(y+="scaleX("+h+") "),"n"!==d&&(y+="scaleY("+d+")"),_[s]=y;var b="";return b+="n"!==m?m+"% ":"50% ",b+="n"!==g?g+"% ":"50% ",b+="n"!==v?v+"px":"",_[r]=b,_}:function(e,t,i,s,r){r=!1===e?{}:{opacity:0};return"n"!==t&&(r.left+=t*n.rf+"px"),"n"!==i&&(r.top+=i*n.rf+"px"),r}}}}(jQuery),function(e){window.MSLayerElement=function(){this.$cont=e("<div></div>").addClass("layer-cont"),this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.swipe=!0,this.resizable=!0,this.minWidth=-1,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom","font-size","line-height","width","height"],this.baseStyle={}};var t=MSLayerElement.prototype;t.__playAnimation=function(e,t){var i={};e.ease&&(i.ease=e.ease),this.show_tween=CTween.animate(this.$element,e.duration,t,i)},t._randomParam=function(e){var t=Number(e.slice(0,e.indexOf("|"))),i=Number(e.slice(e.indexOf("|")+1));return t+Math.random()*(i-t)},t._parseEff=function(e){var t=[];if(-1!==e.indexOf("(")){var i,n=e.slice(0,e.indexOf("(")).toLowerCase();t=e.slice(e.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),e=n;for(var s=0,r=t.length;s<r;++s)(i=t[s])in MSLayerEffects.presetEffParams&&(i=MSLayerEffects.presetEffParams[i]),t[s]=i}return{eff_name:e,eff_params:t}},t._parseEffParams=function(e){for(var t=[],i=0,n=e.length;i<n;++i){var s=e[i];"string"==typeof s&&-1!==s.indexOf("|")&&(s=this._randomParam(s)),t[i]=s}return t},t._checkPosKey=function(e,t){return"left"===e&&!(e in this.baseStyle)&&"right"in this.baseStyle?(t.right=-parseInt(t.left)+"px",delete t.left,!0):"top"===e&&!(e in this.baseStyle)&&"bottom"in this.baseStyle&&(t.bottom=-parseInt(t.top)+"px",delete t.top,!0)},t.setStartAnim=function(t){e.extend(this.start_anim,t),e.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},t.setEndAnim=function(t){e.extend(this.end_anim,t)},t.create=function(){this.$element.css("display","none"),this.$element.removeAttr("data-delay").removeAttr("data-effect").removeAttr("data-duration").removeAttr("data-type"),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),e.extend(this.end_anim,this._parseEff(this.end_anim.name))},t.init=function(){var e;this.initialized=!0,this.$element.css("visibility","");for(var t=0,i=this.__cssConfig.length;t<i;t++){var n=this.__cssConfig[t];"auto"!=(e="text"===this.type&&"width"===n?this.$element[0].style.width:this.$element.css(n))&&""!=e&&"normal"!=e&&(this.baseStyle[n]=parseInt(e))}},t.locate=function(){var e=this.slide.$layers,t=parseFloat(e.css("width"));if(this.visible(this.minWidth<t),this.resizable)for(var i in this.factor=t/this.slide.slider.options.width,this.baseStyle)this.$element.css(i,this.baseStyle[i]*this.factor+"px")},t.start=function(){if(!this.isShowing){var e,t;this.isShowing=!0,MSLayerEffects.rf=this.factor;var i=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),n={};for(e in i)this._checkPosKey(e,i)||(null!=MSLayerEffects.defaultValues[e]&&(n[e]=MSLayerEffects.defaultValues[e]),e in this.baseStyle&&(t=this.baseStyle[e],i[e]=t+parseFloat(i[e])+"px",n[e]=t+"px"),this.$element.css(e,i[e]));var s=this;clearTimeout(this.to),this.to=setTimeout(function(){s.$element.css("display",""),s.__playAnimation(s.start_anim,n)},s.start_anim.delay||.01),this.cl_to=setTimeout(function(){s.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){s.hide()},s.end_anim.time))}},t.hide=function(){this.isShowing=!1;var e=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in e)this._checkPosKey(key,e)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,e[key]),key in this.baseStyle&&(e[key]=this.baseStyle[key]+parseFloat(e[key])+"px"));this.__playAnimation(this.end_anim,e),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.cl_to)},t.reset=function(){this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity","100"),this.$element[0].style.transitionDuration="0ms",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto)},t.destroy=function(){this.reset(),this.$element.remove(),this.$cont.remove()},t.visible=function(e){this.isVisible!=e&&(this.isVisible=e,this.$element.css("display",e?"":"none"))}}(jQuery),function(e){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom","width","height"]},MSImageLayerElement.extend(MSLayerElement);var t=MSImageLayerElement.prototype,i=MSLayerElement.prototype;t.create=function(){if(this.link){var t=this.$element.parent();t.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),t=null}if(i.create.call(this),this.$element.data("src")!=undefined)this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var n=this;this.$element.on("load",function(){n.slide.preloadCount--,0===n.slide.preloadCount&&n.slide.___onlayersReady()}).each(e.jqLoadFix)}e.browser.msie&&this.$element.on("dragstart",function(e){e.preventDefault()})},t.loadImage=function(){var e=this;this.$element.preloadImg(this.img_src,function(){e.slide.preloadCount--,0===e.slide.preloadCount&&e.slide.___onlayersReady()})}}(jQuery),function(e){window.MSVideoLayerElement=function(){MSLayerElement.call(this)},MSVideoLayerElement.extend(MSLayerElement);var t=MSVideoLayerElement.prototype,i=MSLayerElement.prototype;t.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,!1),CTween.fadeOut(this.video_btn,500,!1),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},t.reset=function(){i.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?this.img.css("opacity",1):this.video_frame.attr("src",this.video_url)},t.create=function(){i.create.call(this),
this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var t=0!=this.$element.has("img").length;if(t||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var n=this;if(this.video_btn=e("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){n.__playVideo()}),t){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),this.img.data("src")!==undefined)this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{n=this;this.img.attr("src",this.img_src).on("load",function(){n.slide.preloadCount--,0==n.slide.preloadCount&&n.slide.___onlayersReady()}).each(e.jqLoadFix)}e.browser.msie&&this.img.on("dragstart",function(e){e.preventDefault()})}}},t.loadImage=function(){var e=this;this.img.preloadImg(this.img_src,function(){e.slide.preloadCount--,0==e.slide.preloadCount&&e.slide.___onlayersReady()})}}(jQuery),function(e){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo"},MSHotspotLayer.extend(MSLayerElement);var t=MSHotspotLayer.prototype,i=MSLayerElement.prototype;t._showTT=function(){this.show_cl&&(this.align=this._orgAlign,this._locateTT(),this.hide_start=!1,this._tween&&this._tween.stop(!0),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}))},t._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var e=this;this._tween=CTween.animate(this.tt,900,this.from,{ease:"easeOut"+this.ease,complete:function(){e.tt.css("display","none")}})}},t._updateClassName=function(e){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(e),this._lastClass=e},t._alignPolicy=function(){this.tt.outerHeight();var e=Math.max(this.tt.outerWidth(),parseInt(this.tt.css("max-width"))),t=window.innerWidth;window.innerHeight;switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+e>t||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},t._locateTT=function(){var e=this.$element.offset(),t=this.slide.slider.$element.offset(),i=50,n=15;this.pos_x=e.left-t.left-this.slide.slider.$element.scrollLeft(),this.pos_y=e.top-t.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var s=15,r=15;switch(this.align){case"top":var o=Math.max(this.tt.outerWidth(),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight()-r-n,this.base_l=this.pos_x-o/2,this.base_l+o>window.innerWidth&&(this.tt_arrow.css("margin-left",-s/2+this.base_l+o-window.innerWidth+"px"),this.base_l=window.innerWidth-o),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-s/2+this.pos_x-this.tt.outerWidth()/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-i+"px",this.to.top=this.base_t+"px");break;case"bottom":o=Math.max(this.tt.outerWidth(),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+r+n,this.base_l=this.pos_x-o/2,this.base_l+o>window.innerWidth&&(this.tt_arrow.css("margin-left",-s/2+this.base_l+o-window.innerWidth+"px"),this.base_l=window.innerWidth-o),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-s/2+this.pos_x-this.tt.outerWidth()/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+i+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+s+n,this.base_t=this.pos_y-this.tt.outerHeight()/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+i+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-s-this.tt.outerWidth()-n,this.base_t=this.pos_y-this.tt.outerHeight()/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-i+"px",this.to.left=this.base_l+"px")}var a=this._alignPolicy();if(null!==a)return this.align=a,void this._locateTT();this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),this.tt.css(this.from)},t.start=function(){i.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},t.reset=function(){i.reset.call(this),this.tt.detach()},t.create=function(){var t=this;i.create.call(this),this._orgAlign=this.align=this.$element.data("align")!==undefined?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){t._showTT()}).on("mouseleave",function(){t._hideTT()}),this.point=e('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var n=this.$element.data("link"),s=this.$element.data("target");n&&this.point.on("click",function(){window.open(n,s||"_self")}),this.tt=e("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),this.tt_arrow=e("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=e("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt)}}(jQuery),window.MSSliderEvent=function(e){this.type=e},MSSliderEvent.CHANGE_START="changeStart",MSSliderEvent.CHANGE_END="changeEnd",MSSliderEvent.WATING="wating",MSSliderEvent.AUTOPLAY_CHANGE="autoplayChange",MSSliderEvent.VIDEO_PLAY="videoPlay",MSSliderEvent.VIDEO_CLOSE="videoClose",MSSliderEvent.INIT="init",MSSliderEvent.RESIZE="resize",MSSliderEvent.RESERVED_SPACE_CHANGE="rsc",function(e){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=e("<div></div>").addClass("ms-slide-loading"),this.layers=[],this.view=null,this.index=-1,this.__width=0,this.__height=0,this.preloadCount=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.moz=e.browser.mozilla};var t=MSSlide.prototype;t.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},t.onSwipeCancel=function(){this.link&&(this.linkdis=!1),this.video&&(this.videodis=!1)},t.addLayer=function(t){this.hasLayers||(this.$layers=e("<div></div>").addClass("ms-slide-layers")),this.hasLayers=!0,this.$layers.append(t.$element),this.layers.push(t),t.slide=this,t.create(),t.needPreload&&this.preloadCount++},t.___onlayersReady=function(){this.ready=!0,this.slider.api._startTimer(),this.selected&&(this.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setup(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},t.startLayers=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].start()},t.initLayers=function(e){if(!(this.init&&!e||this.slider.init_safemode)){this.init=!0;for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].init()}},t.locateLayers=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].locate()},t.resetLayers=function(){this.$layers.css("display","none"),this.$layers.css("opacity",1);for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].reset()},t.hideLayers=function(){if(0===this.preloadCount)for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].hide()},t.showLayers=function(){this.hasLayers&&(this.lht&&(this.lht.reset?this.lht.reset():this.lht.stop("true")),this.resetLayers(),this.$layers.css("opacity",1).css("display",""),0===this.preloadCount&&(this.initLayers(),this.locateLayers(),this.startLayers()))},t.setBG=function(t){this.hasBG=!0;var i=this;this.$imgcont=e("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=e(t).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(i.fillMode,i.$imgcont,i.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,i.slider.options.autoHeight&&(i.pselected||i.selected)&&i.slider.setHeight(i.slider.options.height),this.$bg_img.data("src")!==undefined?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(e){i._onBGLoad(e)}).each(e.jqLoadFix),this.preloadCount++},t._onBGLoad=function(t){this.bgNatrualWidth=t.width,this.bgNatrualHeight=t.height,this.bgLoaded=!0,e.browser.msie&&this.$bg_img.on("dragstart",function(e){e.preventDefault()}),this.preloadCount--,0===this.preloadCount&&this.___onlayersReady()},t.loadImages=function(){if(!this.ls){if(this.ls=!0,this.hasBG&&this.bg_src){var e=this;this.$bg_img.preloadImg(this.bg_src,function(t){e._onBGLoad(t)})}for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].needPreload&&this.layers[t].loadImage();this.bgvideo&&this.bgvideo.load()}},t.setBGVideo=function(t){if(t[0].play)if(window._mobile)t.remove();else{this.bgvideo=t[0];var i=this;t.addClass("ms-slide-bgvideo"),!1!==t.data("loop")&&this.bgvideo.addEventListener("ended",function(){i.bgvideo.play()}),!1!==t.data("mute")&&(this.bgvideo.muted=!0),!0===t.data("autopause")&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=t.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,t),this.bgvideo.addEventListener("loadedmetadata",function(){i.vinit||(i.vinit=!0,i.video_aspect=i.bgVideoAligner.baseHeight/i.bgVideoAligner.baseWidth,i.bgVideoAligner.init(i.bgvideo.videoWidth,i.bgvideo.videoHeight),i._alignBGVideo(),CTween.fadeIn(e(i.bgvideo),200),i.selected&&i.bgvideo.play())})),t.css("opacity",0),this.$bgvideocont=e("<div></div>").addClass("ms-slide-bgvideocont").append(t),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},t._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},t.setSize=function(e,t,i){this.__width=e,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,t=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(t)):(this.ratio=e/this.slider.options.width,t=this.slider.options.height*this.ratio)),this.__height=t,this.$element.width(e).height(t),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),i&&this.selected&&this.initLayers(i),this.selected&&this.locateLayers(),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),"center"==this.slider.options.layersMode&&(this.$layers[0].style.left=Math.max(0,(this.__width-this.slider.options.width)/2)+"px"))},t.getHeight=function(){return this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},t.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},t.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var e=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){e.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){e.vframe.attr("src","about:blank").css("display","none")}}),this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},t.create=function(){var t=this;this.hasLayers&&(this.$element.append(this.$layers),"center"==this.slider.options.layersMode&&this.$layers.css("max-width",this.slider.options.width+"px")),this.link&&this.$element.css("cursor","pointer").click(function(){t.linkdis||window.open(t.link,t.link_targ||"_self")}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=e("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").appendTo(this.$element),this.vpbtn=e("<div></div>").addClass("ms-slide-vpbtn").click(function(){t.__playVideo()}).appendTo(this.$element),this.vcbtn=e("<div></div>").addClass("ms-slide-vcbtn").click(function(){t.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),"center"!==this.fillMode&&"stretch"!==this.fillMode||(this.fillMode="fill")),this.sleep()},t.destroy=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].$element.stop(!0).remove();this.$element.remove(),this.$element=null},t.setup=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},t.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.loadImages(),0===this.preloadCount&&(this.bgvideo&&this.bgvideo.play(),this.slider.options.instantStartLayers&&this.showLayers()),this.moz&&this.$element.css("margin-top",""))},t.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),this.slider.options.instantStartLayers||this.showLayers()),0===this.preloadCount&&this.bgvideo&&this.bgvideo.play())},t.unselect=function(){if(this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.selected){if(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.hasLayers){var e=this;e.lht=CTween.animate(this.$layers,500,{opacity:0},{complete:function(){e.resetLayers()}})}this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1)}},t.sleep=function(){this.isSleeping||(this.isSleeping=!0,this.autoAppend&&this.$element.detach())},t.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setup(),this.hasBG&&this.bgAligner.align())}}(jQuery),function(e){"use strict";var t={};window.MSSlideController=function(e){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=e,this.so=e.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(e,i){if(e in t)throw new Error(e+", is already registered.");t[e]=i},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(e,t){if(e in MSSlideController.SliderControlList)throw new Error(e+", is already registered.");MSSlideController.SliderControlList[e]=t};var i=MSSlideController.prototype;i.setupView=function(){var i=this;this.resize_listener=function(){i.__resize()};var n={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&e.extend(n,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var s=t[this.slider.options.view]||MSBasicView;if(!s._3dreq||window._css3d&&!e.browser.msie||(s=s._fallback||MSBasicView),this.view=new s(n),this.so.overPause){i=this;this.slider.$element.mouseenter(function(){i.is_over=!0,i._stopTimer()}).mouseleave(function(){i.is_over=!1,i._startTimer()})}},i.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},i.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var e,t,i=this.so.preload-1;for(t=1;t<=i;++t){if((e=this.view.index+t)>=this.view.slideList.length){if(!this.so.loop){t=i;continue}e-=this.view.slideList.length}this.view.slideList[e].loadImages()}for(i>this.view.slideList.length/2&&(i=Math.floor(this.view.slideList.length/2)),t=1;t<=i;++t){if((e=this.view.index-t)<0){if(!this.so.loop){t=i;continue}e=this.view.slideList.length+e}this.view.slideList[e].loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},i.onSwipeStart=function(){this.skipTimer()},i.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WATING))},i.onTimer=function(){this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300&&(this.view.currentSlide.hideLayers(),this.hideCalled=!0),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WATING))},i._stopTimer=function(){this._timer&&this._timer.stop()},i._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},i.__appendSlides=function(){for(var e,t,i=0,n=this.view.slideList.length-1;i<n;++i)(e=this.view.slideList[i]).detached||(e.$element.detach(),e.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),n=3,i=1;i<=n;++i){if((t=this.view.index+i)>=this.view.slideList.length){if(!this.so.loop){i=n;continue}t-=this.view.slideList.length}(e=this.view.slideList[t]).detached=!1,this.view.appendSlide(e)}for(n>this.view.slideList.length/2&&(n=Math.floor(this.view.slideList.length/2)),i=1;i<=n;++i){if((t=this.view.index-i)<0){if(!this.so.loop){i=n;continue}t=this.view.slideList.length+t}(e=this.view.slideList[t]).detached=!1,this.view.appendSlide(e)}},i.__resize=function(e){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,e),this.view.setSize(this.width,this.currentSlide.getHeight(),e)):this.view.setSize(this.width,this.so.heightLimit?Math.min(this.height,this.so.height):this.height,e),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},i.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},i.setup=function(){if(this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slides[this.so.start-1],this.__resize(),this.view.create(this.so.start-1),0===this.so.preload&&this.view.slides[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var t=this,i=(new Date).getTime();this.wheellistener=function(e){var n=(new Date).getTime();if(!(n-i<350)){i=n;var s=window.event||e.orginalEvent||e,r=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));return r<0?t.next():r>0&&t.previous(),!1}},e.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize()},i.index=function(){return this.view.index},i.count=function(){return this.view.slidesCount},i.next=function(){this.skipTimer(),this.view.next()},i.previous=function(){this.skipTimer(),this.view.previous()},i.gotoSlide=function(e){this.skipTimer(),this.view.gotoSlide(e)},i.destroy=function(e){this.slider.destroy(e)},i._destroy=function(){this._timer.reset(),this._timer=null,e(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(e.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},i.update=function(e){this.slider.init_safemode&&e&&(this.slider.init_safemode=!1),this.__resize(e)},i.locate=function(){this.__resize()},i.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},i.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},i.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(i)}(jQuery),function(e){"use strict";var t={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer};window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",fullscreenMargin:0,instantStartLayers:!1},this.slides=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0;var t=this;this.resize_listener=function(){t._resize()},e(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="1.5.7",MasterSlider.releaseDate="March 2014";var i=MasterSlider.prototype;i.__setupSlides=function(){var t,i=this,n=0;this.$element.children(".ms-slide").each(function(){var s=e(this);(t=new MSSlide).$element=s,t.slider=i,t.delay=s.data("delay")!==undefined?s.data("delay"):3,t.fillMode=s.data("fill-mode")!==undefined?s.data("fill-mode"):i.options.fillMode,t.index=n++;var r=s.children("img");r.length>0&&t.setBG(r[0]);var o=s.children("video");if(o.length>0&&t.setBGVideo(o),i.controls)for(var a=0,l=i.controls.length;a<l;++a)i.controls[a].slideAction(t);s.children("a").each(function(){var i=e(this);"video"===this.getAttribute("data-type")?(t.video=this.getAttribute("href"),i.remove()):i.hasClass("ms-layer")||(t.link=this.getAttribute("href"),t.link_targ=this.getAttribute("target"),i.remove())});i.__createSlideLayers(t,s.find(".ms-layer")),i.slides.push(t),i.slideController.view.addSlide(t)})},i.__createSlideLayers=function(i,n){0!=n.length&&n.each(function(n,s){var r,o;r="A"===s.nodeName?(o=e(this)).find("img"):e(this);var a=new(t[r.data("type")||"text"]);a.$element=r,a.link=o;var l={},c={};r.data("effect")!==undefined&&(l.name=r.data("effect")),r.data("ease")!==undefined&&(l.ease=r.data("ease")),r.data("duration")!==undefined&&(l.duration=r.data("duration")),r.data("delay")!==undefined&&(l.delay=r.data("delay")),r.data("hide-effect")&&(c.name=r.data("hide-effect")),r.data("hide-ease")&&(c.ease=r.data("hide-ease")),r.data("hide-duration")!==undefined&&(c.duration=r.data("hide-duration")),r.data("hide-time")!==undefined&&(c.time=r.data("hide-time")),r.data("resize")!==undefined&&(a.resizable=r.data("resize")),r.data("swipe")!==undefined&&(a.swipe=r.data("swipe")),r.data("widthlimit")!==undefined&&(a.minWidth=r.data("widthlimit")),a.setStartAnim(l),a.setEndAnim(c),i.addLayer(a)})},i._removeLoading=function(){e(window).unbind("resize",this.resize_listener),this.$element=e("#"+this.id).removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},i._resize=function(){if(this.$loading){var e=this.$loading[0].clientWidth/this.aspect;e=this.options.heightLimit?Math.min(e,this.options.height):e,this.$loading.height(e),this.$element.height(e)}},i._shuffleSlides=function(){for(var e,t=this.$element.children(".ms-slide"),i=0,n=t.length;i<n;++i)i!=(e=Math.floor(Math.random()*(n-1)))&&(this.$element[0].insertBefore(t[i],t[e]),t=this.$element.children(".ms-slide"))},i._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var t=this.options.layout;"boxed"!==t&&"partialview"!==t&&(this.options.fullwidth=!0),"fullscreen"!==t&&"autofill"!==t||(this.options.fullheight=!0),"partialview"===t&&this.$element.addClass("ms-layout-partialview"),"fullscreen"!==t&&"fullwidth"!==t||(e(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),e(window).bind("resize",this.slideController.resize_listener)},i._updateLayout=function(t){var i=t?t.data.that:this,n=i.options.layout,s=i.$element;s.width(e("body").innerWidth()-i.leftSpace-i.rightSpace);var r=-s.offset().left+i.leftSpace+i.lastMargin;s.css("margin-left",r),i.lastMargin=r,"fullscreen"===n&&s.height(window.innerHeight-i.options.fullscreenMargin-i.topSpace-i.bottomSpace)},i._init=function(){if(!this.preventInit){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.controls){this.$controlsCont=e("<div></div>").addClass("ms-container").appendTo(this.$element),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px");for(var t=0,i=this.controls.length;t<i;++t)this.controls[t].setup();this.$controlsCont.prepend(this.view.$element)}else this.$element.append(this.view.$element);if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(t=0,i=this.controls.length;t<i;++t)this.controls[t].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var n=this.view.$element;n.mousedown(function(){n.removeClass("ms-grab-cursor"),n.addClass("ms-grabbing-cursor")}).addClass("ms-grab-cursor"),e(document).mouseup(function(){n.removeClass("ms-grabbing-cursor"),n.addClass("ms-grab-cursor")})}this.slideController.__dispatchInit()}},i.setHeight=function(e){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:e},{ease:"easeOutQuart"})):this.slideController.view.$element.height(e)},i.reserveSpace=function(e,t){var i=e+"Space",n=this[i];return this[i]+=t,this._updateSideMargins(),n},i._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},i._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},i.control=function(e,t){if(e in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var i=new MSSlideController.SliderControlList[e](t);return i.slider=this,this.controls.push(i),this}},i.setup=function(t,i){if(this.id=t,this.$element="string"==typeof t?e("#"+t):t.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),e.browser.msie&&this.$element.addClass("ms-ie").addClass("ms-ie"+e.browser.version.slice(0,e.browser.version.indexOf("."))),navigator.userAgent.toLowerCase().indexOf("android")>-1&&this.$element.addClass("ms-android");var n=this;return e.extend(this.options,i),this.aspect=this.options.width/this.options.height,this.$loading=e("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(e("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController,e(document).ready(function(){n._init()}),this}console&&console.log("Master Slider Error: #"+t+" not found.")},i.destroy=function(t){if(this.controls)for(var i=0,n=this.controls.length;i!==n;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),t?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var s=this.options.layout;"fullscreen"!==s&&"fullwidth"!==s||e(window).unbind("resize",this._updateLayout)}}(jQuery),window.MSViewEvents=function(e){this.type=e},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scoll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function(e){"use strict";window.MSBasicView=function(t){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},e.extend(this.options,t),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=e("<div></div>").addClass("ms-slide-container"),this.$element=e("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var t=MSBasicView.prototype;t.__snapCompelet=function(){this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))},t.__snapUpdate=function(t,i,n){if(this.loop){var s=this.index+n;this.updateLoop(s),s>=this.slidesCount&&(s-=this.slidesCount),s<0&&(s=this.slidesCount+s),this.index=s}else{if(i<0||i>=this.slidesCount)return;this.index=i}this._checkCritMargins(),e.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var r=this.slideList[this.index];r!==this.currentSlide&&(this.currentSlide=r,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},t._checkCritMargins=function(){if(!this.normalMode){
var e=Math.floor(this.options.viewNum/2),t=this.viewSlidesList.indexOf(this.slideList[this.index]),i=this[this.__dimension]+this.spacing,n=this.options.critMargin;this.loop?(t<=n||t>=this.viewSlidesList.length-n)&&(i*=t-e,this.__locateSlides(!1,i+this.start_buffer),this.start_buffer+=i):(t<n&&this.index>=n||t>=this.viewSlidesList.length-n&&this.index<this.slidesCount-n)&&this.__locateSlides(!1)}},t._vertiUpdate=function(e,t){this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-t+"px)"+this.__translate_end:this.$slideCont[0].style.top=-t+"px"},t._horizUpdate=function(e,t){this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-t+"px)"+this.__translate_end:this.$slideCont[0].style.left=-t+"px"},t.__updateViewList=function(){if(this.normalMode)this.viewSlidesList=this.slides;else{var e=this.viewSlidesList.slice();this.viewSlidesList=[];var t,i=0,n=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+i]);else{for(i=0;i!==n&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==n&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,t=e.length;i!==t;i++)-1===this.viewSlidesList.indexOf(e[i])&&e[i].sleep();e=null}},t.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var r=t+s*(this[this.__dimension]+this.spacing);(i=this.viewSlidesList[s]).wakeup(),i.position=r,i.$element[0].style[this.__cssProb]=r+"px"}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},t.__createLoopList=function(){var e=[],t=0,i=this.slidesCount/2,n=this.slidesCount%2==0?i-1:Math.floor(i),s=this.slidesCount%2==0?i:Math.floor(i);for(this.currentSlideLoc=n,t=1;t<=n;++t)e.unshift(this.slideList[this.index-t<0?this.slidesCount-t+this.index:this.index-t]);for(e.push(this.slideList[this.index]),t=1;t<=s;++t)e.push(this.slideList[this.index+t>=this.slidesCount?this.index+t-this.slidesCount:this.index+t]);return e},t.__getSteps=function(e,t){var i=t<e?this.slidesCount-e+t:t-e,n=Math.abs(this.slidesCount-i);return i<n?i:-n},t.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var i=t.$element[0][this.__offset]+this.spacing+this[this.__dimension];e.$element[0].style[this.__cssProb]=i+"px",e.position=i}},t.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];if(this.slides.unshift(e),this.normalMode){var i=t.$element[0][this.__offset]-this.spacing-this[this.__dimension];e.$element[0].style[this.__cssProb]=i+"px",e.position=i}},t.addSlide=function(e){e.view=this,this.slides.push(e),this.slideList.push(e),this.slidesCount++},t.appendSlide=function(e){this.$slideCont.append(e.$element)},t.updateLoop=function(e){if(this.loop)for(var t=this.__getSteps(this.index,e),i=0,n=Math.abs(t);i<n;++i)t<0?this.__pushStart():this.__pushEnd()},t.gotoSlide=function(e,t){this.updateLoop(e),this.index=e;var i=this.slideList[this.index];this._checkCritMargins(),this.controller.changeTo(i.position,!t,null,null,!1),i!==this.currentSlide&&(this.currentSlide=i,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),t&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},t.next=function(){this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},t.previous=function(){this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},t.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var e=this;"h"===this.dir?this.swipeControl.onSwipe=function(t){e.horizSwipeMove(t)}:this.swipeControl.onSwipe=function(t){e.vertSwipeMove(t)}},t.vertSwipeMove=function(e){var t=e.phase;if("start"===t)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START));else if("move"===t&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveY)<this.cont_size/2))this.controller.drag(e.moveY);else if("end"===t||"cancel"===t){var i=e.distanceY/e.duration*50/3;Math.abs(i)>.1?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL)))}},t.horizSwipeMove=function(e){var t=e.phase;if("start"===t)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START));else if("move"===t&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveX)<this.cont_size/2))this.controller.drag(e.moveX);else if("end"===t||"cancel"===t){var i=e.distanceX/e.duration*50/3;Math.abs(i)>.1?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL)))}},t.setSize=function(e,t,i){if(this.lastWidth!==e||t!==this.lastHeight||i){this.$element.width(e).height(t);for(var n=0;n<this.slidesCount;++n)this.slides[n].setSize(e,t,i);this.__width=e,this.__height=t,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=e,this.lastHeight=t)}},t.create=function(e){this.__created=!0,this.index=Math.min(e||0,this.slidesCount-1),this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum,this.__locateSlides();for(var t=0;t<this.slidesCount;++t)this.slides[t].create();this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},t.destroy=function(){if(this.__created){for(var e=0;e<this.slidesCount;++e)this.slides[e].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(t),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d")},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var e=MSWaveView.prototype,t=MSBasicView.prototype;e._horizUpdate=function(e,i){t._horizUpdate.call(this,e,i);for(var n,s,r=-i,o=0;o<this.slidesCount;++o)s=-r-(n=this.slideList[o]).position,this.__updateSlidesHoriz(n,s)},e._vertiUpdate=function(e,i){t._vertiUpdate.call(this,e,i);for(var n,s,r=-i,o=0;o<this.slidesCount;++o)s=-r-(n=this.slideList[o]).position,this.__updateSlidesVertic(n,s)},e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg)")},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);var e=MSFadeBasicView.prototype;MSFadeBasicView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(.6*t/this.__width);i=1-Math.min(i,.6),e.$element.css("opacity",i)},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var e=MSFadeWaveView.prototype;MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);i=Math.min(i,100),e.$element.css("opacity",1-i/300),e.$element.css(window._csspfx+"transform","scale("+(1-i/800)+") rotateY(0.01deg) ")},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var e=MSFlowView.prototype;MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width),n=Math.min(.3*i,30)*(t<0?-1:1),s=1.2*i;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-s+"px) rotateY("+n+"deg) "},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width),n=Math.min(.3*i,30)*(t<0?-1:1),s=1.2*i;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-s+"px) rotateX("+-n+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var e=MSFadeFlowView.prototype;MSWaveView.prototype;e.__calculate=function(e){var t=Math.min(Math.abs(100*e/this.__width),100);return{value:t,rvalue:Math.min(.5*t,50)*(e<0?-1:1)}},e.__updateSlidesHoriz=function(e,t){var i=this.__calculate(t);e.$element.css("opacity",1-i.value/300),e.$element[0].style[window._csspfx+"transform"]="translateZ("+-i.value+"px) rotateY("+i.rvalue+"deg) "},e.__updateSlidesVertic=function(e,t){var i=this.__calculate(t);e.$element.css("opacity",1-i.value/300),e.$element[0].style[window._csspfx+"transform"]="translateZ("+-i.value+"px) rotateX("+-i.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function(e){"use strict";window.MSMaskView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var t=MSMaskView.prototype,i=MSBasicView.prototype;t.addSlide=function(t){t.view=this,t.$frame=e("<div></div>").addClass("ms-mask-frame").append(t.$element),t.$element[0].style.position="relative",t.autoAppend=!1,this.slides.push(t),this.slideList.push(t),this.slidesCount++},t.setSize=function(e,t){for(var n=this.slides[0].slider,s=0;s<this.slidesCount;++s)this.slides[s].$frame[0].style.width=e+"px",n.options.autoHeight||(this.slides[s].$frame[0].style.height=t+"px");i.setSize.call(this,e,t)},t._horizUpdate=function(e,t){i._horizUpdate.call(this,e,t);var n=0;if(this.css3)for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(t-this.slideList[n].position)+"px)"+this.__translate_end;else for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style.left=t-this.slideList[n].position+"px"},t._vertiUpdate=function(e,t){i._vertiUpdate.call(this,e,t);var n=0;if(this.css3)for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(t-this.slideList[n].position)+"px)"+this.__translate_end;else for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style.top=t-this.slideList[n].position+"px"},t.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var i=t.$frame[0][this.__offset]+this.spacing+this[this.__dimension];e.$frame[0].style[this.__cssProb]=i+"px",e.position=i}},t.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];if(this.slides.unshift(e),this.normalMode){var i=t.$frame[0][this.__offset]-this.spacing-this[this.__dimension];e.$frame[0].style[this.__cssProb]=i+"px",e.position=i}},t.__updateViewList=function(){if(this.normalMode)this.viewSlidesList=this.slides;else{var e=this.viewSlidesList.slice();this.viewSlidesList=[];var t,i=0,n=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+i]);else{for(i=0;i!==n&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==n&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,t=e.length;i!==t;i++)-1===this.viewSlidesList.indexOf(e[i])&&(e[i].sleep(),e[i].$frame.detach());e=null}},t.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var r=t+s*(this[this.__dimension]+this.spacing);i=this.viewSlidesList[s],this.$slideCont.append(i.$frame),i.wakeup(!1),i.position=r,i.$frame[0].style[this.__cssProb]=r+"px"}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var e=MSFadeView.prototype,t=MSBasicView.prototype;e.__update=function(e,t){for(var i,n,s=-t,r=0;r<this.slidesCount;++r)n=-s-(i=this.slideList[r]).position,this.__updateSlides(i,n)},e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]);1-i<=0?e.$element.fadeTo(0,0).css("visibility","hidden"):e.$element.fadeTo(0,1-i).css("visibility","")},e.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var r=t+s*this[this.__dimension];(i=this.viewSlidesList[s]).wakeup(),i.position=r}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},e.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];this.slides.push(e),e.position=t.position+this[this.__dimension]},e.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];this.slides.unshift(e),e.position=t.position-this[this.__dimension]},e.create=function(e){t.create.call(this,e),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var e=MSScaleView.prototype,t=MSFadeView.prototype;e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]);1-i<=0?e.$element.fadeTo(0,0).css("visibility","hidden"):e.$element.fadeTo(0,1-i).css("visibility","").css(window._jcsspfx+"Transform","perspective(2000px) translateZ("+i*(t<0?-.5:.5)*300+"px)")},e.create=function(e){t.create.call(this,e),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";var e=2e3;window.MSFocusView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;var t=MSFocusView.prototype;MSWaveView.prototype;t.__calcview=function(t,i){return i/2*t/(t+e)*(t+e)/e},t.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);i=15*-Math.min(i,100),e.$element.css(window._csspfx+"transform","translateZ("+i+"px) rotateY(0.01deg) translateX("+(t<0?1:-1)*(-this.__calcview(i,this.__width)*this.options.centerSpace)+"px)")},t.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width);i=15*-Math.min(i,100),e.$element.css(window._csspfx+"transform","translateZ("+i+"px) rotateY(0.01deg) translateY("+(t<0?1:-1)*(-this.__calcview(i,this.__width)*this.options.centerSpace)+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var e=MSPartialWaveView.prototype;MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);e.$bg_img.css("opacity",(100-Math.abs(120*t/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg) translateX("+.75*t+"px)")},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width);e.$bg_img.css("opacity",(100-Math.abs(120*t/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg) translateY("+.75*t+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(e){"use strict";var t=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0}},i=t.prototype;i.slideAction=function(){},i.setup=function(){this.cont=this.options.insertTo?e(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts(),this.options.hideUnder&&(e(window).bind("resize",{that:this},this.onResize),this.onResize())},i.onResize=function(e){var t=e&&e.data.that||this,i=window.innerWidth;i<=t.options.hideUnder&&!t.detached?(t.$element.css("display","none"),t.detached=!0,t.onDetach&&t.onDetach()):i>=t.options.hideUnder&&t.detached&&(t.detached=!1,t.$element.css("display",""),t.visible(),t.onAppend&&t.onAppend())},i.create=function(){var t=this;this.options.autohide&&!window._touch&&(this.hide(!0),this.slider.$controlsCont.mouseenter(function(){t._disableAH||t.mdown||t.visible(),t.mleave=!1}).mouseleave(function(){t.mleave=!0,t.mdown||t.hide()}).mousedown(function(){t.mdown=!0}),e(document).mouseup(function(){t.mdown&&t.mleave&&t.hide(),t.mdown=!1}))},i._hideOnvideoStarts=function(){var e=this;slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){e._disableAH=!0,e.hide()}),slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){e._disableAH=!1,e.visible()})},i.hide=function(e){e?this.$element.css("opacity",0):CTween.fadeOut(this.$element,400,!1),this.$element.addClass("ms-ctrl-hide")},i.visible=function(){this.detached||(CTween.fadeIn(this.$element,400),this.$element.removeClass("ms-ctrl-hide"))},i.destroy=function(){this.options.hideUnder&&e(window).unbind("resize",this.onResize)},window.BaseControl=t}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),e.extend(this.options,t)};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){var t=this;n.setup.call(this),this.$next=e("<div></div>").addClass(this.options.prefix+"nav-next").appendTo(this.cont).bind("click",function(){t.slider.options.loop||t.slider.api.index()!==t.slider.api.count()-1?t.slider.api.next():t.slider.view.controller.bounce(10)}),this.$prev=e("<div></div>").addClass(this.options.prefix+"nav-prev").appendTo(this.cont).bind("click",function(){t.slider.options.loop||0!==t.slider.api.index()?t.slider.api.previous():t.slider.view.controller.bounce(-10)})},i.hide=function(e){if(e)return this.$prev.css("opacity",0),void this.$next.css("opacity",0);this.options.dontFade?(this.$prev.css("opacity",0),this.$next.css("opacity",0)):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1)),this.$prev.addClass("ms-ctrl-hide"),this.$next.addClass("ms-ctrl-hide")},i.visible=function(){this.options.dontFade?(this.$prev.css("opacity",1),this.$next.css("opacity",1)):(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400)),this.$prev.removeClass("ms-ctrl-hide"),this.$next.removeClass("ms-ctrl-hide")},i.destroy=function(){this.$next.remove(),this.$prev.remove()},window.MSArrows=t,MSSlideController.registerControl("arrows",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===t.dir,this.options.arrows=!0,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",e.extend(this.options,t),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),n.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$thumbscont=e("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var t=this;this.$fwd=e("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){t.controller.push(-15)}),this.$bwd=e("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){t.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var i=this.options.align;this.options.inset?this.$element.css(i,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(e,-t-this.options[this.__alignsize]-this.options.margin)}},i.slideAction=function(t){var i=e(t.$element.find(".ms-thumb")),n=this,s=e("<div></div>").addClass("ms-thumb-frame").append(i).append(e('<div class="ms-thumb-ol"></div>')).bind("click",function(){n.changeSlide(s)});this.options.align&&s.width(this.options.width).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),s[0].index=this.index_count++,this.$thumbscont.append(s),e.browser.msie&&i.on("dragstart",function(e){e.preventDefault()}),this.thumbs.push(s)},i.create=function(){n.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var t=this;this.resize_listener=function(){t.__resize()},e(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();t=this;this.options.wheel&&(this.wheellistener=function(e){var i=window.event||e.orginalEvent||e,n=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));return t.controller.push(10*-n),!1},e.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},i._hMove=function(e,t){this.__contPos=t,window._cssanim?this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-t+"px)"+this.__translate_end:this.$thumbscont[0].style.left=-t+"px"},i._vMove=function(e,t){this.__contPos=t,window._cssanim?this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-t+"px)"+this.__translate_end:this.$thumbscont[0].style.top=-t+"px"},i.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var e=this;"h"===this.options.dir?this.swipeControl.onSwipe=function(t){e.horizSwipeMove(t)}:this.swipeControl.onSwipe=function(t){e.vertSwipeMove(t)}},i.vertSwipeMove=function(e){if(!this.dTouch){var t=e.phase;if("start"===t)this.controller.stop();else if("move"===t)this.controller.drag(e.moveY);else if("end"===t||"cancel"===t){Math.abs(e.distanceY/e.duration*50/3)>.1?this.controller.push(-e.distanceY/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},i.horizSwipeMove=function(e){if(!this.dTouch){var t=e.phase;if("start"===t)this.controller.stop(),this.click_enable=!1;else if("move"===t)this.controller.drag(e.moveX);else if("end"===t||"cancel"===t){Math.abs(e.distanceX/e.duration*50/3)>.1?this.controller.push(-e.distanceX/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},i.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=e,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},i.updateThumbscroll=function(){var e=this.thumbSize*this.cindex;if(this.controller.value==NaN&&(this.controller.value=0),e-this.controller.value<0)this.controller.gotoSnap(this.cindex,!0);else if(e+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var t=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;this.controller.gotoSnap(t,!0)}else;},i.changeSlide=function(e){this.click_enable&&this.cindex!==e[0].index&&this.slider.api.gotoSlide(e[0].index)},i.unselect=function(e){e.removeClass("ms-thumb-frame-selected")},i.select=function(e){e.addClass("ms-thumb-frame-selected")},i.__resize=function(){var e=this.$element[this.__dimen]();if(this.ls!==e){this.ls=e,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var t=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=t+"px",t<=e?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(e-t)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=t-e,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},i.destroy=function(){this.options.wheel&&(e.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),e(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),n.destroy()},window.MSThumblist=t,MSSlideController.registerControl("thumblist",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,e.extend(this.options,t),this.bullets=[]};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=e("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var t=this.options.align;this.options.inset&&this.$element.css(t,this.options.margin)}},i.create=function(){n.create.call(this);var t=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i<this.slider.api.count();++i){var s=e("<div></div>").addClass("ms-bullet");s[0].index=i,s.on("click",function(){t.changeSlide(this.index)}),this.$bullet_cont.append(s),this.bullets.push(s)}"h"===this.options.dir&&this.$element.width(s.outerWidth(!0)*this.slider.api.count()),this.select(this.bullets[this.cindex])},i.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=e,this.select(this.bullets[this.cindex]))},i.changeSlide=function(e){this.cindex!==e&&this.slider.api.gotoSlide(e)},i.unselect=function(e){e.removeClass("ms-bullet-selected")},i.select=function(e){e.addClass("ms-bullet-selected")},i.destroy=function(){this.$element.remove()},window.MSBulltes=t,MSSlideController.registerControl("bullets",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,e.extend(this.options,t),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),n.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=e("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(console.log("WARNING, MSScrollbar cannot work with looped slider."),this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){"v"===this.options.dir?this.$element.css({right:"auto",left:"auto"}):this.$element.css({top:"auto",bottom:"auto"});var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,2*this.options.margin+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},i.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},i._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},i._update=function(){var e=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==e){if(this.lvalue=e,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var t=this;this.hto=setTimeout(function(){t.$bar.css("opacity","0")},150)}e<0?this.$bar[0].style[this.__dimen]=this.bar_dimen+e+"px":(e>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-e+"px"),window._cssanim?this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+e+"px)"+this.__translate_end:this.$bar[0].style[this.__pos]=e+"px")}},i.destroy=function(){this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove(),n.destroy()},window.MSScrollbar=t,MSSlideController.registerControl("scrollbar",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,e.extend(this.options,t)};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"timerbar"),
n.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=e("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,2*this.options.margin+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},i.create=function(){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WATING,this._update,this),this._update()},i._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},i.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.WATING,this._update,this),this.$element.remove()},window.MSTimerbar=t,MSSlideController.registerControl("timebar",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,e.extend(this.options,t)};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=e("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=e("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),!this.$canvas[0].getContext)return this.destroy(),void(this.disable=!0);this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w},i.create=function(){if(!this.disable){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WATING,this._update,this);var e=this;this.$element.click(function(){e.slider.api.paused?e.slider.api.resume():e.slider.api.pause()}),this._update()}},i._update=function(){var t=this;e(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){t._draw()}})},i._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},i.destroy=function(){this.disable||(e(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WATING,this._update,this),this.$element.remove())},window.MSCircleTimer=t,MSSlideController.registerControl("circletimer",t)}(jQuery),function(e){"use strict";window.MSLightbox=function(t){BaseControl.call(this,t),this.options.autohide=!1,e.extend(this.options,t),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var t=MSLightbox.prototype,i=BaseControl.prototype;t.setup=function(){i.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont)},t.slideAction=function(t){e("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(t.$element).append(e(t.$element.find(".ms-lightbox")))},t.create=function(){i.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function(e){"use strict";window.MSSlideInfo=function(t){BaseControl.call(this,t),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",e.extend(this.options,t),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var t=MSSlideInfo.prototype,i=BaseControl.prototype;t.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),i.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),!this.options.insetTo&&this.options.align){var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}},t.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},t.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},t.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options.size+2*this.options.margin);this.$element.css(e,-t-this.options.size-this.options.margin)}},t.slideAction=function(t){var i=e(t.$element.find(".ms-info"));i.detach(),this.data_list[t.index]=i},t.create=function(){i.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},t.update=function(){var e=this.slider.api.index();this.switchEle(this.data_list[e]),this.cindex=e},t.switchEle=function(e){if(this.current_ele){var t=this;return this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null},target:this.current_ele}),clearTimeout(this.tou),void(this.tou=setTimeout(function(){t.__show(e)},MSSlideInfo.fadeDuratation+200))}this.__show(e)},t.__show=function(e){e.appendTo(this.$element).css("opacity","0"),CTween.fadeIn(e,MSSlideInfo.fadeDuratation),e[0].tween&&e[0].tween.stop(!0),this.current_ele=e},t.destroy=function(){clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function(){window.MSGallery=function(e,t){this.id=e,this.slider=t,this.telement=$("#"+e),this.botcont=$("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=$("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=$("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=$("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),t.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),t.control("slidenum",{insertTo:this.botcont,autohide:!1}),t.control("slideinfo",{insertTo:this.botcont,autohide:!1}),t.control("timebar",{insertTo:this.botcont,autohide:!1}),t.control("bullets",{insertTo:this.botcont,autohide:!1})};var e=MSGallery.prototype;e._init=function(){var e=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){e.slider.api.paused?(e.slider.api.resume(),e.playbtn.addClass("btn-pause")):(e.slider.api.pause(),e.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){e.vthumbs?(e.thumbtoggle.removeClass("btn-hide"),e.vthumbs=!1,e.thumbcont.addClass("hide-thumbs")):(e.thumbtoggle.addClass("btn-hide"),e.thumbcont.removeClass("hide-thumbs"),e.vthumbs=!0)})},e.setup=function(){var e=this;$(document).ready(function(){e._init()})}}(),
/*!
   JW Player version 8.2.0
   Copyright (c) 2018, JW Player, All Rights Reserved 
   This source code and its use and distribution is subject to the terms 
   and conditions of the applicable license agreement. 
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.2.0/notice.txt
*/
window.jwplayer=function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i=window.webpackJsonpjwplayer;window.webpackJsonpjwplayer=function(t,n,r){for(var o,a,l=0,c=[];l<t.length;l++)a=t[l],s[a]&&c.push(s[a][0]),s[a]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);for(i&&i(t,n,r);c.length;)c.shift()()};var n={},s={16:0};return t.e=function(e){function i(){a.onerror=a.onload=null,clearTimeout(l);var t=s[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),s[e]=void 0)}var n=s[e];if(0===n)return new Promise(function(e){e()});if(n)return n[2];var r=new Promise(function(t,i){n=s[e]=[t,i]});n[2]=r;var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=35e3,t.nc&&a.setAttribute("nonce",t.nc),a.src=t.p+""+({0:"jwplayer.core.controls.polyfills.html5",1:"jwplayer.core.controls.html5",2:"jwplayer.core.controls.polyfills",3:"jwplayer.core.controls",4:"jwplayer.controls",5:"provider.shaka",6:"provider.hlsjs",7:"jwplayer.core",8:"provider.html5",9:"provider.flash",10:"polyfills.intersection-observer",11:"provider.cast",12:"jwplayer.vr",13:"vttparser",14:"provider.airplay",15:"polyfills.webvtt"}[e]||e)+".js";var l=setTimeout(i,35e3);return a.onerror=a.onload=i,o.appendChild(a),r},t.m=e,t.c=n,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=55)}([function(e,t,i){"use strict";i.d(t,"a",function(){return R}),i.d(t,"b",function(){return P});var n=i(21),s={},r=Array.prototype,o=Object.prototype,a=Function.prototype,l=r.slice,c=r.concat,u=o.toString,h=o.hasOwnProperty,d=r.map,p=r.reduce,f=r.forEach,m=r.filter,g=r.every,v=r.some,_=r.indexOf,y=Array.isArray,b=Object.keys,w=a.bind,x=function N(e){return e instanceof N?e:this instanceof N?void 0:new N(e)},E=x.each=x.forEach=function(e,t,i){var n,r;if(null==e)return e;if(f&&e.forEach===f)e.forEach(t,i);else if(e.length===+e.length){for(n=0,r=e.length;n<r;n++)if(t.call(i,e[n],n,e)===s)return}else{var o=x.keys(e);for(n=0,r=o.length;n<r;n++)if(t.call(i,e[o[n]],o[n],e)===s)return}return e};x.map=x.collect=function(e,t,i){var n=[];return null==e?n:d&&e.map===d?e.map(t,i):(E(e,function(e,s,r){n.push(t.call(i,e,s,r))}),n)},x.reduce=x.foldl=x.inject=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return n&&(t=x.bind(t,n)),s?e.reduce(t,i):e.reduce(t);if(E(e,function(e,r,o){s?i=t.call(n,i,e,r,o):(i=e,s=!0)}),!s)throw new TypeError("Reduce of empty array with no initial value");return i},x.find=x.detect=function(e,t,i){var n;return S(e,function(e,s,r){if(t.call(i,e,s,r))return n=e,!0}),n},x.filter=x.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(E(e,function(e,s,r){t.call(i,e,s,r)&&n.push(e)}),n)},x.reject=function(e,t,i){return x.filter(e,function(e,n,s){return!t.call(i,e,n,s)},i)},x.compact=function(e){return x.filter(e,x.identity)},x.every=x.all=function(e,t,i){t||(t=x.identity);var n=!0;return null==e?n:g&&e.every===g?e.every(t,i):(E(e,function(e,r,o){if(!(n=n&&t.call(i,e,r,o)))return s}),!!n)};var S=x.some=x.any=function(e,t,i){t||(t=x.identity);var n=!1;return null==e?n:v&&e.some===v?e.some(t,i):(E(e,function(e,r,o){if(n||(n=t.call(i,e,r,o)))return s}),!!n)};x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}};var k=function(e){return null==e?x.identity:x.isFunction(e)?e:x.property(e)},T=function(e){return function(t,i,n){var s={};return i=k(i),E(t,function(r,o){var a=i.call(n,r,o,t);e(s,a,r)}),s}};x.groupBy=T(function(e,t,i){x.has(e,t)?e[t].push(i):e[t]=[i]}),x.indexBy=T(function(e,t,i){e[t]=i}),x.sortedIndex=function(e,t,i,n){for(var s=(i=k(i)).call(n,t),r=0,o=e.length;r<o;){var a=r+o>>>1;i.call(n,e[a])<s?r=a+1:o=a}return r},x.contains=x.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=x.values(e)),x.indexOf(e,t)>=0)},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-1/0,s=-1/0;return E(e,function(e,r,o){var a=t?t.call(i,e,r,o):e;a>s&&(n=e,s=a)}),n},x.difference=function(e){var t=c.apply(r,l.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.without=function(e){return x.difference(e,l.call(arguments,1))},x.indexOf=function(e,t,i){if(null==e)return-1;var n=0,s=e.length;if(i){if("number"!=typeof i)return e[n=x.sortedIndex(e,t)]===t?n:-1;n=i<0?Math.max(0,s+i):i}if(_&&e.indexOf===_)return e.indexOf(t,i);for(;n<s;n++)if(e[n]===t)return n;return-1};var C=function(){};x.bind=function(e,t){var i,n;if(w&&e.bind===w)return w.apply(e,l.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return i=l.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(l.call(arguments)));C.prototype=e.prototype;var s=new C;C.prototype=null;var r=e.apply(s,i.concat(l.call(arguments)));return Object(r)===r?r:s}},x.partial=function(e){var t=l.call(arguments,1);return function(){for(var i=0,n=t.slice(),s=0,r=n.length;s<r;s++)n[s]===x&&(n[s]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},x.once=x.partial(x.before,2),x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var n=t.apply(this,arguments);return x.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},x.delay=function(e,t){var i=l.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(l.call(arguments,1)))},x.throttle=function(e,t,i){var s,r,o,a=null,l=0;i||(i={});var c=function(){l=!1===i.leading?0:Object(n.a)(),a=null,o=e.apply(s,r),s=r=null};return function(){l||!1!==i.leading||(l=n.a);var u=t-(n.a-l);return s=this,r=arguments,u<=0?(clearTimeout(a),a=null,l=n.a,o=e.apply(s,r),s=r=null):a||!1===i.trailing||(a=setTimeout(c,u)),o}},x.keys=function(e){if(!x.isObject(e))return[];if(b)return b(e);var t=[];for(var i in e)x.has(e,i)&&t.push(i);return t},x.invert=function(e){for(var t={},i=x.keys(e),n=0,s=i.length;n<s;n++)t[e[i[n]]]=i[n];return t},x.defaults=function(e){return E(l.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},x.extend=function(e){return E(l.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={},i=c.apply(r,l.call(arguments,1));return E(i,function(i){i in e&&(t[i]=e[i])}),t},x.omit=function(e){var t={},i=c.apply(r,l.call(arguments,1));for(var n in e)x.contains(i,n)||(t[n]=e[n]);return t},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.isArray=y||function(e){return"[object Array]"==u.call(e)},x.isObject=function(e){return e===Object(e)},E(["Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),x.isFunction=function(e){return"function"==typeof e},x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};var R=x.isNaN=function(e){return x.isNumber(e)&&e!=+e};x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==u.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return h.call(e,t)},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},x.now=n.a,x.result=function(e,t){if(null!=e){var i=e[t];return x.isFunction(i)?i.call(e):i}};var P=x.isNumber;t.c=x},function(e,t,i){"use strict";i.d(t,"b",function(){return r});var n=i(56),s=window.Promise||(window.Promise=n.a),r=s.resolve();t.a=s},function(e,t,i){"use strict";function n(e){return e.replace(/^\s+|\s+$/g,"")}function s(e,t,i){for(e=""+e,i=i||"0";e.length<t;)e=i+e;return e}function r(e,t){for(var i=0;i<e.attributes.length;i++)if(e.attributes[i].name&&e.attributes[i].name.toLowerCase()===t.toLowerCase())return e.attributes[i].value.toString();return""}function o(e){return/[(,]format=m3u8-/i.test(e)?"m3u8":!!/[(,]format=mpd-/i.test(e)&&"mpd"}function a(e){return e&&"rtmp"!==e.substr(0,4)?o(e)||((e=e.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0):""}function l(e){var t=parseInt(e/3600),i=parseInt(e/60)%60,n=e%60;return s(t,2)+":"+s(i,2)+":"+s(n.toFixed(3),6)}function c(e,t){if(!e)return 0;if(p.c.isNumber(e)&&!p.c.isNaN(e))return e;var i=(e=e.replace(",",".")).split(":"),n=i.length,s=0;if("s"===e.slice(-1))s=parseFloat(e);else if("m"===e.slice(-1))s=60*parseFloat(e);else if("h"===e.slice(-1))s=3600*parseFloat(e);else if(n>1){var r=n-1;4===n&&(t&&(s=parseFloat(i[r])/t),r-=1),s+=parseFloat(i[r]),s+=60*parseFloat(i[r-1]),n>=3&&(s+=3600*parseFloat(i[r-2]))}else s=parseFloat(e);return p.c.isNaN(s)?0:s}function u(e,t,i){if(p.c.isString(e)&&"%"===e.slice(-1)){var n=parseFloat(e);return!t||isNaN(t)||isNaN(n)?null:t*n/100}return c(e,i)}function h(e,t){return p.c.map(e,function(e){return t+e})}function d(e,t){return p.c.map(e,function(e){return e+t})}t.h=n,t.d=s,t.i=r,t.a=a,t.b=l,t.f=c,t.c=u,t.e=h,t.g=d;var p=i(0)},,,function(e,t,i){"use strict";i.d(t,"_3",function(){return n}),i.d(t,"_6",function(){return s}),i.d(t,"_4",function(){return r}),i.d(t,"_8",function(){return o}),i.d(t,"_9",function(){return a}),i.d(t,"_5",function(){return l}),i.d(t,"_7",function(){return c}),i.d(t,"_10",function(){return u}),i.d(t,"n",function(){return h}),i.d(t,"p",function(){return d}),i.d(t,"o",function(){return p}),i.d(t,"i",function(){return f}),i.d(t,"l",function(){return m}),i.d(t,"_11",function(){return g}),i.d(t,"m",function(){return v}),i.d(t,"S",function(){return _}),i.d(t,"P",function(){return y}),i.d(t,"q",function(){return b}),i.d(t,"R",function(){return w}),i.d(t,"r",function(){return x}),i.d(t,"a",function(){return E}),i.d(t,"d",function(){return S}),i.d(t,"z",function(){return k}),i.d(t,"_0",function(){return T}),i.d(t,"J",function(){return C}),i.d(t,"w",function(){return R}),i.d(t,"v",function(){return P}),i.d(t,"y",function(){return N}),i.d(t,"k",function(){return M}),i.d(t,"V",function(){return O}),i.d(t,"h",function(){return D}),i.d(t,"A",function(){return I}),i.d(t,"B",function(){return L}),i.d(t,"G",function(){return A}),i.d(t,"H",function(){return j}),i.d(t,"K",function(){return z}),i.d(t,"_2",function(){return F}),i.d(t,"U",function(){return H}),i.d(t,"x",function(){return $}),i.d(t,"L",function(){return B}),i.d(t,"I",function(){return W}),i.d(t,"M",function(){return V}),i.d(t,"O",function(){return U}),i.d(t,"F",function(){return q}),i.d(t,"E",function(){return Y}),i.d(t,"C",function(){return G}),i.d(t,"D",function(){return X}),i.d(t,"N",function(){return Z}),i.d(t,"j",function(){return Q}),i.d(t,"s",function(){return K}),i.d(t,"_1",function(){return J}),i.d(t,"W",function(){return ee}),i.d(t,"X",function(){return te}),i.d(t,"b",function(){return ie}),i.d(t,"c",function(){return ne}),i.d(t,"T",function(){return se}),i.d(t,"u",function(){return re}),i.d(t,"g",function(){return oe}),i.d(t,"f",function(){return ae}),i.d(t,"Y",function(){return le}),i.d(t,"Z",function(){return ce}),i.d(t,"_12",function(){return ue}),i.d(t,"t",function(){return he}),i.d(t,"e",function(){return de}),i.d(t,"Q",function(){return pe});var n="buffering",s="idle",r="complete",o="paused",a="playing",l="error",c="loading",u="stalled",h="drag",d="dragStart",p="dragEnd",f="click",m="doubleClick",g="tap",v="doubleTap",_="over",y="move",b="enter",w="out",x=l,E="adSkipped",S="autostartNotAllowed",k=r,T="ready",C="seek",R="beforePlay",P="beforeComplete",N="bufferFull",M="displayClick",O="playlistComplete",D="cast",I="mediaError",L="firstFrame",A="playAttempt",j="playAttemptFailed",z="seeked",F="setupError",H="state",$="bufferChange",B="time",W="ratechange",V="mediaType",U="volume",q="mute",Y="meta",G="levels",X="levelsChanged",Z="visualQuality",Q="controls",K="fullscreen",J="resize",ee="playlistItem",te="playlist",ie="audioTracks",ne="audioTrackChanged",se="playbackRateChanged",re="logoClick",oe="captionsList",ae="captionsChanged",le="providerChanged",ce="providerFirstFrame",ue="userAction",he="instreamClick",de="breakpoint",pe="fullscreenchange"},function(e,t,i){"use strict";function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(u.a.debug)return e.apply(t||this,i);try{return e.apply(t||this,i)}catch(t){return new s(e.name,t)}}function s(e,t){this.name=e,this.message=t.message||t.toString(),this.error=t}var r=i(16),o=i(11),a=i(12),l=i(2),c=i(22),u=i(15),h=i(0),d=i(30),p=i(25),f=i(26),m=i(52);i.d(t,"b",function(){return v});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},v="function"==typeof console.log?console.log.bind(console):function(){},_=function(e,t,i){return Math.max(Math.min(e,i),t)},y=function(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])},b=h.c.indexOf,w=function(){},x=g({},a,o,r,{addClass:p.a,hasClass:p.h,removeClass:p.j,replaceClass:p.k,toggleClass:p.m,classList:p.d,styleDimension:p.l,createElement:p.e,emptyElement:p.g,addStyleSheet:p.b,bounds:p.c,css:f.b,clearCss:f.a,style:f.d,transform:f.e,getRgba:f.c,ajax:m.a,crossdomain:m.b,tryCatch:n,Error:s,Timer:c.a,log:v,between:_,foreach:y,flashVersion:d.a,isIframe:d.m,indexOf:b,trim:l.h,pad:l.d,extension:l.a,hms:l.b,seconds:l.f,prefix:l.e,suffix:l.g,noop:w});t.a=x},function(e,t){"use strict";function i(e,t,i){if(!a(this,"on",e,[t,i])||!t)return this;var n=this._events||(this._events={});return(n[e]||(n[e]=[])).push({callback:t,context:i}),this}function n(e,t,i){if(!a(this,"once",e,[t,i])||!t)return this;var n=0,s=this,r=function o(){n++||(s.off(e,o),t.apply(this,arguments))};return r._callback=t,this.on(e,r,i)}function s(e,t,i){if(!this._events||!a(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return delete this._events,this;for(var n=e?[e]:Object.keys(this._events),s=0,r=n.length;s<r;s++){e=n[s];var o=this._events[e];if(o){var l=this._events[e]=[];if(t||i)for(var c=0,u=o.length;c<u;c++){var h=o[c];(t&&t!==h.callback&&t!==h.callback._callback||i&&i!==h.context)&&l.push(h)}l.length||delete this._events[e]}}return this}function r(e){if(!this._events)return this;var t=u.call(arguments,1);if(!a(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&l(i,t,this),n&&l(n,arguments,this),this}function o(e){if(!this._events)return this;var t=u.call(arguments,1);if(!a(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&l(i,t,this,e),n&&l(n,arguments,this,e),this}function a(e,t,i,n){if(!i)return!0;if("object"===(void 0===i?"undefined":c(i))){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e[t].apply(e,[s,i[s]].concat(n));return!1}if(h.test(i)){for(var r=i.split(h),o=0,a=r.length;o<a;o++)e[t].apply(e,[r[o]].concat(n));return!1}return!0}function l(e,t,i,n){for(var s=-1,r=e.length;++s<r;){var o=e[s];if(n)try{o.callback.apply(o.context||i,t)}catch(e){console.log('Error in "'+n+'" event handler:',e)}else o.callback.apply(o.context||i,t)}}t.c=i,t.d=n,t.b=s,t.e=r,t.f=o;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=[].slice,h=/\s+/;t.a={on:i,once:n,off:s,trigger:r}},function(e,t,i){"use strict";function n(e,t){var i=void 0,n=void 0,s=void 0,r=void 0;return e.chrome?i=-1!==t.indexOf("Chrome")?t.substring(t.indexOf("Chrome")+7):t.substring(t.indexOf("CriOS")+6):e.safari?i=t.substring(t.indexOf("Version")+8):e.firefox?i=t.substring(t.indexOf("Firefox")+8):e.edge?i=t.substring(t.indexOf("Edge")+5):e.ie&&(-1!==t.indexOf("rv:")?i=t.substring(t.indexOf("rv:")+3):-1!==t.indexOf("MSIE")&&(i=t.substring(t.indexOf("MSIE")+5))),i&&(-1!==(r=i.indexOf(";"))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(" "))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(")"))&&(i=i.substring(0,r)),n=parseInt(i,10),s=parseInt(i.split(".")[1],10)),{version:i,major:n,minor:s}}function s(e,t){if(e&&e.length>t)return e[t]}function r(e,t){var i=void 0,n=void 0,r=void 0;if(e.windows)switch(i=s(/Windows(?: NT|)? ([._\d]+)/.exec(t),1)){case"6.1":i="7.0";break;case"6.2":i="8.0";break;case"6.3":i="8.1"}else e.android?i=s(/Android ([._\d]+)/.exec(t),1):e.iOS?i=s(/OS ([._\d]+)/.exec(t),1):e.mac&&(i=s(/Mac OS X (10[._\d]+)/.exec(t),1));if(i){n=parseInt(i,10);var o=i.split(/[._]/);o&&(r=parseInt(o[1],10))}return{version:i,major:n,minor:r}}function o(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=i(30),l=i(0);i.d(t,"Browser",function(){return h}),i.d(t,"OS",function(){return d}),i.d(t,"Features",function(){return p});var c=l.c.memoize,u=navigator.userAgent,h={},d={},p={},f=function(){return u.indexOf("Windows")>-1};Object.defineProperties(h,{androidNative:{get:c(a.c),enumerable:!0},chrome:{get:c(a.d),enumerable:!0},edge:{get:c(a.e),enumerable:!0},facebook:{get:c(a.g),enumerable:!0},firefox:{get:c(a.f),enumerable:!0},ie:{get:c(a.i),enumerable:!0},msie:{get:c(a.n),enumerable:!0},safari:{get:c(a.q),enumerable:!0},version:{get:c(n.bind(this,h,u)),enumerable:!0}}),Object.defineProperties(d,{android:{get:c(a.b),enumerable:!0},iOS:{get:c(a.j),enumerable:!0},mobile:{get:c(a.o),enumerable:!0},mac:{get:c(a.p),enumerable:!0},iPad:{get:c(a.k),enumerable:!0},iPhone:{get:c(a.l),enumerable:!0},windows:{get:c(f),enumerable:!0},version:{get:c(r.bind(this,d,u)),enumerable:!0}}),Object.defineProperties(p,{flash:{get:c(a.h),enumerable:!0},flashVersion:{get:c(a.a),enumerable:!0},iframe:{get:c(a.m),enumerable:!0},passiveEvents:{get:c(o),enumerable:!0},backgroundLoading:{get:c(function(){return!(d.iOS||h.safari)}),enumerable:!0}})},function(e,t,i){"use strict";function n(e){return y||(y=r(e)),y}function s(){throw new Error("Network error")}function r(e){var t=e.get("controls"),i=o(),n=a(e,"html5");return t&&i&&n?l():t&&n?c():t&&i?u():t?h():d()}function o(){var e=window.IntersectionObserverEntry;return!(e&&"IntersectionObserver"in window&&"intersectionRatio"in e.prototype)}function a(e,t){var i=e.get("playlist");if(Array.isArray(i)&&i.length)for(var n=Object(f.a)(i[0]).sources,s=0;s<n.length;s++)for(var r=n[s],o=e.getProviders(),a=0;a<m.a.length;a++){var l=m.a[a];if(o.providerSupports(l,r))return l.name===t}return!1}function l(){return b.html5=!0,i.e(0).then(function(){i(10);var e=i(4)["default"];return v.b.controls=i(3)["default"],Object(g.a)(i(116)["default"]),e}.bind(null,i))["catch"](s)}function c(){return b.html5=!0,i.e(1).then(function(){var e=i(4)["default"];return v.b.controls=i(3)["default"],Object(g.a)(i(116)["default"]),e}.bind(null,i))["catch"](s)}function u(){return i.e(2).then(function(){i(10);var e=i(4)["default"];return v.b.controls=i(3)["default"],e}.bind(null,i))["catch"](s)}function h(){return i.e(3).then(function(){var e=i(4)["default"];return v.b.controls=i(3)["default"],e}.bind(null,i))["catch"](s)}function d(){return p().then(function(){return i.e(7).then(function(){return i(4)["default"]}.bind(null,i))["catch"](s)})}function p(){return o()?i.e(10).then(function(){return i(10)}.bind(null,i))["catch"](s):_.b}i.d(t,"a",function(){return b}),t.c=n,t.b=s;var f=i(23),m=i(17),g=i(18),v=i(48),_=i(1),y=null,b={}},,function(e,t){"use strict";function i(e){switch(void 0===e?"undefined":a(e)){case"string":return e.length>0;case"object":return null!==e;case"undefined":return!1;default:return!0}}function n(){return"https:"===window.location.protocol}function s(e,t){return 0===e.indexOf("rtmp:")||"rtmp"===t}function r(e,t){return"youtube"===t||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)}function o(e){if(null===e)return"null";var t=void 0===e?"undefined":a(e);return"object"===t&&Array.isArray(e)?"array":t}Object.defineProperty(t,"__esModule",{value:!0}),t.exists=i,t.isHTTPS=n,t.isRtmp=s,t.isYouTube=r,t.typeOf=o;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,i){"use strict";function n(e,t){if(Object(u.exists)(t)||(t=document.location.href),Object(u.exists)(e)){if(s(e))return e;var i=t.substring(0,t.indexOf("://")+3),n=t.substring(i.length,t.indexOf("/",i.length+1)),r=void 0;if(0===e.indexOf("/"))r=e.split("/");else{var o=t.split("?")[0];r=(o=o.substring(i.length+n.length+1,o.lastIndexOf("/"))).split("/").concat(e.split("/"))}for(var a=[],l=0;l<r.length;l++)r[l]&&Object(u.exists)(r[l])&&"."!==r[l]&&(".."===r[l]?a.pop():a.push(r[l]));return i+n+"/"+a.join("/")}}function s(e){return/^(?:(?:https?|file):)?\/\//.test(e)}function r(e){return h.c.some(e,function(e){return"parsererror"===e.nodeName})}function o(e){var t=null;try{"DOMParser"in window?(r((t=(new window.DOMParser).parseFromString(e,"text/xml")).childNodes)||t.childNodes&&r(t.childNodes[0].childNodes))&&(t=null):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){}return t}function a(e){if(void 0===e)return null;if("string"==typeof e&&e.length<6){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(e))&&!isNaN(parseFloat(e)))return Number(e)}return e}function l(e){return"string"==typeof e?""===e?0:e.lastIndexOf("%")>-1?e:parseInt(e.replace("px",""),10):e}function c(e,t){if(e<=0&&!t||h.c.isNaN(parseInt(e)))return"00:00";var i=e<0?"-":"";e=Math.abs(e);var n=Math.floor(e/3600),s=Math.floor((e-3600*n)/60),r=Math.floor(e%60);return i+(n?n+":":"")+(s<10?"0":"")+s+":"+(r<10?"0":"")+r}Object.defineProperty(t,"__esModule",{value:!0}),t.getAbsolutePath=n,t.isAbsolutePath=s,t.parseXML=o,t.serialize=a,t.parseDimension=l,t.timeFormat=c;var u=i(11),h=i(0)},function(e,t,i){"use strict";function n(e){var t="";return e&&(e.localName?t=e.localName:e.baseName&&(t=e.baseName)),t}function s(e){var t="";return e&&(e.textContent?t=Object(a.h)(e.textContent):e.text&&(t=Object(a.h)(e.text))),t}function r(e,t){return e.childNodes[t]}function o(e){return e.childNodes?e.childNodes.length:0}t.b=n,t.d=s,t.a=r,t.c=o;var a=i(2)},function(e,t){"use strict";function i(e){var t={setup:[n,s,r,o,a,c,u,h,l],drm:[a,c,u,h],ads:[c,u,h,l,a],jwpsrv:[n,s,r,o,a,c,h,l],discovery:[c,a,h,u]};return function(i){return t[i]&&t[i].indexOf(e)>-1}}t.a=i;var n="free",s="starter",r="business",o="premium",a="enterprise",l="platinum",c="ads",u="unlimited",h="trial"},function(e,t){"use strict";t.a={debug:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"getScriptPath",function(){return s}),i.d(t,"repo",function(){return r}),i.d(t,"versionCheck",function(){return o}),i.d(t,"loadFrom",function(){return a});var n=i(20),s=function(e){for(var t=document.getElementsByTagName("script"),i=0;i<t.length;i++){var n=t[i].src;if(n){var s=n.lastIndexOf("/"+e);if(s>=0)return n.substr(0,s+1)}}return""},r=function(){var e="//ssl.p.jwpcdn.com/player/v/8.2.0/";return("file:"===window.location.protocol?"https:":"")+e},o=function(e){var t=("0"+e).split(/\W/),i=n.a.split(/\W/),s=parseFloat(t[0]),r=parseFloat(i[0]);return!(s>r||s===r&&parseFloat("0"+t[1])>parseFloat(i[1]))},a=function(){return r()}},function(e,t,i){"use strict";function n(){return!!window.MediaSource&&!!window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function s(e){if(e.drm&&!Object(u.a)(e.drm))return!1;var t=window.MediaSource;if(!window.HTMLVideoElement||!t)return!1;var i=!0;return e.mediaTypes&&(i=l.c.all(e.mediaTypes,function(e){return t.isTypeSupported(e)})),i&&("dash"===e.type||"mpd"===e.type||(e.file||"").indexOf("mpd-time-csf")>-1)}var r=i(46),o=i(8),a=i(14),l=i(0),c=i(11),u=i(29),h=l.c.find(r.a,l.c.matches({name:"html5"})),d=h.supports;h.supports=function(e,t){var i=d.apply(this,arguments);if(i&&e.drm&&"hls"===e.type){var n=Object(a.a)(t)("drm");if(n&&e.drm.fairplay){var s=window.WebKitMediaKeys;return s&&s.isTypeSupported&&s.isTypeSupported("com.apple.fps.1_0","video/mp4")}return n}return i},r.a.push({name:"shaka",supports:s}),r.a.splice(0,0,{name:"hlsjs",supports:function(e){if(e.drm)return!1;var t=o.Browser.chrome||o.Browser.firefox||o.Browser.edge||o.Browser.ie&&11===o.Browser.version.major,i=o.OS.android&&!!e.hlsjsdefault,s=!o.OS.iOS&&o.Browser.safari&&!!e.safarihlsjs,r=n()&&(t||i||s),a=e.file.indexOf(".m3u8")>-1,l="hls"===e.type||"m3u8"===e.type;return r&&(a||l)}}),r.a.push({name:"flash",supports:function(e){if(!o.Features.flash||e.drm)return!1;var t=e.type;return"hls"===t||"m3u8"===t||!Object(c.isRtmp)(e.file,t)&&["flv","f4v","mov","m4a","m4v","mp4","aac","f4a","mp3","mpeg","smil"].indexOf(t)>-1}}),t.a=r.a},function(e,t,i){"use strict";function n(e){var t=e.getName().name;if(!s.a[t]){if(!a.c.find(r.a,a.c.matches({name:t}))){if(!a.c.isFunction(e.supports))throw new Error("Tried to register a provider with an invalid object");r.a.unshift({name:t,supports:e.supports})}a.c.defaults(e.prototype,o.a),s.a[t]=e}}t.a=n;var s=i(33),r=i(17),o=i(45),a=i(0)},function(e,t,i){"use strict";function n(e,t,i){var n=e.name,s=document.createElement("div");s.id=i.id+"_"+n,s.className="jw-plugin jw-reset";var r=c({},t),o=e.getNewInstance(i,r,s);i.addPlugin(n,o)}function s(e){switch(v(e)){case m:return e;case g:return Object(d.getAbsolutePath)(e,window.location.href)}}function r(e){return k[e]=new u,k[e]}function o(e,t){var i=e.get("id"),n=e.get("plugins");window.jwplayerPluginJsonp=T;var s=r(i);return s.load(t,S,n).then(function(e){s===k[i]&&(e&&e.forEach(function(e){e instanceof Error&&Object(b.b)(e.message)}),delete window.jwplayerPluginJsonp)})}var a=i(1),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){this.load=function(e,t,i){return i&&"object"===(void 0===i?"undefined":l(i))?a.a.all(Object.keys(i).filter(function(e){return e}).map(function(s){var r=t.addPlugin(s,!0),o=i[s];return r.load().then(function(){n(r,o,e)})["catch"](function(e){return e instanceof Error?e:new Error("Error in "+s+' "'+e+'"')})})):a.b}},h=i(24),d=i(12),p=i(2),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=0,g=1,v=function(e){if("string"==typeof e){var t=(e=e.split("?")[0]).indexOf("://");if(t>0)return m;var i=e.indexOf("/"),n=Object(p.a)(e);return!(t<0&&i<0)||n&&isNaN(n)?g:2}},_=function(e){this.url=e};f(_.prototype,{load:function(){if(2===v(this.url))return a.b;var e=new h.a(s(this.url));return this.loader=e,e.load()},registerPlugin:function(e,t,i){this.name=e,this.target=t,this.js=i},getNewInstance:function(e,t,i){var n=new(0,this.js)(e,t,i);return n.addToPlayer=function(){var t=e.getContainer().querySelector(".jw-overlays");t&&(i.left=t.style.left,i.top=t.style.top,t.appendChild(i),n.displayArea=t)},n.resizeHandler=function(){var e=n.displayArea;e&&n.resize(e.clientWidth,e.clientHeight)},n}});var y=_,b=i(6),w={},x=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},E=function(){this.addPlugin=function(e,t){var i=x(e),n=w[i];return n?t&&n.url!==e&&Object(b.b)('JW Plugin "'+i+'" already loaded from "'+n.url+'". Ignoring "'+e+'."'):(n=new y(e),w[i]=n),n},this.getPlugins=function(){return w}};i.d(t,"b",function(){return T}),t.a=o;var S=new E,k={},T=function(e,t,i){var n=S.addPlugin(e);n.js||n.registerPlugin(e,t,i)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n="8.2.0+commercial_v8-2-0.251.commercial.cdc12c5.hlsjs..jwplayer.f5e22c2.dai.ccc6c77.freewheel.29771b0.googima.f42cc17.vast.1ba6186.analytics.abc087d.gapro.f664e4e.related.a6a8ec0"},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=Date.now||function(){return(new Date).getTime()}},function(e,t,i){"use strict";function n(){return o+r.now()}var s=i(21),r=window.performance||{timing:{}},o=r.timing.navigationStart||Object(s.a)();"now"in r||(r.now=function(){return Object(s.a)()-o});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){var e={},t={},i={},s={};return{start:function(t){e[t]=n(),i[t]=i[t]+1||1},end:function(i){if(e[i]){var s=n()-e[i];delete e[i],t[i]=t[i]+s||s}},dump:function(){var r=a({},t);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=n()-e[o];r[o]=r[o]+l||l}return{counts:a({},i),sums:r,events:a({},s)}},tick:function(e){s[e]=n()},clear:function(e){delete s[e]},between:function(e,t){return s[t]&&s[e]?s[t]-s[e]:null}}};t.a=l},function(e,t,i){"use strict";var n=i(36),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(e){if(e&&e.file)return s({},{kind:"captions","default":!1},e)},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=Array.isArray,l=function(e){a((e=e||{}).tracks)||delete e.tracks;var t=o({},{sources:[],tracks:[],minDvrWindow:120},e);t.sources!==Object(t.sources)||a(t.sources)||(t.sources=[Object(n.a)(t.sources)]),a(t.sources)&&0!==t.sources.length||(e.levels?t.sources=e.levels:t.sources=[Object(n.a)(e)]);for(var i=0;i<t.sources.length;i++){var s=t.sources[i];if(s){var l=s["default"];s["default"]=!!l&&"true"===l.toString(),t.sources[i].label||(t.sources[i].label=i.toString()),t.sources[i]=Object(n.a)(t.sources[i])}}return t.sources=t.sources.filter(function(e){return!!e}),a(t.tracks)||(t.tracks=[]),a(t.captions)&&(t.tracks=t.tracks.concat(t.captions),delete t.captions),t.tracks=t.tracks.map(r).filter(function(e){return!!e}),t};t.a=l},function(e,t,i){"use strict";function n(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t}function s(e){var t=document.createElement("script");return t.type="text/javascript",t.charset="utf-8",t.async=!0,t.timeout=u,t.src=e,t}var r=i(7),o=i(5),a=i(1),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c={},u=15e3,h=2,d=3,p=function(e,t){function i(e){p=h,l.trigger(o.r,e).off()}function r(e){p=d,l.trigger(o._4,e).off()}var l=this,p=0;this.getStatus=function(){return p},this.load=function(){var o=c[e];return 0!==p?o:(o&&o.then(r)["catch"](i),p=1,o=new a.a(function(o,a){var l=(t?n:s)(e),c=function(){l.onerror=l.onload=null,clearTimeout(d)},h=function(e){c(),i(e),a(e)},d=setTimeout(function(){h(new Error("Network timeout "+e))},u);l.onerror=function(){h(new Error("Failed to load "+e))},l.onload=function(e){c(),r(e),o(e)};var p=document.getElementsByTagName("head")[0]||document.documentElement;p.insertBefore(l,p.firstChild)}),c[e]=o,o)}};l(p.prototype,r.a),t.a=p},function(e,t,i){"use strict";function n(e,t){return e.classList.contains(t)}function s(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function r(e){return e+(e.toString().indexOf("%")>0?"":"px")}function o(e){return y.c.isString(e.className)?e.className.split(" "):[]}function a(e,t){t=Object(_.h)(t),e.className!==t&&(e.className=t)}function l(e){return e.classList?e.classList:o(e)}function c(e,t){var i=o(e),n=y.c.isArray(t)?t:t.split(" ");y.c.each(n,function(e){y.c.contains(i,e)||i.push(e)}),a(e,i.join(" "))}function u(e,t){var i=o(e),n=y.c.isArray(t)?t:t.split(" ")
;a(e,y.c.difference(i,n).join(" "))}function h(e,t,i){var n=e.className||"";t.test(n)?n=n.replace(t,i):i&&(n+=" "+i),a(e,n)}function d(e,t,i){var s=n(e,t);(i=y.c.isBoolean(i)?i:!s)!==s&&(i?c(e,t):u(e,t))}function p(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function f(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function m(e){e&&p(e)}function g(e){var t={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!e||!document.body.contains(e))return t;var i=e.getBoundingClientRect(),n=window.pageYOffset,s=window.pageXOffset;return i.width||i.height||i.left||i.top?(t.left=i.left+s,t.right=i.right+s,t.top=i.top+n,t.bottom=i.bottom+n,t.width=i.right-i.left,t.height=i.bottom-i.top,t):t}function v(e,t){e.insertBefore(t,e.firstChild)}t.h=n,t.e=s,t.l=r,t.d=l,t.a=c,t.j=u,t.k=h,t.m=d,t.g=p,t.b=f,t.f=m,t.c=g,t.i=v;var _=i(2),y=i(0)},function(e,t,i){"use strict";function n(e,t,i,n){i=i||"all-players";var r="";if("object"===(void 0===t?"undefined":d(t))){var o=document.createElement("div");s(o,t);var a=o.style.cssText;n&&a&&(a=a.replace(/;/g," !important;")),r="{"+a+"}"}else"string"==typeof t&&(r=t);""!==r&&"{}"!==r?h.a.style([[e,e+r]],i):h.a.clear(i,e)}function s(e,t){if(null!=e){void 0===e.length&&(e=[e]);var i,n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=o(i,t[i]));for(var s=0;s<e.length;s++){var a,l=e[s];if(null!=l)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a=r(i),l.style[a]!==n[i]&&(l.style[a]=n[i]))}}}function r(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join("")}function o(e,t){return""===t||null==t?"":"string"==typeof t&&isNaN(t)?/png|gif|jpe?g/i.test(t)&&t.indexOf("url")<0?"url("+t+")":t:0===t||"z-index"===e||"opacity"===e?""+t:/color/i.test(e)?"#"+Object(c.d)(t.toString(16).replace(/^0x/i,""),6):Math.ceil(t)+"px"}function a(e,t){s(e,{transform:t,webkitTransform:t,msTransform:t,mozTransform:t,oTransform:t})}function l(e,t){var i="rgb",n=void 0!==t&&100!==t;if(n&&(i+="a"),!f){var s=document.createElement("canvas");s.height=1,s.width=1,f=s.getContext("2d")}e?isNaN(parseInt(e,16))||(e="#"+e):e="#000000",f.clearRect(0,0,1,1),f.fillStyle=e,f.fillRect(0,0,1,1);var r=f.getImageData(0,0,1,1).data;return i+="("+r[0]+", "+r[1]+", "+r[2],n&&(i+=", "+t/100),i+")"}i.d(t,"a",function(){return p}),t.b=n,t.d=s,t.e=a,t.c=l;var c=i(2),u=i(39),h=i.n(u),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=h.a.clear,f=void 0},function(e,t){"use strict";var i=[];t.a=i},function(e,t,i){"use strict";function n(e){this.config=e||{}}var s=i(17),r=i(18),o=i(33),a=i(9),l=i(1),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u={html5:function(){return i.e(8).then(function(){var e=i(116)["default"];return Object(r.a)(e),e}.bind(null,i))["catch"](a.b)}};c(n.prototype,{load:function(e){var t=u[e],i=function(){return l.a.reject(new Error("Failed to load media"))};return t?t().then(function(){return o.a[e]||i()}):i()},providerSupports:function(e,t){return e.supports(t)},choose:function(e){if(e===Object(e))for(var t=s.a.length,i=0;i<t;i++){var n=s.a[i];if(this.providerSupports(n,e))return{priority:t-i-1,name:n.name,type:e.type,providerToCheck:n,provider:o.a[n.name]}}return{}}});var h=n,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p=void 0;d(u,{shaka:function(){return i.e(5).then(function(){var e=i(124)["default"];return Object(r.a)(e),e}.bind(null,i))["catch"](a.b)},hlsjs:function(){return i.e(6).then(function(){var e=i(125)["default"];return e.setEdition&&e.setEdition(p),Object(r.a)(e),e}.bind(null,i))["catch"](a.b)},flash:function(){return i.e(9).then(function(){var e=i(126)["default"];return Object(r.a)(e),e}.bind(null,i))["catch"](a.b)}}),h.prototype.providerSupports=function(e,t){return p=this.config.edition,e.supports(t,p)},t.a=h},function(e,t,i){"use strict";function n(e){return e.some(function(e){return!!e.drm||e.sources.some(function(e){return!!e.drm})})}function s(e){return new u.a(function(t,i){var n=void 0;try{n=new window.MSMediaKeys(e)}catch(e){return void i(e)}t(n)})}function r(e){if(f)return f;if(o()&&Object(c.a)(e)("drm")){var t=s;return navigator.requestMediaKeySystemAccess&&(t=navigator.requestMediaKeySystemAccess.bind(navigator)),h.forEach(function(e){var i=t(e.keyName,[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4d401e"'}],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}]}]).then(function(){p[e.configName]=!0})["catch"](function(){p[e.configName]=!1});d.push(i)}),f=u.a.all(d)}return u.b}function o(){return!!navigator.requestMediaKeySystemAccess&&!!MediaKeySystemAccess.prototype.getConfiguration||!!window.MSMediaKeys}function a(e){return p[e]}function l(e){if(f)return Object.keys(e).some(function(e){return a(e)})}t.b=n,t.d=r,t.c=a,t.a=l;var c=i(14),u=i(1),h=[{configName:"clearkey",keyName:"org.w3.clearkey"},{configName:"widevine",keyName:"com.widevine.alpha"},{configName:"playready",keyName:"com.microsoft.playready"}],d=[],p={},f=void 0},function(e,t,i){"use strict";function n(e){return null!==v.match(e)}function s(e){return function(){return n(e)}}function r(){var e=g();return!!(e&&e>=18)}function o(){return n(/\sEdge\/\d+/i)}function a(){return n(/msie/i)}function l(){return n(/\s(?:Chrome|CriOS)\//i)&&!o()&&!n(/UCBrowser/i)}function c(){return o()||y()||a()}function u(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)}function h(){return n(/iP(hone|ad|od)/i)}function d(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!_())&&p()}function p(){return n(/Android/i)&&!n(/Windows Phone/i)}function f(){return h()||p()||n(/Windows Phone/i)}function m(){try{return window.self!==window.top}catch(e){return!0}}function g(){if(p())return 0;var e,t=navigator.plugins;if(t&&(e=t["Shockwave Flash"])&&e.description)return parseFloat(e.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if(void 0!==window.ActiveXObject){try{if(e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseFloat(e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."))}catch(e){return 0}return e}return 0}t.h=r,i.d(t,"f",function(){return _}),i.d(t,"l",function(){return b}),i.d(t,"k",function(){return w}),i.d(t,"p",function(){return x}),i.d(t,"g",function(){return E}),t.e=o,t.n=a,t.d=l,t.i=c,t.q=u,t.j=h,t.c=d,t.b=p,t.o=f,t.m=m,t.a=g;var v=navigator.userAgent,_=s(/gecko\//i),y=s(/trident\/.+rv:\s*11/i),b=s(/iP(hone|od)/i),w=s(/iPad/i),x=s(/Macintosh/i),E=s(/FBAV/i)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=window.atob},function(e,t){"use strict";var i=document.createElement("video");t.a=i},function(e,t){"use strict";var i={};t.a=i},function(e,t,i){"use strict";var n=i(35),s=i(14),r=i(31),o="invalid",a=function(e){var t=void 0,i=void 0,a=void 0;this.edition=function(){return a&&a.getTime()<(new Date).getTime()?o:t},this.token=function(){return i},this.expiration=function(){return a},function(e,l){try{var c=Object(n.a)(e,Object(r.a)(l)).split("/");"pro"===(t=c[0])&&(t="premium");var u=Object(s.a)(t);if(c.length>2&&u("setup")){i=c[1];var h=parseInt(c[2]);h>0&&(a=new Date).setTime(h)}else t=o}catch(e){t=o}}(e||"","NDh2aU1Cb0NHRG5hcDFRZQ==")};t.a=a},function(e,t,i){"use strict";function n(e){return unescape(encodeURIComponent(e))}function s(e){try{return decodeURIComponent(escape(e))}catch(t){return e}}function r(e){for(var t=new Array(Math.ceil(e.length/4)),i=0;i<t.length;i++)t[i]=e.charCodeAt(4*i)+(e.charCodeAt(4*i+1)<<8)+(e.charCodeAt(4*i+2)<<16)+(e.charCodeAt(4*i+3)<<24);return t}function o(e){for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=String.fromCharCode(255&e[i],e[i]>>>8&255,e[i]>>>16&255,e[i]>>>24&255);return t.join("")}function a(e,t){if(e=String(e),t=String(t),0===e.length)return"";for(var i=r(Object(l.a)(e)),a=r(n(t).slice(0,16)),c=i.length,u=i[c-1],h=i[0],d=void 0,p=void 0,f=2654435769*Math.floor(6+52/c);f;){p=f>>>2&3;for(var m=c-1;m>=0;m--)d=((u=i[m>0?m-1:c-1])>>>5^h<<2)+(h>>>3^u<<4)^(f^h)+(a[3&m^p]^u),h=i[m]-=d;f-=2654435769}return s(o(i).replace(/\0+$/,""))}t.a=a;var l=i(31)},function(e,t,i){"use strict";var n=i(11),s=i(2),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(e){if(e&&e.file){var t=r({},{"default":!1},e);t.file=Object(s.h)(""+t.file);var i=/^[^\/]+\/(?:x-)?([^\/]+)$/;if(i.test(t.type)&&(t.mimeType=t.type,t.type=t.type.replace(i,"$1")),Object(n.isYouTube)(t.file)?t.type="youtube":Object(n.isRtmp)(t.file)?t.type="rtmp":t.type||(t.type=Object(s.a)(t.file)),t.type){switch(t.type){case"m3u8":case"vnd.apple.mpegurl":t.type="hls";break;case"dash+xml":t.type="dash";break;case"m4a":t.type="aac";break;case"smil":t.type="rtmp"}return Object.keys(t).forEach(function(e){""===t[e]&&delete t[e]}),t}}};t.a=o},function(e,t,i){"use strict";function n(e){for(var t=[],i=0;i<Object(o.c)(e);i++){var n=e.childNodes[i];"jwplayer"===n.prefix&&"mediatypes"===Object(o.b)(n).toLowerCase()&&t.push(Object(o.d)(n))}return t}function s(e){var t=[];t.feedData={};for(var i=0;i<Object(o.c)(e);i++){var n=Object(o.a)(e,i);if("channel"===Object(o.b)(n).toLowerCase())for(var s=0;s<Object(o.c)(n);s++){var a=Object(o.a)(n,s),l=Object(o.b)(a).toLowerCase();"item"===l?t.push(r(a)):l&&(t.feedData[l]=Object(o.d)(a))}}return t}function r(e){for(var t={},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i],s=Object(o.b)(n);if(s)switch(s.toLowerCase()){case"enclosure":t.file=Object(a.i)(n,"url");break;case"title":t.title=Object(o.d)(n);break;case"guid":t.mediaid=Object(o.d)(n);break;case"pubdate":t.date=Object(o.d)(n);break;case"description":t.description=Object(o.d)(n);break;case"link":t.link=Object(o.d)(n);break;case"category":t.tags?t.tags+=Object(o.d)(n):t.tags=Object(o.d)(n)}}return new h.a(u(e,c(e,t)))}var o=i(13),a=i(2),l=i(6),c=function d(e,t){for(var i=[],s=0;s<Object(o.c)(e);s++){var r=e.childNodes[s];if("media"===r.prefix){if(!Object(o.b)(r))continue;switch(Object(o.b)(r).toLowerCase()){case"content":if(Object(a.i)(r,"duration")&&(t.duration=l.a.seconds(Object(a.i)(r,"duration"))),Object(a.i)(r,"url")){t.sources||(t.sources=[]);var c={file:Object(a.i)(r,"url"),type:Object(a.i)(r,"type"),width:Object(a.i)(r,"width"),label:Object(a.i)(r,"label")},u=n(r);u.length&&(c.mediaTypes=u),t.sources.push(c)}Object(o.c)(r)>0&&(t=d(r,t));break;case"title":t.title=Object(o.d)(r);break;case"description":t.description=Object(o.d)(r);break;case"guid":t.mediaid=Object(o.d)(r);break;case"thumbnail":t.image||(t.image=Object(a.i)(r,"url"));break;case"group":d(r,t);break;case"subtitle":var h={};h.file=Object(a.i)(r,"url"),h.kind="captions",Object(a.i)(r,"lang").length>0&&(h.label=function(e){var t={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return t[e]?t[e]:e}(Object(a.i)(r,"lang"))),i.push(h)}}}t.hasOwnProperty("tracks")||(t.tracks=[]);for(var p=0;p<i.length;p++)t.tracks.push(i[p]);return t},u=function(e,t){for(var i="default",n=[],s=[],r=0;r<e.childNodes.length;r++){var c=e.childNodes[r];if("jwplayer"===c.prefix){var u=Object(o.b)(c);"source"===u?(delete t.sources,n.push({file:Object(a.i)(c,"file"),"default":Object(a.i)(c,i),label:Object(a.i)(c,"label"),type:Object(a.i)(c,"type")})):"track"===u?(delete t.tracks,s.push({file:Object(a.i)(c,"file"),"default":Object(a.i)(c,i),kind:Object(a.i)(c,"kind"),label:Object(a.i)(c,"label")})):(t[u]=l.a.serialize(Object(o.d)(c)),"file"===u&&t.sources&&delete t.sources)}t.file||(t.file=t.link)}if(n.length){t.sources=[];for(var h=0;h<n.length;h++)n[h].file.length>0&&(n[h][i]="true"===n[h][i],n[h].label.length||delete n[h].label,t.sources.push(n[h]))}if(s.length){t.tracks=[];for(var d=0;d<s.length;d++)s[d].file.length>0&&(s[d][i]="true"===s[d][i],s[d].kind=s[d].kind.length?s[d].kind:"captions",s[d].label.length||delete s[d].label,t.tracks.push(s[d]))}return t},h=i(23);t.a=s},function(e,t,i){"use strict";function n(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page"+t]:e["page"+t]}function s(e){var t=e||window.event;return e instanceof MouseEvent&&("which"in t?3===t.which:"button"in t&&2===t.button)}function r(e){var t=e||window.event;return t instanceof KeyboardEvent&&13===t.keyCode&&(e.stopPropagation(),!0)}function o(e,t,i){var n=void 0;return n=t instanceof MouseEvent||!t.touches&&!t.changedTouches?t:t.touches&&t.touches.length?t.touches[0]:t.changedTouches[0],{type:e,sourceEvent:t,target:t.target,currentTarget:i,pageX:n.pageX,pageY:n.pageY}}function a(e){(e instanceof MouseEvent||e instanceof f)&&(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault())}function l(e){return v&&e instanceof f||g&&e instanceof m&&"touch"===e.pointerType?"touch":"mouse"}t.b=l;var c=i(8),u=i(5),h=i(7),d=i(21),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f=window.TouchEvent,m=window.PointerEvent,g="PointerEvent"in window&&!c.OS.android,v="ontouchstart"in window,_=!(g||v&&c.OS.mobile),y=c.Browser.firefox&&c.OS.mac,b=function(e,t){function i(e){"touch"!==e.pointerType&&x(u.S,e)}function l(e){"touch"!==e.pointerType&&x(u.P,e)}function h(t){if("touch"!==t.pointerType&&"x"in t){var i=t.x,n=t.y,s=document.elementFromPoint(i,n);e.contains(s)||x(u.R,t)}}function p(e){x(u.R,e)}function f(e){r(e)&&x(u.q,e)}function m(e,t,i){e.removeEventListener(t,i),e.addEventListener(t,i)}function v(i){P=i.target,k=n(i,"X"),T=n(i,"Y"),s(i)||("pointerdown"===i.type&&i.isPrimary?(t.preventScrolling&&(N=i.pointerId,e.setPointerCapture(N)),m(e,"pointermove",b,M),m(e,"pointercancel",w),"mouse"===i.pointerType&&"OBJECT"===P.nodeName?m(document,"mouseup",O):m(e,"pointerup",w)):"mousedown"===i.type?(m(document,"mousemove",b,M),y&&"object"===i.target.nodeName.toLowerCase()?m(e,"click",w):m(document,"mouseup",O)):"touchstart"===i.type&&(m(P,"touchmove",b,M),m(P,"touchcancel",w),m(P,"touchend",w)),t.preventScrolling&&a(i))}function b(e){if(S)x(u.n,e);else{var i=n(e,"X"),s=n(e,"Y"),r=i-k,o=s-T;r*r+o*o>36&&(x(u.p,e),S=!0,x(u.n,e))}t.preventScrolling&&a(e)}function w(i){var n="pointerup"===i.type||"pointercancel"===i.type;n&&t.preventScrolling&&e.releasePointerCapture(N),e.removeEventListener("pointermove",b),e.removeEventListener("pointercancel",w),e.removeEventListener("pointerup",w),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",O),P&&(P.removeEventListener("touchmove",b),P.removeEventListener("touchcancel",w),P.removeEventListener("touchend",w)),S?x(u.o,i):t.directSelect&&i.target!==e||-1!==i.type.indexOf("cancel")||("mouseup"===i.type||"click"===i.type||n&&"mouse"===i.pointerType?x(u.i,i):(x(u._11,i),"touchend"===i.type&&a(i))),P=null,S=!1}function x(e,i){var n=void 0;if(t.enableDoubleTap&&(e===u.i||e===u._11))if(Object(d.a)()-C<R){var s=e===u.i?u.l:u.m;n=o(s,i,E),D.trigger(s,n),C=0}else C=Object(d.a)();n=o(e,i,E),D.trigger(e,n)}var E=e,S=!1,k=0,T=0,C=0,R=300,P=void 0,N=void 0;t=t||{};var M=!!c.Features.passiveEvents&&{passive:!t.preventScrolling},O=function(e){return w(e)};g?(e.addEventListener("pointerdown",v,M),t.useHover&&(e.addEventListener("pointerover",i),e.addEventListener("pointerout",h)),t.useMove&&e.addEventListener("pointermove",l)):(_&&(e.addEventListener("mousedown",v,M),t.useHover&&(e.addEventListener("mouseover",i),e.addEventListener("mouseout",p)),t.useMove&&e.addEventListener("mousemove",l)),e.addEventListener("touchstart",v,M)),e.addEventListener("keydown",f),t.useFocus&&(e.addEventListener("focus",i),e.addEventListener("blur",p));var D=this;return this.triggerEvent=x,this.destroy=function(){this.off(),e.removeEventListener("touchstart",v),e.removeEventListener("mousedown",v),e.removeEventListener("keydown",f),P&&(P.removeEventListener("touchmove",b),P.removeEventListener("touchcancel",w),P.removeEventListener("touchend",w),P=null),g&&(t.preventScrolling&&e.releasePointerCapture(N),e.removeEventListener("pointerover",i),e.removeEventListener("pointerdown",v),e.removeEventListener("pointermove",b),e.removeEventListener("pointermove",l),e.removeEventListener("pointercancel",w),e.removeEventListener("pointerout",h),e.removeEventListener("pointerup",w)),e.removeEventListener("click",w),e.removeEventListener("mouseover",i),e.removeEventListener("mousemove",l),e.removeEventListener("mouseout",p),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",O),t.useFocus&&(e.removeEventListener("focus",i),e.removeEventListener("blur",p))},this};p(b.prototype,h.a),t.a=b},function(e,t,i){var n;void 0!==(n=function(e,t,i){function n(e,t){r(t,o(e))}function s(e,t){var i=h[e];if(i)if(t){var n=i[t];if(n)for(var s=0;s<n.parts.length;s+=1)n.parts[s]()}else{for(var r=Object.keys(i),o=0;o<r.length;o+=1)for(var a=i[r[o]],l=0;l<a.parts.length;l+=1)a.parts[l]();delete h[e]}}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i],s=(h[e]||{})[n.id];if(s){for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(c(e,n.parts[r]))}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(c(e,n.parts[r]));h[e]=h[e]||{},h[e][n.id]={id:n.id,parts:o}}}}function o(e){for(var t=[],i={},n=0;n<e.length;n++){var s=e[n],r=s[0],o={css:s[1],media:s[2]};i[r]?i[r].parts.push(o):t.push(i[r]={id:r,parts:[o]})}return t}function a(e){p().appendChild(e)}function l(e){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-jwplayer-id",e),a(t),t}function c(e,t){var i,n,s,r=d[e];r||(r=d[e]={element:l(e),counter:0});var o=r.counter++;return i=r.element,s=function(){u(i,o,"")},(n=function(e){u(i,o,e)})(t.css),function(e){if(e){if(e.css===t.css&&e.media===t.media)return;n((t=e).css)}else s()}}function u(e,t,i){if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var n=document.createTextNode(i),s=e.childNodes[t];s?e.replaceChild(n,s):e.appendChild(n)}}var h={},d={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return document.head||document.getElementsByTagName("head")[0]});i.exports={style:n,clear:s};var f=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()}.call(t,i,t,e))&&(e.exports=n)},function(e,t){"use strict";function i(e,t,i){function n(){for(;s.length>0;){var t=s.shift(),i=t.command,n=t.args;(r[i]||e[i]).apply(e,n)}}var s=[],r={};t.forEach(function(t){var o=e[t];r[t]=o,e[t]=function(){var e=Array.prototype.slice.call(arguments,0);i()?s.push({command:t,args:e}):(n(),o&&o.apply(this,e))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return s}}),this.flush=n,this.empty=function(){s.length=0},this.off=function(){t.forEach(function(t){var i=r[t];i&&(e[t]=i,delete r[t])})},this.destroy=function(){this.off(),this.empty()}}t.a=i},function(e,t,i){"use strict";function n(e,t){var i=t.indexOf(":")+1,n=i>0?t.substr(0,i):"Error loading player:",a=t.substr(i),l=s(e.get("id"),n,a),c=e.get("width"),u=e.get("height"),h=Object(r.e)(l);return Object(o.d)(h,{width:c.toString().indexOf("%")>0?c:c+"px",height:u.toString().indexOf("%")>0?u:u+"px"}),h}var s=function(e){return'<div id="'+e+'" class="jw-error jw-reset"><div class="jw-error-msg jw-reset"><style>[id="'+e+'"].jw-error{position:relative;background:#000;overflow:hidden;position:relative}[id="'+e+'"] .jw-error-msg{top:50%;left:50%;position:absolute;align-items:center;display:flex;transform:translate(-50%,-50%)}[id="'+e+'"] .jw-title{color:#FFF;position:static}[id="'+e+'"] .jw-title-primary,[id="'+e+'"] .jw-title-secondary{font:600 14px/1.35 Arial,Helvetica,sans-serif}[id="'+e+'"] .jw-title-secondary{font-weight:400}</style><div class="jw-icon jw-reset"></div><div class="jw-title jw-reset"><div class="jw-title-primary jw-reset">'+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+'</div><div class="jw-title-secondary jw-reset">'+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")+"</div></div></div></div>"},r=i(25),o=i(26);t.a=n},function(e,t,i){"use strict";i.d(t,"c",function(){return n}),i.d(t,"b",function(){return s}),i.d(t,"a",function(){return r});var n=4,s=2,r=1},function(e,t,i){"use strict";var n=i(7),s={on:n.a.on,once:n.a.once,off:n.a.off,trigger:n.a.trigger,get:function(e){return this.attributes=this.attributes||{},this.attributes[e]},set:function(e,t){if(this.attributes=this.attributes||{},this.attributes[e]!==t){var i=this.attributes[e];this.attributes[e]=t,this.trigger("change:"+e,this,t,i)}},clone:function(){var e={},t=this.attributes;if(t)for(var i in t)e[i]=t[i];return e},change:function(e,t,i){this.on("change:"+e,t,i);var n=this.get(e);return t.call(i,this,n,n),this}};t.a=s},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return s});var n={audioMode:!1,flashBlocked:!1,item:0,itemMeta:{},playbackRate:1,playRejected:!1,state:i(5)._6,itemReady:!1},s={position:0,duration:0,buffer:0,currentTime:0}},function(e,t,i){"use strict";var n=i(5),s=function(){},r=function(){return!1},o={name:"default"},a={supports:r,play:s,pause:s,preload:s,load:s,stop:s,volume:s,mute:s,seek:s,resize:s,remove:s,destroy:s,eventsOn_:s,eventsOff_:s,setVisibility:s,setFullscreen:s,getFullscreen:r,getContainer:s,setContainer:r,getName:function(){return o},getQualityLevels:s,getCurrentQuality:s,setCurrentQuality:s,getAudioTracks:s,getCurrentAudioTrack:s,setCurrentAudioTrack:s,setPlaybackRate:s,getPlaybackRate:function(){return 1},checkComplete:s,setControls:s,attachMedia:s,detachMedia:s,init:s,setState:function(e){this.state=e,this.trigger(n.U,{newstate:e})},sendMediaType:function(e){var t=e[0].type,i="oga"===t||"aac"===t||"mp3"===t||"mpeg"===t||"vorbis"===t;this.trigger(n.M,{mediaType:i?"audio":"video"})}};t.a=a},function(e,t,i){"use strict";function n(e){if(!1===Object(s.a)(e))return!1;if(!o.a.canPlayType)return!1;var t=e.file,i=e.type;if(Object(r.isRtmp)(t,i))return!1;var n=e.mimeType||a[i];return!!n&&!!o.a.canPlayType(n)}t.b=n;var s=i(53),r=i(11),o=i(32),a={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},l=[{name:"html5",supports:n}];t.a=l},function(e,t,i){"use strict";function n(e){Object.keys(e).forEach(function(t){"id"!==t&&(e[t]=Object(C.serialize)(e[t]))})}function s(e){return e.slice&&"px"===e.slice(-2)&&(e=e.slice(0,-2)),e}function r(e,t){if(-1===t.toString().indexOf("%"))return 0;if("string"!=typeof e||!e)return 0;if(/^\d*\.?\d+%$/.test(e))return e;var i=e.indexOf(":");if(-1===i)return 0;var n=parseFloat(e.substr(0,i)),s=parseFloat(e.substr(i+1));return n<=0||s<=0?0:s/n*100+"%"}function o(e){var t=e.flashplayer;return t||(t=(Object(T.getScriptPath)("jwplayer.js")||e.base)+"jwplayer.flash.swf"),"http:"===window.location.protocol&&(t=t.replace(/^https/,"http")),t}function a(e){var t="file:"===window.location.protocol?"https:":"",i={jwpsrv:"//ssl.p.jwpcdn.com/player/v/8.2.0/jwpsrv.js",dai:"//ssl.p.jwpcdn.com/player/plugins/dai/v/0.2.2/dai.js",vast:"//ssl.p.jwpcdn.com/player/plugins/vast/v/8.2.0/vast.js",googima:"//ssl.p.jwpcdn.com/player/plugins/googima/v/8.1.11/googima.js",freewheel:"//ssl.p.jwpcdn.com/player/plugins/freewheel/v/2.1.3/freewheel.js",related:"//ssl.p.jwpcdn.com/player/plugins/related/v/6.2.2/related.js",gapro:"//ssl.p.jwpcdn.com/player/plugins/gapro/v/2.1.3/gapro.js"}[e];return i?t+i:""}function l(e,t,i){t&&(e[t.client||a(i)]=t,delete t.client)}function c(e){var t=D({},e.plugins),i=e.edition,n=Object(O.a)(i);if(n("ads")){var s=D({},e.advertising),r=s.client;r&&(t[a(r)||r]=s,delete s.client)}if(n("jwpsrv")){var o=e.analytics;o!==Object(o)&&(o={}),l(t,o,"jwpsrv")}l(t,e.ga,"gapro");var c=e.related,u=c===Object(c)&&n("discovery");if(!1!==e.controls||u){var h=!1!==e.visualplaylist||u;u||(c={disableRelated:!0}),c.showButton=h,l(t,c,"related")}return t}function u(e){var t=e.get("playlist");if("string"==typeof t)return new j.a(function(i,n){var s=new z.a;s.on(A.X,function(t){var n=t.playlist;delete t.playlist,h(e,n,t),i()}),s.on(A.r,function(t){h(e,[],{}),n(new Error("Error loading playlist: "+t.message))}),s.load(t)});var i=e.get("feedData")||{};return h(e,t,i),j.b}function h(e,t,i){var n=e.attributes;n.playlist=Object(F.a)(t),n.feedData=i}function d(e){return u(e).then(function(){if(!m(e)){var t=Object(F.b)(e.get("playlist"),e);Object(F.d)(t);var i=e.getProviders(),n=i.choose(t[0].sources[0]),s=n.name,r=n.provider;if(!L.a.html5||!r||"html5"!==s)return i.load(s)}})}function p(e){for(var t=document.styleSheets,i=0,n=t.length;i<n;i++)if(t[i].href===e)return!0;return!1}function f(e){var t=e.get("skin")?e.get("skin").url:void 0;return"string"!=typeof t||p(t)?j.b:new H.a(t,!0).load()["catch"](function(e){return e})}function m(e){return e.attributes._destroyed}function g(e){return u(e).then(function(){return e.get("drm")||Object(B.b)(e.get("playlist"))?Object(B.d)(e.get("edition")):j.b})}function v(e){return g(e).then(function(){return $(e)})}function _(e,t){this.namespace=e,this.items=t}function y(){for(var e=te.c,t=[],i=[],n=0;n<e;n++){var s=w();t.push(s),i.push(s)}var r=i.shift(),o=i.shift();return{prime:function(){t.forEach(b)},getPrimedElement:function(){return i.length?i.shift():null},getAdElement:function(){return r},getTestElement:function(){return o},clean:function(e){if(e.src){e.removeAttribute("src");try{e.load()}catch(e){}}},recycle:function(e){e&&!i.some(function(t){return t===e})&&(this.clean(e),i.push(e))},syncVolume:function(e){t.forEach(function(t){t.volume=e/100})},syncMute:function(e){t.forEach(function(t){t.muted=e})}}}function b(e){if(e.src){if(ie.OS.android&&!e.parentNode){var t=e.played;(!t||t&&!t.length)&&e.load()}}else e.load()}function w(){var e=document.createElement("video");return e.className="jw-video jw-reset",e.setAttribute("disableRemotePlayback",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),e}function x(e,t){j.b.then(function(){var i=t.message,n=t.code,s=Object(ee.a)(e,i);ee.a.cloneIcon&&s.querySelector(".jw-icon").appendChild(ee.a.cloneIcon("error")),E(e,s);var r={message:i,code:n,error:t},o=e._model||e.modelShim;o.set("errorEvent",r),o.set("state",A._5),e.trigger(A._2,r)})}function E(e,t){if(!document.body.contains(e.currentContainer)){var i=document.getElementById(e.get("id"));i&&(e.currentContainer=i)}e.currentContainer.parentElement&&e.currentContainer.parentElement.replaceChild(t,e.currentContainer),e.currentContainer=t}var S=i(40),k=i(0),T=i(16),C=i(12),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},P={autostart:!1,castAvailable:!1,controls:!0,defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,height:360,liveTimeout:null,localization:{player:"Video Player",play:"Play",playback:"Start Playback",pause:"Pause",volume:"Volume",prev:"Previous",next:"Next",cast:"Chromecast",airplay:"AirPlay",fullscreen:"Fullscreen",playlist:"Playlist",hd:"Quality",cc:"Closed Captions",audioTracks:"Audio Tracks",playbackRates:"Playback Rates",replay:"Replay",buffer:"Loading",more:"More",liveBroadcast:"Live",loadingAd:"Loading ad",rewind:"Rewind 10 Seconds",nextUp:"Next Up",nextUpClose:"Next Up Close",related:"More Videos",close:"Close",settings:"Settings",unmute:"Unmute",copied:"Copied"},mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},N=function(e,t){var o=R({},(window.jwplayer||{}).defaults,t,e);n(o),o.localization=R({},P.localization,o.localization);var a=R({},P,o);"."===a.base&&(a.base=Object(T.getScriptPath)("jwplayer.js")),a.base=(a.base||Object(T.loadFrom)()).replace(/\/?$/,"/"),i.p=a.base,a.width=s(a.width),a.height=s(a.height),a.aspectratio=r(a.aspectratio,a.width);var l=a.playbackRateControls;if(l){var c=a.playbackRates;Array.isArray(l)&&(c=l),(c=c.filter(function(e){return k.c.isNumber(e)&&e>=.25&&e<=4}).map(function(e){return Math.round(4*e)/4})).indexOf(1)<0&&c.push(1),c.sort(),a.playbackRateControls=!0,a.playbackRates=c}(!a.playbackRateControls||a.playbackRates.indexOf(a.defaultPlaybackRate)<0)&&(a.defaultPlaybackRate=1),a.playbackRate=a.defaultPlaybackRate,a.aspectratio||delete a.aspectratio;var u=a.playlist;if(u)Array.isArray(u.playlist)&&(a.feedData=u,a.playlist=u.playlist);else{var h=k.c.pick(a,["title","description","type","mediaid","image","file","sources","tracks","preload","duration"]);a.playlist=[h]}a.qualityLabels=a.qualityLabels||a.hlslabels,delete a.duration;var d=a.liveTimeout;return null!==d&&(Object(k.a)(d)||!Object(k.b)(d)?d=null:0!==d&&(d=Math.max(30,d)),a.liveTimeout=d),a},M=i(34),O=i(14),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},I=function(e,t){var n=N(e,t),s=n.key||window.jwplayer&&window.jwplayer.key,r=new M.a(s).edition();if(n.key=s,n.edition=r,n.error=null,"unlimited"===r){var a=Object(T.getScriptPath)("jwplayer.js");if(!a)throw new Error("Error setting up player: Could not locate jwplayer.js script tag");i.p=a}if("invalid"===r){var l=void 0===s?"Missing":"Invalid";n.error=new Error("Error setting up player: "+l+" license key")}n.flashplayer=o(n),n.plugins=c(n);var u=n.ab;return u&&Object.keys(u.tests).forEach(function(e){u.tests[e].forEach(function(e){e.addConfig&&e.addConfig(n,e.selection)})}),n},L=i(9),A=i(5),j=i(1),z=i(49),F=i(50),H=i(24),$=function(e){return m(e)?j.a.reject():j.a.all([d(e),f(e)])},B=i(29),W=i(19),V=function(e){var t=void 0;this.start=function(i){var n=j.a.all([Object(L.c)(e),v(e),Object(W.a)(e,i)]),s=new j.a(function(e,i){t=setTimeout(function(){i(new Error("Setup Timeout Error: Setup took longer than 30 seconds to complete."))},3e4);var s=function(){clearTimeout(t),e()};n.then(s)["catch"](s)});return j.a.race([n,s])},this.destroy=function(){clearTimeout(t),e=null}},U=i(28),q=i(22),Y=i(15),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},X={removeItem:function(){}};try{X=window.localStorage||X}catch(e){}G(_.prototype,{getAllItems:function(){var e=this;return this.items.reduce(function(t,i){var n=X[e.namespace+"."+i];return n&&(t[i]=Object(C.serialize)(n)),t},{})},track:function(e){var t=this;this.items.forEach(function(i){e.on("change:"+i,function(e,n){try{X[t.namespace+"."+i]=n}catch(e){Y.a.debug&&console.error(e)}})})},clear:function(){var e=this;this.items.forEach(function(t){X.removeItem(e.namespace+"."+t)})}});var Z=_,Q=i(43),K=i(44),J=i(7),ee=i(41),te=i(42),ie=i(8),ne=i(51);t.b=E;var se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},re=function(){};se(re.prototype,Q.a);var oe=function(e){this._events={},this.modelShim=new re,this.modelShim._qoeItem=new q.a,this.mediaShim={},this.setup=new V(this.modelShim),this.currentContainer=this.originalContainer=e,this.apiQueue=new S.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","setCues","resize","setCaptions","setControls"],function(){return!0})};se(oe.prototype,{on:J.a.on,once:J.a.once,off:J.a.off,trigger:J.a.trigger,init:function(e,t){var i=this,n=this.modelShim,s=new Z("jwplayer",["volume","mute","captionLabel","qualityLabel"]),r=s&&s.getAllItems();n.attributes=n.attributes||{},se(this.mediaShim,K.a);var o=e,a=I(se({},e),r);a.id=t.id,a.setupConfig=o,se(n.attributes,a,K.b),n.getProviders=function(){return new U.a(a)},n.setProvider=function(){};var l=y();return ie.Features.backgroundLoading||(l=Object(ne.a)(l.getPrimedElement(),l)),l.prime(),this.setup.start(t).then(function(e){var n=e[0];if(i.setup){var r=i.modelShim.clone();if(r.error instanceof Error)throw r.error;var o=i.apiQueue.queue.slice(0);i.apiQueue.destroy(),se(i,n.prototype),i.setup(r,t,i.originalContainer,i._events,o,l);var a=i._model
;return s.track(a),i.updatePlaylist(a.get("playlist"),a.get("feedData"))}}).then(function(){i.setup&&i.playerReady()})["catch"](function(e){i.setup&&x(i,e)})},playerDestroy:function(){this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.off(),this._events=this._model=this.originalContainer=this.apiQueue=this.setup=null},getContainer:function(){return this.currentContainer},get:function(e){return e in this.mediaShim?this.mediaShim[e]:this.modelShim.get(e)},getItemQoe:function(){return this.modelShim._qoeItem},getConfig:function(){return se({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){return null}}),t.a=oe},function(e,t,i){"use strict";function n(){return r||(r=i.e(4).then(function(){var t=i(3)["default"];return e.controls=t,t}.bind(null,i))["catch"](function(){r=null,Object(s.b)()})),r}i.d(t,"b",function(){return e}),t.a=n;var s=i(9),r=null;e={}},function(e,t,i){"use strict";var n=i(5),s=i(13),r=i(37),o=i(6),a=i(7),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e){try{var o,a=e.responseXML?e.responseXML.childNodes:null,c="";if(a){for(var u=0;u<a.length&&8===(c=a[u]).nodeType;u++);if("xml"===Object(s.b)(c)&&(c=c.nextSibling),"rss"===Object(s.b)(c)){var h=Object(r.a)(c);o=l({playlist:h},h.feedData)}}if(!o)try{var d=JSON.parse(e.responseText);if(Array.isArray(d))o={playlist:d};else{if(!Array.isArray(d.playlist))throw Error;o=d}}catch(e){throw new Error("Not a valid RSS/JSON feed")}i.trigger(n.X,o)}catch(e){t(e.message)}}function t(e){i.trigger(n.r,{message:e||"Error loading file"})}var i=l(this,a.a);this.load=function(i){o.a.ajax(i,e,t)},this.destroy=function(){this.off()}};t.a=c},function(e,t,i){"use strict";function n(e,t){return u[e]?e:u[t]?t:"metadata"}function s(e,t,i){var s=[],r=t.getProviders(),l=t.get("preload"),c=f({},i);return delete c.playlist,e.forEach(function(e){(e=f({},e)).preload=n(e.preload,l),e.allSources=o(e,t),e.sources=a(e.allSources,r),e.sources.length&&(e.file=e.sources[0].file,i&&(e.feedData=c),s.push(e))}),s}function r(e){if(!Array.isArray(e)||0===e.length)throw new Error("No playable sources found")}function o(e,t){var i=e.sources,s=t.get("androidhls"),r=t.get("safarihlsjs"),o=e.drm||t.get("drm"),a=c(e.withCredentials,t.get("withCredentials")),l=!1!==t.get("hlsjsdefault");return i.map(function(t){if(t!==Object(t))return null;null!=s&&(t.androidhls=s),null!=r&&(t.safarihlsjs=r),null!=r&&(t.safarihlsjs=r),(t.drm||o)&&(t.drm=t.drm||o),t.preload=n(t.preload,e.preload);var i=c(t.withCredentials,a);return void 0!==i&&(t.withCredentials=i),l&&(t.hlsjsdefault=l),Object(d.a)(t)}).filter(function(e){return!!e})}function a(e,t){t&&t.choose||(t=new p.a);var i=l(e,t);if(!i)return[];var n=i.provider,s=i.type;return e.filter(function(e){return e.type===s&&t.providerSupports(n,e)})}function l(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=t.choose(n).providerToCheck;if(s)return{type:n.type,provider:s}}return null}function c(e,t){return void 0===e?t:e}var u={none:!0,metadata:!0,auto:!0},h=i(23),d=i(36),p=i(28);t.b=s,t.d=r,i.d(t,"c",function(){return g});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=function(e){return(Array.isArray(e)?e:[e]).map(h.a)},g=function(e,t){return a(o(e,t),t.getProviders())};t.a=m},function(e,t){"use strict";function i(e,t){return n({},t,{prime:function(){e.src||e.load()},getPrimedElement:function(){return e},clean:function(){t.clean(e)},recycle:function(){t.clean(e)}})}t.a=i;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,i){"use strict";function n(e){var t=document.createElement("a"),i=document.createElement("a");t.href=location.href;try{return i.href=e,i.href=i.href,t.protocol+"//"+t.host!=i.protocol+"//"+i.host}catch(e){}return!0}function s(e,t,i,s){d.c.isObject(e)&&(e=(s=e).url);var c,u=p({xhr:null,url:e,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:t||f,onerror:i||f,mimeType:s&&!s.responseType?"text/xml":"",requireValidXML:!1,responseType:s&&s.plainText?"text":""},s);if("XDomainRequest"in window&&n(e))(c=u.xhr=new window.XDomainRequest).onload=l(u),c.ontimeout=c.onprogress=f,m=!0;else{if(!("XMLHttpRequest"in window))return void u.onerror("",e);(c=u.xhr=new window.XMLHttpRequest).onreadystatechange=a(u)}var h=o("Error loading file",u);c.onerror=h,"overrideMimeType"in c?u.mimeType&&c.overrideMimeType(u.mimeType):m=!0;try{e=e.replace(/#.*$/,""),c.open("GET",e,!0)}catch(e){return h(e),c}if(u.responseType)try{c.responseType=u.responseType}catch(e){}u.timeout&&(u.timeoutId=setTimeout(function(){r(c),u.onerror("Timeout",e,c)},u.timeout),c.onabort=function(){clearTimeout(u.timeoutId)});try{u.withCredentials&&"withCredentials"in c&&(c.withCredentials=!0),c.send()}catch(e){h(e)}return c}function r(e){e.onload=null,e.onprogress=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()}function o(e,t){return function(i){var n=i.currentTarget||t.xhr;if(clearTimeout(t.timeoutId),t.retryWithoutCredentials&&t.xhr.withCredentials)return r(n),void s(p({},t,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));t.onerror(e,t.url,n)}}function a(e){return function(t){var i=t.currentTarget||e.xhr;if(4===i.readyState){var n;if(clearTimeout(e.timeoutId),i.status>=400)return n=404===i.status?"File not found":i.status+"("+i.statusText+")",e.onerror(n,e.url,i);if(200===i.status)return l(e)(t)}}}function l(e){return function(t){var i=t.currentTarget||e.xhr;if(clearTimeout(e.timeoutId),e.responseType){if("json"===e.responseType)return c(i,e)}else{var n,s=i.responseXML;if(s)try{n=s.firstChild}catch(e){}if(s&&n)return u(i,s,e);if(m&&i.responseText&&!s&&(s=Object(h.parseXML)(i.responseText))&&s.firstChild)return u(i,s,e);if(e.requireValidXML)return void e.onerror("Invalid XML",e.url,i)}e.oncomplete(i)}}function c(e,t){if(!e.response||d.c.isString(e.response)&&'"'!==e.responseText.substr(1))try{e=p({},e,{response:JSON.parse(e.responseText)})}catch(i){return void t.onerror("Invalid JSON",t.url,e)}return t.oncomplete(e)}function u(e,t,i){var n=t.documentElement;return i.requireValidXML&&("parsererror"===n.nodeName||n.getElementsByTagName("parsererror").length)?void i.onerror("Invalid XML",i.url,e):(e.responseXML||(e=p({},e,{responseXML:t})),i.oncomplete(e))}t.b=n,t.a=s;var h=i(12),d=i(0),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f=function(){},m=!1},function(e,t,i){"use strict";function n(e){return"hls"===e.type&&s.OS.android?!1!==e.androidhls&&!s.Browser.firefox&&parseFloat(s.OS.version.version)>=4.4:null}t.a=n;var s=i(8)},function(e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,t,i){"use strict";function n(e,t){var i=new _.a(t);return i.on(y._0,function(t){e._qoe.tick("ready"),t.setupTime=e._qoe.between("setup","ready")}),i.on("all",function(t,i){e.trigger(t,i)}),i}function s(e,t){var i=e.plugins;Object.keys(i).forEach(function(e){delete i[e]}),e.off(),t.playerDestroy(),t.getContainer().removeAttribute("data-jwplayer-id")}function r(e){for(var t=c.a.length;t--;)if(c.a[t].uniqueId===e.uniqueId){c.a.splice(t,1);break}}function o(e){var t=++k,i=e.id||"player-"+t,o=new b.a,a={},l=n(this,e);o.tick("init"),e.setAttribute("data-jwplayer-id",i),Object.defineProperties(this,{id:{get:function(){return i}},uniqueId:{get:function(){return t}},plugins:{get:function(){return a}},_qoe:{get:function(){return o}},version:{get:function(){return m.a}},Events:{get:function(){return w.a}},utils:{get:function(){return x.a}},_:{get:function(){return E.c}}}),S(this,{_events:{},setup:function(t){return o.clear("ready"),o.tick("setup"),s(this,l),(l=n(this,e)).init(t,this),this.on(t.events,null,this)},remove:function(){return r(this),this.trigger("remove"),s(this,l),this},qoe:function(){var e=l.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:e.getFirstFrame?e.getFirstFrame():null,player:this._qoe.dump(),item:e.dump()}},getAudioTracks:function(){return l.getAudioTracks()},getBuffer:function(){return l.get("buffer")},getCaptions:function(){return l.get("captions")},getCaptionsList:function(){return l.getCaptionsList()},getConfig:function(){return l.getConfig()},getContainer:function(){return l.getContainer()},getControls:function(){return l.get("controls")},getCurrentAudioTrack:function(){return l.getCurrentAudioTrack()},getCurrentCaptions:function(){return l.getCurrentCaptions()},getCurrentQuality:function(){return l.getCurrentQuality()},getCurrentTime:function(){return l.get("currentTime")},getDuration:function(){return l.get("duration")},getEnvironment:function(){return v},getFullscreen:function(){return l.get("fullscreen")},getHeight:function(){return l.getHeight()},getItemMeta:function(){return l.get("itemMeta")||{}},getMute:function(){return l.getMute()},getPlaybackRate:function(){return l.get("playbackRate")},getPlaylist:function(){return l.get("playlist")},getPlaylistIndex:function(){return l.get("item")},getPlaylistItem:function(e){if(!x.a.exists(e))return l.get("playlistItem");var t=this.getPlaylist();return t?t[e]:null},getPosition:function(){return l.get("position")},getProvider:function(){return l.getProvider()},getQualityLevels:function(){return l.getQualityLevels()},getSafeRegion:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l.getSafeRegion(e)},getState:function(){return l.getState()},getStretching:function(){return l.get("stretching")},getViewable:function(){return l.get("viewable")},getVisualQuality:function(){return l.getVisualQuality()},getVolume:function(){return l.get("volume")},getWidth:function(){return l.getWidth()},setCaptions:function(e){return l.setCaptions(e),this},setConfig:function(e){return l.setConfig(e),this},setControls:function(e){return l.setControls(e),this},setCurrentAudioTrack:function(e){l.setCurrentAudioTrack(e)},setCurrentCaptions:function(e){l.setCurrentCaptions(e)},setCurrentQuality:function(e){l.setCurrentQuality(e)},setFullscreen:function(e){return l.setFullscreen(e),this},setMute:function(e){return l.setMute(e),this},setPlaybackRate:function(e){return l.setPlaybackRate(e),this},setCues:function(e){return l.setCues(e),this},setVolume:function(e){return l.setVolume(e),this},load:function(e,t){return l.load(e,t),this},play:function(e){return l.play(e),this},pause:function(e){return l.pause(e),this},playToggle:function(e){switch(this.getState()){case y._9:case y._3:return this.pause(e);default:return this.play(e)}},seek:function(e,t){return l.seek(e,t),this},playlistItem:function(e,t){return l.playlistItem(e,t),this},playlistNext:function(e){return l.playlistNext(e),this},playlistPrev:function(e){return l.playlistPrev(e),this},next:function(){return l.next(),this},castToggle:function(){return l.castToggle(),this},createInstream:function(){return l.createInstream()},skipAd:function(){return l.skipAd(),this},stop:function(){return l.stop(),this},resize:function(e,t){return l.resize(e,t),this},addButton:function(e,t,i,n,s){return l.addButton(e,t,i,n,s),this},removeButton:function(e){return l.removeButton(e),this},attachMedia:function(){return l.attachMedia(),this},detachMedia:function(){return l.detachMedia(),this},isBeforeComplete:function(){return l.isBeforeComplete()},isBeforePlay:function(){return l.isBeforePlay()}})}function a(e){for(var t=0;t<c.a.length;t++)if(c.a[t].id===e)return c.a[t];return null}Object.defineProperty(t,"__esModule",{value:!0});var l=i(16),c=i(27),u=i(17),h=i(18),d={availableProviders:u.a,registerProvider:h.a},p=i(19);d.registerPlugin=function(e,t,i){"jwpsrv"!==e&&Object(p.b)(e,t,i)};var f=d,m=i(20),g=i(15),v=i(8),_=i(47),y=i(5),b=i(22),w=i(7),x=i(6),E=i(0),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},k=0;S(o.prototype,{on:function(e,t,i){return w.c.call(this,e,t,i)},once:function(e,t,i){return w.d.call(this,e,t,i)},off:function(e,t,i){return w.b.call(this,e,t,i)},trigger:function(e,t){return(t=E.c.isObject(t)?S({},t):{}).type=e,g.a.debug?w.e.call(this,e,t):w.f.call(this,e,t)},getPlugin:function(e){return this.plugins[e]},addPlugin:function(e,t){this.plugins[e]=t,this.on("ready",t.addToPlayer),t.resize&&this.on("resize",t.resizeHandler)},registerPlugin:function(e,t,i){Object(p.b)(e,t,i)},getAdBlock:function(){return!1},playAd:function(){},pauseAd:function(){}}),i.p=Object(l.loadFrom)();var T=function(e){var t=void 0,i=void 0;if(e?"string"==typeof e?(t=a(e))||(i=document.getElementById(e)):"number"==typeof e?t=c.a[e]:e.nodeType&&(t=a((i=e).id||i.getAttribute("data-jwplayer-id"))):t=c.a[0],t)return t;if(i){var n=new o(i);return c.a.push(n),n}return{registerPlugin:p.b}};Object.defineProperties(T,{api:{get:function(){return f},set:function(){}},version:{get:function(){return m.a},set:function(){}},debug:{get:function(){return g.a.debug},set:function(e){g.a.debug=!!e}}});var C=T,R=i(38),P=i(34),N=i(24),M=i(35),O=i(37),D=i(32),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},L=E.c.extend,A={};A.api=f,A._=E.c,A.version="8.2.0+commercial_v8-2-0.251.commercial.cdc12c5.hlsjs..jwplayer.f5e22c2.dai.ccc6c77.freewheel.29771b0.googima.f42cc17.vast.1ba6186.analytics.abc087d.gapro.f664e4e.related.a6a8ec0",A.utils=I(x.a,{key:P.a,extend:L,scriptloader:N.a,rssparser:{parse:O.a},tea:M.a,UI:R.a}),A.utils.css.style=A.utils.style,A.vid=D.a;var j=A,z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},F=window;z(C,j),"function"==typeof F.define&&F.define.amd&&F.define([],function(){return C});var H=C;F.jwplayer&&(H=F.jwplayer),t["default"]=H},function(e,t,i){"use strict";(function(e){function i(){}function n(e,t){return function(){e.apply(t,arguments)}}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void a(t.promise,e)}o(t.promise,n)}else(1===e._state?o:a)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof s)return e._state=3,e._value=t,void l(e);if("function"==typeof i)return void u(n(i,t),e)}e._state=1,e._value=t,l(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)r(e,e._deferreds[t]);e._deferreds=null}function c(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function u(e,t){var i=!1;try{e(function(e){i||(i=!0,o(t,e))},function(e){i||(i=!0,a(t,e))})}catch(e){if(i)return;i=!0,a(t,e)}}var h=setTimeout;s.prototype["catch"]=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new c(e,t,n)),n},s.prototype["finally"]=function(e){var t=this.constructor;return this.then(function(i){return t.resolve(e()).then(function(){return i})},function(i){return t.resolve(e()).then(function(){return t.reject(i)})})},s.all=function(e){return new s(function(t,i){function n(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(t){n(e,t)},i)}s[e]=o,0==--r&&t(s)}catch(e){i(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var s=Array.prototype.slice.call(e);if(0===s.length)return t([]);for(var r=s.length,o=0;o<s.length;o++)n(o,s[o])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,i){i(e)})},s.race=function(e){return new s(function(t,i){for(var n=0,s=e.length;n<s;n++)e[n].then(t,i)})},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){h(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=s}).call(t,i(57).setImmediate)},function(e,t,i){function n(e,t){this._id=e,this._clearFn=t}var s=Function.prototype.apply;t.setTimeout=function(){return new n(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(58),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,i){(function(e,t){!function(e,i){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,a(l),l++}function s(e){delete c[e]}function r(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}function o(e){if(u)setTimeout(o,0,e);else{var t=c[e];if(t){u=!0;try{r(t)}finally{s(e),u=!1}}}}if(!e.setImmediate){var a,l=1,c={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick(function(){o(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&o(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),a=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},a=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;a=function(t){var i=h.createElement("script");i.onreadystatechange=function(){o(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():a=function(e){setTimeout(o,0,e)},d.setImmediate=n,d.clearImmediate=s}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i(54),i(59))},function(e){function t(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function n(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(i){try{return c.call(null,e,0)}catch(i){return c.call(this,e,0)}}}function s(e){if(u===clearTimeout)return clearTimeout(e);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function r(){f&&d&&(f=!1,d.length?p=d.concat(p):m=-1,p.length&&o())}function o(){if(!f){var e=n(r);f=!0;for(var t=p.length;t;){for(d=p,p=[];++m<t;)d&&d[m].run();m=-1,t=p.length}d=null,f=!1,s(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var c,u,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(e){u=i}}();var d,p=[],f=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new a(e,t)),1!==p.length||f||n(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}])["default"],
/*! Picturefill - v2.1.0-beta - 2014-06-03
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e,t){"use strict";function i(e){for(var t,i,n,r,o,a,l=0,c=(t=(e=e||{}).elements||s.getAllElements()).length;c>l;l++)if(n=(i=t[l]).nodeName.toUpperCase(),r=void 0,o=void 0,a=void 0,i[s.ns]||(i[s.ns]={}),e.reevaluate||!i[s.ns].evaluated){if("PICTURE"===n){if(s.removeVideoShim(i),!1===(r=s.getMatch(i)))continue;a=i.getElementsByTagName("img")[0]}else r=void 0,a=i;a&&(a[s.ns]||(a[s.ns]={}),a.srcset&&("PICTURE"===n||a.getAttribute("sizes"))&&s.dodgeSrcset(a),r?(o=s.processSourceSet(r),s.applyBestCandidate(o,a)):(o=s.processSourceSet(a),(void 0===a.srcset||a[s.ns].srcset)&&s.applyBestCandidate(o,a)),i[s.ns].evaluated=!0)}}function n(){i();var n,s=setInterval(function(){return i(),/^loaded|^i|^c/.test(t.readyState)?void clearInterval(s):void 0},250);e.addEventListener&&e.addEventListener("resize",function(){e._picturefillWorking||(e._picturefillWorking=!0,e.clearTimeout(n),n=e.setTimeout(function(){i({reevaluate:!0}),e._picturefillWorking=!1},60))},!1)}if(!e.HTMLPictureElement){t.createElement("picture");var s={ns:"picturefill"};s.srcsetSupported=void 0!==(new e.Image).srcset,s.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},s.endsWith=function(e,t){return e.endsWith?e.endsWith(t):-1!==e.indexOf(t,e.length-t.length)},s.matchesMedia=function(t){return e.matchMedia&&e.matchMedia(t).matches},s.getDpr=function(){return e.devicePixelRatio||1},s.getWidthFromLength=function(e){return e=(e=e&&parseFloat(e)>0?e:"100vw").replace("vw","%"),s.lengthEl||(s.lengthEl=t.createElement("div"),t.documentElement.insertBefore(s.lengthEl,t.documentElement.firstChild)),s.lengthEl.style.cssText="position: absolute; left: 0; width: "+e+";",s.lengthEl.offsetWidth},s.types={},s.types["image/jpeg"]=!0,s.types["image/gif"]=!0,s.types["image/png"]=!0,s.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),s.types["image/webp"]=function(){var t=new e.Image,n="image/webp";t.onerror=function(){s.types[n]=!1,i()},t.onload=function(){s.types[n]=1===t.width,i()},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},s.verifyTypeSupport=function(e){var t=e.getAttribute("type");return null===t||""===t||("function"==typeof s.types[t]?(s.types[t](),"pending"):s.types[t])},s.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},s.findWidthFromSourceSize=function(e){for(var t,i=s.trim(e).split(/\s*,\s*/),n=0,r=i.length;r>n;n++){var o=i[n],a=s.parseSize(o),l=a.length,c=a.media;if(l&&(!c||s.matchesMedia(c))){t=l;break}}return s.getWidthFromLength(t)},s.parseSrcset=function(e){for(var t=[];""!==e;){var i,n=(e=e.replace(/^\s+/g,"")).search(/\s/g),s=null;if(-1!==n){if((","===(i=e.slice(0,n))[i.length-1]||""===i)&&(i=i.replace(/,+$/,""),s=""),e=e.slice(n+1),null===s){var r=e.indexOf(",");-1!==r?(s=e.slice(0,r),e=e.slice(r+1)):(s=e,e="")}}else i=e,e="";(i||s)&&t.push({url:i,descriptor:s})}return t},s.parseDescriptor=function(e,t){var i,n=e&&e.replace(/(^\s+|\s+$)/g,""),r=t?s.findWidthFromSourceSize(t):"100%";if(n)for(var o=n.split(" "),a=o.length+1;a>=0;a--){var l=o[a],c=l&&l.slice(l.length-1);if(("w"===c||"x"===c)&&(i=l),t&&i)i=parseFloat(parseInt(l,10)/r);else{var u=l&&parseFloat(l,10);i=u&&!isNaN(u)&&"x"===c||"w"===c?u:1}}else i=1;return i},s.getCandidatesFromSourceSet=function(e,t){for(var i=s.parseSrcset(e),n=[],r=0,o=i.length;o>r;r++){var a=i[r];n.push({url:a.url,resolution:s.parseDescriptor(a.descriptor,t)})}return n},s.dodgeSrcset=function(e){e.srcset&&(e[s.ns].srcset=e.srcset,e.removeAttribute("srcset"))},s.processSourceSet=function(e){var t=e.getAttribute("srcset"),i=e.getAttribute("sizes"),n=[];return"IMG"===e.nodeName.toUpperCase()&&e[s.ns]&&e[s.ns].srcset&&(t=e[s.ns].srcset),t&&(n=s.getCandidatesFromSourceSet(t,i)),n},s.applyBestCandidate=function(e,t){var i,n,r;e.sort(s.ascendingSort),r=e[(n=e.length)-1];for(var o=0;n>o;o++)if((i=e[o]).resolution>=s.getDpr()){r=i;break}s.endsWith(t.src,r.url)||(t.src=r.url,t.currentSrc=t.src)},s.ascendingSort=function(e,t){return e.resolution-t.resolution},s.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var i=t[0],n=i.getElementsByTagName("source");n.length;)e.insertBefore(n[0],i);i.parentNode.removeChild(i)}},s.getAllElements=function(){for(var e=t.getElementsByTagName("picture"),i=[],n=t.getElementsByTagName("img"),r=0,o=e.length+n.length;o>r;r++)if(r<e.length)i[r]=e[r];else{var a=n[r-e.length];"PICTURE"!==a.parentNode.nodeName.toUpperCase()&&(s.srcsetSupported&&a.getAttribute("sizes")||null!==a.getAttribute("srcset"))&&i.push(a)}return i},s.getMatch=function(e){for(var t,i=e.childNodes,n=0,r=i.length;r>n;n++){var o=i[n];if(1===o.nodeType){if("IMG"===o.nodeName.toUpperCase())return t;if("SOURCE"===o.nodeName.toUpperCase()){var a=o.getAttribute("media");if(o.getAttribute("srcset")&&(!a||s.matchesMedia(a))){var l=s.verifyTypeSupport(o);if(!0===l){t=o;break}if("pending"===l)return!1}}}}return t},n(),i._=s,"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof e&&(e.picturefill=i)}}(this,this.document),
/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,s=this,r=s.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},n.addListener=function(e,i){var n,s=this.getListenersAsObject(e),r="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===t(s[n],i)&&s[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,s,r=this.getListenersAsObject(e);for(s in r)r.hasOwnProperty(s)&&(-1!==(n=t(r[s],i))&&r[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,s,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,s,r=this.getListenersAsObject(e);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)!0===(i=r[s][n]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var s=function(){};i.removeEventListener?s=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(s=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var r={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){function n(e,t){for(var i in t)e[i]=t[i];return e}function s(e){return"[object Array]"===d.call(e)}function r(e){var t=[];if(s(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function o(e,t,i){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var s=this;setTimeout(function(){s.check()})}function a(e){this.img=e}function l(e){this.src=e,p[e]=this}var c=e.jQuery,u=e.console,h=void 0!==u,d=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var s=i.querySelectorAll("img"),r=0,o=s.length;o>r;r++){var a=s[r];this.addImage(a)}}},o.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},o.prototype.check=function(){function e(e,s){return t.options.debug&&h&&u.log("confirm",e,s),t.progress(e),++i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,n)for(var s=0;n>s;s++){var r=this.images[s];r.on("confirm",e),r.check()}else this.complete()},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(c(this))}),a.prototype=new t,a.prototype.check=function(){var e=p[this.img.src]||new l(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()}},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},o}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return yn.apply(null,arguments)}function t(e){yn=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){var t;for(t in e)return!1;return!0}function r(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var i in t)c(t,i)&&(e[i]=t[i]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,i,n){return _t(e,t,i,n,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function f(e){if(null==e._isValid){var t=p(e),i=bn.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function m(e){var t=h(NaN);return null!=e?u(p(t),e):p(t).userInvalidated=!0,t}function g(e,t){var i,n,s;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=p(t)),r(t._locale)||(e._locale=t._locale),wn.length>0)for(i=0;i<wn.length;i++)r(s=t[n=wn[i]])||(e[n]=s);return e}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===xn&&(xn=!0,e.updateOffset(this),xn=!1)}function _(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=y(t)),i}function w(e,t,i){var n,s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(n=0;n<s;n++)(i&&e[n]!==t[n]||!i&&b(e[n])!==b(t[n]))&&o++;return o+r}function x(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,i){var n=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var s,r=[],o=0;o<arguments.length;o++){if(s="","object"==typeof arguments[o]){for(var a in s+="\n["+o+"] ",arguments[0])s+=a+": "+arguments[0][a]+", ";s=s.slice(0,-2)}else s=arguments[o];r.push(s)}x(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function S(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),En[t]||(x(i),En[t]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,i;for(i in e)k(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var i,s=u({},e);for(i in t)c(t,i)&&(n(e[i])&&n(t[i])?(s[i]={},u(s[i],e[i]),u(s[i],t[i])):null!=t[i]?s[i]=t[i]:delete s[i]);for(i in e)c(e,i)&&!c(t,i)&&n(e[i])&&(s[i]=u({},s[i]));return s}function R(e){null!=e&&this.set(e)}function P(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return k(n)?n.call(t,i):n}function N(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function M(){return this._invalidDate}function O(e){return this._ordinal.replace("%d",e)}function D(e,t,i,n){var s=this._relativeTime[i];return k(s)?s(e,t,i,n):s.replace(/%d/i,e)}function I(e,t){var i=this._relativeTime[e>0?"future":"past"];return k(i)?i(t):i.replace(/%s/i,t)}function L(e,t){var i=e.toLowerCase();Mn[i]=Mn[i+"s"]=Mn[t]=e}function A(e){return"string"==typeof e?Mn[e]||Mn[e.toLowerCase()]:void 0}function j(e){var t,i,n={};for(i in e)c(e,i)&&((t=A(i))&&(n[t]=e[i]));return n}function z(e,t){On[e]=t}function F(e){var t=[];for(var i in e)t.push({unit:i,priority:On[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function H(t,i){return function(n){return null!=n?(B(this,t,n),e.updateOffset(this,i),this):$(this,t)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function W(e){return k(this[e=A(e)])?this[e]():this}function V(e,t){if("object"==typeof e)for(var i=F(e=j(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(k(this[e=A(e)]))return this[e](t);return this}function U(e,t,i){var n=""+Math.abs(e),s=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function q(e,t,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(An[e]=s),t&&(An[t[0]]=function(){return U(s.apply(this,arguments),t[1],t[2])}),i&&(An[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,i,n=e.match(Dn);for(t=0,i=n.length;t<i;t++)An[n[t]]?n[t]=An[n[t]]:n[t]=Y(n[t]);return function(t){var s,r="";for(s=0;s<i;s++)r+=k(n[s])?n[s].call(t,e):n[s];return r}}function X(e,t){return e.isValid()?(t=Z(t,e.localeData()),Ln[t]=Ln[t]||G(t),Ln[t](e)):e.localeData().invalidDate()}function Z(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(In.lastIndex=0;n>=0&&In.test(e);)e=e.replace(In,i),In.lastIndex=0,n-=1;return e}function Q(e,t,i){es[e]=k(t)?t:function(e){return e&&i?i:t}}function K(e,t){return c(es,e)?es[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),o(t)&&(n=function(e,i){i[t]=b(e)}),i=0;i<e.length;i++)ts[e[i]]=n}function ie(e,t){te(e,function(e,i,n,s){n._w=n._w||{},t(e,n._w,n,s)})}function ne(e,t,i){null!=t&&c(ts,e)&&ts[e](t,i._a,i,e)}function se(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function re(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ds).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function oe(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ds.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(e,t,i){var n,s,r,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(s=hs.call(this._shortMonthsParse,o))?s:null:-1!==(s=hs.call(this._longMonthsParse,o))?s:null:"MMM"===t?-1!==(s=hs.call(this._shortMonthsParse,o))?s:-1!==(s=hs.call(this._longMonthsParse,o))?s:null:-1!==(s=hs.call(this._longMonthsParse,o))?s:-1!==(s=hs.call(this._shortMonthsParse,o))?s:null}function le(e,t,i){var n,s,r;if(this._monthsParseExact)return ae.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=h([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function ce(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(!o(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ue(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):$(this,"Month")}function he(){return se(this.year(),this.month())}function de(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=ms),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=gs),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,i,n=[],s=[],r=[];for(t=0;t<12;t++)i=h([2e3,t]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),s.sort(e),r.sort(e),t=0;t<12;t++)n[t]=ee(n[t]),s[t]=ee(s[t]);for(t=0;t<24;t++)r[t]=ee(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function me(e){return ge(e)?366:365}function ge(e){return e%4==0&&e%100!=0||e%400==0}function ve(){return ge(this.year())}function _e(e,t,i,n,s,r,o){var a=new Date(e,t,i,n,s,r,o);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,i){var n=7+t-i;return-((7+ye(e,0,n).getUTCDay()-t)%7)+n-1}function we(e,t,i,n,s){var r,o,a=1+7*(t-1)+(7+i-n)%7+be(e,n,s);return a<=0?o=me(r=e-1)+a:a>me(e)?(r=e+1,o=a-me(e)):(r=e,o=a),{year:r,dayOfYear:o}}function xe(e,t,i){var n,s,r=be(e.year(),t,i),o=Math.floor((e.dayOfYear()-r-1)/7)+1;return o<1?n=o+Ee(s=e.year()-1,t,i):o>Ee(e.year(),t,i)?(n=o-Ee(e.year(),t,i),s=e.year()+1):(s=e.year(),n=o),{week:n,year:s}}function Ee(e,t,i){var n=be(e,t,i),s=be(e+1,t,i);return(me(e)-n+s)/7}function Se(e){return xe(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function Te(){return this._week.doy}function Ce(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Re(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pe(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ne(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function Oe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function De(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,i){var n,s,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(s=hs.call(this._weekdaysParse,o))?s:null:"ddd"===t?-1!==(s=hs.call(this._shortWeekdaysParse,o))?s:null:-1!==(s=hs.call(this._minWeekdaysParse,o))?s:null:"dddd"===t?-1!==(s=hs.call(this._weekdaysParse,o))?s:-1!==(s=hs.call(this._shortWeekdaysParse,o))?s:-1!==(s=hs.call(this._minWeekdaysParse,o))?s:null:"ddd"===t?-1!==(s=hs.call(this._shortWeekdaysParse,o))?s:-1!==(s=hs.call(this._weekdaysParse,o))?s:-1!==(s=hs.call(this._minWeekdaysParse,o))?s:null:-1!==(s=hs.call(this._minWeekdaysParse,o))?s:-1!==(s=hs.call(this._weekdaysParse,o))?s:-1!==(s=hs.call(this._shortWeekdaysParse,o))?s:null}function Le(e,t,i){var n,s,r;if(this._weekdaysParseExact)return Ie.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=h([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Ae(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pe(e,this.localeData()),this.add(e-t,"d")):t}function je(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ne(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=xs),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function He(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Es),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $e(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ss),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Be(){function e(e,t){return t.length-e.length}var t,i,n,s,r,o=[],a=[],l=[],c=[];for(t=0;t<7;t++)i=h([2e3,1]).day(t),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),r=this.weekdays(i,""),o.push(n),a.push(s),l.push(r),c.push(n),c.push(s),c.push(r);for(o.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=ee(a[t]),l[t]=ee(l[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function We(){return this.hours()%12||12}function Ve(){return this.hours()||24}function Ue(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,i,n,s,r=0;r<e.length;){for(t=(s=Xe(e[r]).split("-")).length,i=(i=Xe(e[r+1]))?i.split("-"):null;t>0;){if(n=Qe(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&w(s,i,!0)>=t-1)break;t--}r++}return null}function Qe(e){var t=null;if(!Ps[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ks._abbr,require("./locale/"+e),Ke(t)}catch(e){}return Ps[e]}function Ke(e,t){var i;return e&&((i=r(t)?tt(e):Je(e,t))&&(ks=i)),ks._abbr}function Je(e,t){if(null!==t){var i=Rs;if(t.abbr=e,null!=Ps[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ps[e]._config;else if(null!=t.parentLocale){if(null==Ps[t.parentLocale])return Ns[t.parentLocale]||(Ns[t.parentLocale]=[]),Ns[t.parentLocale].push({name:e,config:t}),null;i=Ps[t.parentLocale]._config}return Ps[e]=new R(C(i,t)),Ns[e]&&Ns[e].forEach(function(e){Je(e.name,e.config)}),Ke(e),Ps[e]}return delete Ps[e],null}function et(e,t){if(null!=t){var i,n=Rs;null!=Ps[e]&&(n=Ps[e]._config),(i=new R(t=C(n,t))).parentLocale=Ps[e],Ps[e]=i,Ke(e)}else null!=Ps[e]&&(null!=Ps[e].parentLocale?Ps[e]=Ps[e].parentLocale:null!=Ps[e]&&delete Ps[e]);return Ps[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ks;if(!i(e)){if(t=Qe(e))return t;e=[e]}return Ze(e)}function it(){return Sn(Ps)}function nt(e){var t,i=e._a;return i&&-2===p(e).overflow&&(t=i[ns]<0||i[ns]>11?ns:i[ss]<1||i[ss]>se(i[is],i[ns])?ss:i[rs]<0||i[rs]>24||24===i[rs]&&(0!==i[os]||0!==i[as]||0!==i[ls])?rs:i[os]<0||i[os]>59?os:i[as]<0||i[as]>59?as:i[ls]<0||i[ls]>999?ls:-1,p(e)._overflowDayOfYear&&(t<is||t>ss)&&(t=ss),p(e)._overflowWeeks&&-1===t&&(t=cs),p(e)._overflowWeekday&&-1===t&&(t=us),p(e).overflow=t),e}function st(e){var t,i,n,s,r,o,a=e._i,l=Ms.exec(a)||Os.exec(a);if(l){for(p(e).iso=!0,t=0,i=Is.length;t<i;t++)if(Is[t][1].exec(l[1])){s=Is[t][0],n=!1!==Is[t][2];break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,i=Ls.length;t<i;t++)if(Ls[t][1].exec(l[3])){r=(l[2]||" ")+Ls[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!Ds.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=s+(r||"")+(o||""),ht(e)}else e._isValid=!1}function rt(e){var t,i,n,s,r,o,a,l,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},u="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=js.exec(t)){if(n=i[1]?"ddd"+(5===i[1].length?", ":" "):"",s="D MMM "+(i[2].length>10?"YYYY ":"YY "),r="HH:mm"+(i[4]?":ss":""),i[1]){var h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(i[2]).getDay()];if(i[1].substr(0,3)!==h)return p(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(i[5].length){case 2:0===l?a=" +0000":a=((l=u.indexOf(i[5][1].toUpperCase())-12)<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:a=c[i[5]];break;default:a=c[" GMT"]}i[5]=a,e._i=i.splice(1).join(""),o=" ZZ",e._f=n+s+r+o,ht(e),p(e).rfc2822=!0}else e._isValid=!1}function ot(t){var i=As.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(st(t),void(!1===t._isValid&&(delete t._isValid,rt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))))}function at(e,t,i){return null!=e?e:null!=t?t:i}function lt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ct(e){var t,i,n,s,r=[];if(!e._d){for(n=lt(e),e._w&&null==e._a[ss]&&null==e._a[ns]&&ut(e),null!=e._dayOfYear&&(s=at(e._a[is],n[is]),(e._dayOfYear>me(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),i=ye(s,0,e._dayOfYear),e._a[ns]=i.getUTCMonth(),e._a[ss]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[rs]&&0===e._a[os]&&0===e._a[as]&&0===e._a[ls]&&(e._nextDay=!0,e._a[rs]=0),e._d=(e._useUTC?ye:_e).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[rs]=24)}}function ut(e){var t,i,n,s,r,o,a,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,o=4,i=at(t.GG,e._a[is],xe(yt(),1,4).year),n=at(t.W,1),((s=at(t.E,1))<1||s>7)&&(l=!0);else{r=e._locale._week.dow,o=e._locale._week.doy;var c=xe(yt(),r,o);i=at(t.gg,e._a[is],c.year),n=at(t.w,c.week),null!=t.d?((s=t.d)<0||s>6)&&(l=!0):null!=t.e?(s=t.e+r,(t.e<0||t.e>6)&&(l=!0)):s=r}n<1||n>Ee(i,r,o)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(a=we(i,n,s,r,o),e._a[is]=a.year,e._dayOfYear=a.dayOfYear)}function ht(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],p(t).empty=!0;var i,n,s,r,o,a=""+t._i,l=a.length,c=0;for(s=Z(t._f,t._locale).match(Dn)||[],i=0;i<s.length;i++)r=s[i],(n=(a.match(K(r,t))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&p(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),c+=n.length),An[r]?(n?p(t).empty=!1:p(t).unusedTokens.push(r),ne(r,n,t)):t._strict&&!n&&p(t).unusedTokens.push(r);p(t).charsLeftOver=l-c,a.length>0&&p(t).unusedInput.push(a),t._a[rs]<=12&&!0===p(t).bigHour&&t._a[rs]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[rs]=dt(t._locale,t._a[rs],t._meridiem),ct(t),nt(t)}else rt(t);else st(t)}function dt(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function pt(e){var t,i,n,s,r;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)r=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],ht(t),f(t)&&(r+=p(t).charsLeftOver,r+=10*p(t).unusedTokens.length,p(t).score=r,(null==n||r<n)&&(n=r,i=t));u(e,i||t)}function ft(e){if(!e._d){var t=j(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function mt(e){var t=new v(nt(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new v(nt(t)):(a(t)?e._d=t:i(n)?pt(e):n?ht(e):vt(e),f(e)||(e._d=null),e))}function vt(t){var s=t._i;r(s)?t._d=new Date(e.now()):a(s)?t._d=new Date(s.valueOf()):"string"==typeof s?ot(t):i(s)?(t._a=l(s.slice(0),function(e){return parseInt(e,10)}),ct(t)):n(s)?ft(t):o(s)?t._d=new Date(s):e.createFromInputFallback(t)}function _t(e,t,r,o,a){var l={};return!0!==r&&!1!==r||(o=r,r=void 0),(n(e)&&s(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=e,l._f=t,l._strict=o,mt(l)}function yt(e,t,i,n){return _t(e,t,i,n,!1)}function bt(e,t){var n,s;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return yt();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}function wt(){return bt("isBefore",[].slice.call(arguments,0))}function xt(){return bt("isAfter",[].slice.call(arguments,0))}function Et(e){for(var t in e)if(-1===$s.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<$s.length;++n)if(e[$s[n]]){if(i)return!1;parseFloat(e[$s[n]])!==b(e[$s[n]])&&(i=!0)}return!0}function St(){return this._isValid}function kt(){return Vt(NaN)}function Tt(e){var t=j(e),i=t.year||0,n=t.quarter||0,s=t.month||0,r=t.week||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=Et(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=tt(),this._bubble()}function Ct(e){return e instanceof Tt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,t){q(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+U(~~(e/60),2)+t+U(~~e%60,2)})}function Nt(e,t){var i=(t||"").match(e);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Bs)||["-",0,0],s=60*n[1]+b(n[2]);return 0===s?0:"+"===n[0]?s:-s}function Mt(t,i){var n,s;return i._isUTC?(n=i.clone(),s=(_(t)||a(t)?t.valueOf():yt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),e.updateOffset(n,!1),n):yt(t).local()}function Ot(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Dt(t,i,n){var s,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Nt(Qn,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&i&&(s=Ot(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),r!==t&&(!i||this._changeInProgress?Xt(this,Vt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ot(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Lt(e){return this.utcOffset(0,e)}function At(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ot(this),"m")),this}function jt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(Zn,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ht(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=gt(e))._a){var t=e._isUTC?h(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $t(){
return!!this.isValid()&&!this._isUTC}function Bt(){return!!this.isValid()&&this._isUTC}function Wt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Vt(e,t){var i,n,s,r=e,a=null;return Ct(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=Ws.exec(e))?(i="-"===a[1]?-1:1,r={y:0,d:b(a[ss])*i,h:b(a[rs])*i,m:b(a[os])*i,s:b(a[as])*i,ms:b(Rt(1e3*a[ls]))*i}):(a=Vs.exec(e))?(i="-"===a[1]?-1:1,r={y:Ut(a[2],i),M:Ut(a[3],i),w:Ut(a[4],i),d:Ut(a[5],i),h:Ut(a[6],i),m:Ut(a[7],i),s:Ut(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=Yt(yt(r.from),yt(r.to)),(r={}).ms=s.milliseconds,r.M=s.months),n=new Tt(r),Ct(e)&&c(e,"_locale")&&(n._locale=e._locale),n}function Ut(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function qt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Yt(e,t){var i;return e.isValid()&&t.isValid()?(t=Mt(t,e),e.isBefore(t)?i=qt(e,t):((i=qt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Gt(e,t){return function(i,n){var s;return null===n||isNaN(+n)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),Xt(this,Vt(i="string"==typeof i?+i:i,n),e),this}}function Xt(t,i,n,s){var r=i._milliseconds,o=Rt(i._days),a=Rt(i._months);t.isValid()&&(s=null==s||s,r&&t._d.setTime(t._d.valueOf()+r*n),o&&B(t,"Date",$(t,"Date")+o*n),a&&ce(t,$(t,"Month")+a*n),s&&e.updateOffset(t,o||a))}function Zt(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Qt(t,i){var n=t||yt(),s=Mt(n,this).startOf("day"),r=e.calendarFormat(this,s)||"sameElse",o=i&&(k(i[r])?i[r].call(this,n):i[r]);return this.format(o||this.localeData().calendar(r,this,yt(n)))}function Kt(){return new v(this)}function Jt(e,t){var i=_(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(r(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function ei(e,t){var i=_(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(r(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function ti(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function ii(e,t){var i,n=_(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function ni(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function si(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ri(e,t,i){var n,s,r,o;return this.isValid()?(n=Mt(e,this)).isValid()?(s=6e4*(n.utcOffset()-this.utcOffset()),"year"===(t=A(t))||"month"===t||"quarter"===t?(o=oi(this,n),"quarter"===t?o/=3:"year"===t&&(o/=12)):(r=this-n,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),i?o:y(o)):NaN:NaN}function oi(e,t){var i,n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return t-s<0?i=(t-s)/(s-e.clone().add(n-1,"months")):i=(t-s)/(e.clone().add(n+1,"months")-s),-(n+i)||0}function ai(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function li(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?X(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):k(Date.prototype.toISOString)?this.toDate().toISOString():X(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ci(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(i+n+s+r)}function ui(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=X(this,t);return this.localeData().postformat(i)}function hi(e,t){return this.isValid()&&(_(e)&&e.isValid()||yt(e).isValid())?Vt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function di(e){return this.from(yt(),e)}function pi(e,t){return this.isValid()&&(_(e)&&e.isValid()||yt(e).isValid())?Vt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fi(e){return this.to(yt(),e)}function mi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=tt(e))&&(this._locale=t),this)}function gi(){return this._locale}function vi(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _i(e){return void 0===(e=A(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function ki(){return f(this)}function Ti(){return u({},p(this))}function Ci(){return p(this).overflow}function Ri(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Pi(e,t){q(0,[e,e.length],0,t)}function Ni(e){return Ii.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Mi(e){return Ii.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Oi(){return Ee(this.year(),1,4)}function Di(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function Ii(e,t,i,n,s){var r;return null==e?xe(this,n,s).year:(t>(r=Ee(e,n,s))&&(t=r),Li.call(this,e,t,i,n,s))}function Li(e,t,i,n,s){var r=we(e,t,i,n,s),o=ye(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ai(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function ji(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zi(e,t){t[ls]=b(1e3*("0."+e))}function Fi(){return this._isUTC?"UTC":""}function Hi(){return this._isUTC?"Coordinated Universal Time":""}function $i(e){return yt(1e3*e)}function Bi(){return yt.apply(null,arguments).parseZone()}function Wi(e){return e}function Vi(e,t,i,n){var s=tt(),r=h().set(n,t);return s[i](r,e)}function Ui(e,t,i){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Vi(e,t,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Vi(e,n,i,"month");return s}function qi(e,t,i,n){"boolean"==typeof e?(o(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,o(t)&&(i=t,t=void 0),t=t||"");var s=tt(),r=e?s._week.dow:0;if(null!=i)return Vi(t,(i+r)%7,n,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Vi(t,(a+r)%7,n,"day");return l}function Yi(e,t){return Ui(e,t,"months")}function Gi(e,t){return Ui(e,t,"monthsShort")}function Xi(e,t,i){return qi(e,t,i,"weekdays")}function Zi(e,t,i){return qi(e,t,i,"weekdaysShort")}function Qi(e,t,i){return qi(e,t,i,"weekdaysMin")}function Ki(){var e=this._data;return this._milliseconds=tr(this._milliseconds),this._days=tr(this._days),this._months=tr(this._months),e.milliseconds=tr(e.milliseconds),e.seconds=tr(e.seconds),e.minutes=tr(e.minutes),e.hours=tr(e.hours),e.months=tr(e.months),e.years=tr(e.years),this}function Ji(e,t,i,n){var s=Vt(t,i);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function en(e,t){return Ji(this,e,t,1)}function tn(e,t){return Ji(this,e,t,-1)}function nn(e){return e<0?Math.floor(e):Math.ceil(e)}function sn(){var e,t,i,n,s,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*nn(on(a)+o),o=0,a=0),l.milliseconds=r%1e3,e=y(r/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,i=y(t/60),l.hours=i%24,a+=s=y(rn(o+=y(i/24))),o-=nn(on(s)),n=y(a/12),a%=12,l.days=o,l.months=a,l.years=n,this}function rn(e){return 4800*e/146097}function on(e){return 146097*e/4800}function an(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=A(e))||"year"===e)return t=this._days+n/864e5,i=this._months+rn(t),"month"===e?i:i/12;switch(t=this._days+Math.round(on(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function ln(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function cn(e){return function(){return this.as(e)}}function un(e){return e=A(e),this.isValid()?this[e+"s"]():NaN}function hn(e){return function(){return this.isValid()?this._data[e]:NaN}}function dn(){return y(this.days()/7)}function pn(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function fn(e,t,i){var n=Vt(e).abs(),s=vr(n.as("s")),r=vr(n.as("m")),o=vr(n.as("h")),a=vr(n.as("d")),l=vr(n.as("M")),c=vr(n.as("y")),u=s<=_r.ss&&["s",s]||s<_r.s&&["ss",s]||r<=1&&["m"]||r<_r.m&&["mm",r]||o<=1&&["h"]||o<_r.h&&["hh",o]||a<=1&&["d"]||a<_r.d&&["dd",a]||l<=1&&["M"]||l<_r.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=i,pn.apply(null,u)}function mn(e){return void 0===e?vr:"function"==typeof e&&(vr=e,!0)}function gn(e,t){return void 0!==_r[e]&&(void 0===t?_r[e]:(_r[e]=t,"s"===e&&(_r.ss=t-1),!0))}function vn(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=fn(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function _n(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=yr(this._milliseconds)/1e3,n=yr(this._days),s=yr(this._months);t=y((e=y(i/60))/60),i%=60,e%=60;var r=y(s/12),o=s%=12,a=n,l=t,c=e,u=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(r?r+"Y":"")+(o?o+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var yn,bn=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1},wn=e.momentProperties=[],xn=!1,En={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Sn=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)c(e,t)&&i.push(t);return i},kn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Tn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Cn="Invalid date",Rn="%d",Pn=/\d{1,2}/,Nn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Mn={},On={},Dn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,In=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ln={},An={},jn=/\d/,zn=/\d\d/,Fn=/\d{3}/,Hn=/\d{4}/,$n=/[+-]?\d{6}/,Bn=/\d\d?/,Wn=/\d\d\d\d?/,Vn=/\d\d\d\d\d\d?/,Un=/\d{1,3}/,qn=/\d{1,4}/,Yn=/[+-]?\d{1,6}/,Gn=/\d+/,Xn=/[+-]?\d+/,Zn=/Z|[+-]\d\d:?\d\d/gi,Qn=/Z|[+-]\d\d(?::?\d\d)?/gi,Kn=/[+-]?\d+(\.\d{1,3})?/,Jn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,es={},ts={},is=0,ns=1,ss=2,rs=3,os=4,as=5,ls=6,cs=7,us=8,hs=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),z("month",8),Q("M",Bn),Q("MM",Bn,zn),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ns]=b(e)-1}),te(["MMM","MMMM"],function(e,t,i,n){var s=i._locale.monthsParse(e,n,i._strict);null!=s?t[ns]=s:p(i).invalidMonth=e});var ds=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ps="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ms=Jn,gs=Jn;q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),L("year","y"),z("year",1),Q("Y",Xn),Q("YY",Bn,zn),Q("YYYY",qn,Hn),Q("YYYYY",Yn,$n),Q("YYYYYY",Yn,$n),te(["YYYYY","YYYYYY"],is),te("YYYY",function(t,i){i[is]=2===t.length?e.parseTwoDigitYear(t):b(t)}),te("YY",function(t,i){i[is]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[is]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var vs=H("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),z("week",5),z("isoWeek",5),Q("w",Bn),Q("ww",Bn,zn),Q("W",Bn),Q("WW",Bn,zn),ie(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=b(e)});var _s={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),Q("d",Bn),Q("e",Bn),Q("E",Bn),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ie(["dd","ddd","dddd"],function(e,t,i,n){var s=i._locale.weekdaysParse(e,n,i._strict);null!=s?t.d=s:p(i).invalidWeekday=e}),ie(["d","e","E"],function(e,t,i,n){t[n]=b(e)});var ys="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ws="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xs=Jn,Es=Jn,Ss=Jn;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,We),q("k",["kk",2],0,Ve),q("hmm",0,0,function(){return""+We.apply(this)+U(this.minutes(),2)}),q("hmmss",0,0,function(){return""+We.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),L("hour","h"),z("hour",13),Q("a",qe),Q("A",qe),Q("H",Bn),Q("h",Bn),Q("k",Bn),Q("HH",Bn,zn),Q("hh",Bn,zn),Q("kk",Bn,zn),Q("hmm",Wn),Q("hmmss",Vn),Q("Hmm",Wn),Q("Hmmss",Vn),te(["H","HH"],rs),te(["k","kk"],function(e,t){var i=b(e);t[rs]=24===i?0:i}),te(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),te(["h","hh"],function(e,t,i){t[rs]=b(e),p(i).bigHour=!0}),te("hmm",function(e,t,i){var n=e.length-2;t[rs]=b(e.substr(0,n)),t[os]=b(e.substr(n)),p(i).bigHour=!0}),te("hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[rs]=b(e.substr(0,n)),t[os]=b(e.substr(n,2)),t[as]=b(e.substr(s)),p(i).bigHour=!0}),te("Hmm",function(e,t){var i=e.length-2;t[rs]=b(e.substr(0,i)),t[os]=b(e.substr(i))}),te("Hmmss",function(e,t){var i=e.length-4,n=e.length-2;t[rs]=b(e.substr(0,i)),t[os]=b(e.substr(i,2)),t[as]=b(e.substr(n))});var ks,Ts=/[ap]\.?m?\.?/i,Cs=H("Hours",!0),Rs={calendar:kn,longDateFormat:Tn,invalidDate:Cn,ordinal:Rn,dayOfMonthOrdinalParse:Pn,relativeTime:Nn,months:ps,monthsShort:fs,week:_s,weekdays:ys,weekdaysMin:ws,weekdaysShort:bs,meridiemParse:Ts},Ps={},Ns={},Ms=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Os=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ds=/Z|[+-]\d\d(?::?\d\d)?/,Is=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ls=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],As=/^\/?Date\((\-?\d+)/i,js=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var zs=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Fs=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Hs=function(){return Date.now?Date.now():+new Date},$s=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pt("Z",":"),Pt("ZZ",""),Q("Z",Qn),Q("ZZ",Qn),te(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Nt(Qn,e)});var Bs=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ws=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vs=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Vt.fn=Tt.prototype,Vt.invalid=kt;var Us=Gt(1,"add"),qs=Gt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ys=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pi("gggg","weekYear"),Pi("ggggg","weekYear"),Pi("GGGG","isoWeekYear"),Pi("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),Q("G",Xn),Q("g",Xn),Q("GG",Bn,zn),Q("gg",Bn,zn),Q("GGGG",qn,Hn),Q("gggg",qn,Hn),Q("GGGGG",Yn,$n),Q("ggggg",Yn,$n),ie(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=b(e)}),ie(["gg","GG"],function(t,i,n,s){i[s]=e.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),L("quarter","Q"),z("quarter",7),Q("Q",jn),te("Q",function(e,t){t[ns]=3*(b(e)-1)}),q("D",["DD",2],"Do","date"),L("date","D"),z("date",9),Q("D",Bn),Q("DD",Bn,zn),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],ss),te("Do",function(e,t){t[ss]=b(e.match(Bn)[0],10)});var Gs=H("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),z("dayOfYear",4),Q("DDD",Un),Q("DDDD",Fn),te(["DDD","DDDD"],function(e,t,i){i._dayOfYear=b(e)}),q("m",["mm",2],0,"minute"),L("minute","m"),z("minute",14),Q("m",Bn),Q("mm",Bn,zn),te(["m","mm"],os);var Xs=H("Minutes",!1);q("s",["ss",2],0,"second"),L("second","s"),z("second",15),Q("s",Bn),Q("ss",Bn,zn),te(["s","ss"],as);var Zs,Qs=H("Seconds",!1);for(q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),z("millisecond",16),Q("S",Un,jn),Q("SS",Un,zn),Q("SSS",Un,Fn),Zs="SSSS";Zs.length<=9;Zs+="S")Q(Zs,Gn);for(Zs="S";Zs.length<=9;Zs+="S")te(Zs,zi);var Ks=H("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Js=v.prototype;Js.add=Us,Js.calendar=Qt,Js.clone=Kt,Js.diff=ri,Js.endOf=_i,Js.format=ui,Js.from=hi,Js.fromNow=di,Js.to=pi,Js.toNow=fi,Js.get=W,Js.invalidAt=Ci,Js.isAfter=Jt,Js.isBefore=ei,Js.isBetween=ti,Js.isSame=ii,Js.isSameOrAfter=ni,Js.isSameOrBefore=si,Js.isValid=ki,Js.lang=Ys,Js.locale=mi,Js.localeData=gi,Js.max=Fs,Js.min=zs,Js.parsingFlags=Ti,Js.set=V,Js.startOf=vi,Js.subtract=qs,Js.toArray=xi,Js.toObject=Ei,Js.toDate=wi,Js.toISOString=li,Js.inspect=ci,Js.toJSON=Si,Js.toString=ai,Js.unix=bi,Js.valueOf=yi,Js.creationData=Ri,Js.year=vs,Js.isLeapYear=ve,Js.weekYear=Ni,Js.isoWeekYear=Mi,Js.quarter=Js.quarters=Ai,Js.month=ue,Js.daysInMonth=he,Js.week=Js.weeks=Ce,Js.isoWeek=Js.isoWeeks=Re,Js.weeksInYear=Di,Js.isoWeeksInYear=Oi,Js.date=Gs,Js.day=Js.days=Ae,Js.weekday=je,Js.isoWeekday=ze,Js.dayOfYear=ji,Js.hour=Js.hours=Cs,Js.minute=Js.minutes=Xs,Js.second=Js.seconds=Qs,Js.millisecond=Js.milliseconds=Ks,Js.utcOffset=Dt,Js.utc=Lt,Js.local=At,Js.parseZone=jt,Js.hasAlignedHourOffset=zt,Js.isDST=Ft,Js.isLocal=$t,Js.isUtcOffset=Bt,Js.isUtc=Wt,Js.isUTC=Wt,Js.zoneAbbr=Fi,Js.zoneName=Hi,Js.dates=E("dates accessor is deprecated. Use date instead.",Gs),Js.months=E("months accessor is deprecated. Use month instead",ue),Js.years=E("years accessor is deprecated. Use year instead",vs),Js.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),Js.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ht);var er=R.prototype;er.calendar=P,er.longDateFormat=N,er.invalidDate=M,er.ordinal=O,er.preparse=Wi,er.postformat=Wi,er.relativeTime=D,er.pastFuture=I,er.set=T,er.months=re,er.monthsShort=oe,er.monthsParse=le,er.monthsRegex=pe,er.monthsShortRegex=de,er.week=Se,er.firstDayOfYear=Te,er.firstDayOfWeek=ke,er.weekdays=Me,er.weekdaysMin=De,er.weekdaysShort=Oe,er.weekdaysParse=Le,er.weekdaysRegex=Fe,er.weekdaysShortRegex=He,er.weekdaysMinRegex=$e,er.isPM=Ye,er.meridiem=Ge,Ke("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",Ke),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",tt);var tr=Math.abs,ir=cn("ms"),nr=cn("s"),sr=cn("m"),rr=cn("h"),or=cn("d"),ar=cn("w"),lr=cn("M"),cr=cn("y"),ur=hn("milliseconds"),hr=hn("seconds"),dr=hn("minutes"),pr=hn("hours"),fr=hn("days"),mr=hn("months"),gr=hn("years"),vr=Math.round,_r={ss:44,s:45,m:45,h:22,d:26,M:11},yr=Math.abs,br=Tt.prototype;return br.isValid=St,br.abs=Ki,br.add=en,br.subtract=tn,br.as=an,br.asMilliseconds=ir,br.asSeconds=nr,br.asMinutes=sr,br.asHours=rr,br.asDays=or,br.asWeeks=ar,br.asMonths=lr,br.asYears=cr,br.valueOf=ln,br._bubble=sn,br.get=un,br.milliseconds=ur,br.seconds=hr,br.minutes=dr,br.hours=pr,br.days=fr,br.weeks=dn,br.months=mr,br.years=gr,br.humanize=vn,br.toISOString=_n,br.toString=_n,br.toJSON=_n,br.locale=mi,br.localeData=gi,br.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_n),br.lang=Ys,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Q("x",Xn),Q("X",Kn),te("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,i){i._d=new Date(b(e))}),e.version="2.18.1",t(yt),e.fn=Js,e.min=wt,e.max=xt,e.now=Hs,e.utc=h,e.unix=$i,e.months=Yi,e.isDate=a,e.locale=Ke,e.invalid=m,e.duration=Vt,e.isMoment=_,e.weekdays=Xi,e.parseZone=Bi,e.localeData=tt,e.isDuration=Ct,e.monthsShort=Gi,e.weekdaysMin=Qi,e.defineLocale=Je,e.updateLocale=et,e.locales=it,e.weekdaysShort=Zi,e.normalizeUnits=A,e.relativeTimeRounding=mn,e.relativeTimeThreshold=gn,e.calendarFormat=Zt,e.prototype=Js,e}),"undefined"==typeof moment&&require&&(moment=require("moment")),function(e){function t(e,t){return e+" "+n[t+(1===e?"":"s")]}function i(e,i,s,r,o,a){var l=[];return e&&l.push(t(e,"year")),i&&l.push(t(i,"month")),s&&l.push(t(s,"day")),r&&l.push(t(r,"hour")),o&&l.push(t(o,"minute")),a&&l.push(t(a,"second")),l.join(n.delimiter)}var n={nodiff:"",year:"year",years:"years",month:"month",months:"months",day:"day",days:"days",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes",second:"second",seconds:"seconds",delimiter:" "};e.fn.preciseDiff=function(t,i){return e.preciseDiff(this,t,i)},e.preciseDiff=function(t,s,r){var o,a=e(t),l=e(s);if(a.add(l.utcOffset()-a.utcOffset(),"minutes"),a.isSame(l))return n.nodiff;if(a.isAfter(l)){var c=a;a=l,l=c,o=!0}else o=!1;var u=l.year()-a.year(),h=l.month()-a.month(),d=l.date()-a.date(),p=l.hour()-a.hour(),f=l.minute()-a.minute(),m=l.second()-a.second();if(m<0&&(m=60+m,f--),f<0&&(f=60+f,p--),p<0&&(p=24+p,d--),d<0){var g=e(l.year()+"-"+(l.month()+1),"YYYY-MM").subtract(1,"M").daysInMonth();d=g<a.date()?g+d+(a.date()-g):g+d,h--}return h<0&&(h=12+h,u--),r?{years:u,months:h,days:d,hours:p,minutes:f,seconds:m,firstDateWasLater:o}:i(u,h,d,p,f,m)}}(moment),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Countdown=e()}}(function(){return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return s(i||e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t){var i={date:"June 7, 2087 15:03:25",refresh:1e3,offset:0,onEnd:function(){},render:function(e){this.el.innerHTML=e.years+" years, "+e.days+" days, "+this.leadingZeros(e.hours)+" hours, "+this.leadingZeros(e.min)+" min and "+this.leadingZeros(e.sec)+" sec"}},n=function(e,t){for(var n in this.el=e,this.options={},this.interval=!1,i)i.hasOwnProperty(n)&&(this.options[n]="undefined"!=typeof t[n]?t[n]:i[n],"date"===n&&"object"!=typeof this.options.date&&(this.options.date=new Date(this.options.date)),"function"==typeof this.options[n]&&(this.options[n]=this.options[n].bind(this)));this.getDiffDate=function(){var e=(this.options.date.getTime()-Date.now()+this.options.offset)/1e3,t={years:0,days:0,hours:0,min:0,sec:0,millisec:0};return e<=0?(this.interval&&(this.stop(),this.options.onEnd()),t):(e>=31557600&&(t.years=Math.floor(e/31557600),e-=365.25*t.years*86400),e>=86400&&(t.days=Math.floor(e/86400),e-=86400*t.days),e>=3600&&(t.hours=Math.floor(e/3600),e-=3600*t.hours),e>=60&&(t.min=Math.floor(e/60),e-=60*t.min),t.sec=Math.round(e),t.millisec=e%1*1e3,t)}.bind(this),this.leadingZeros=function(e,t){return t=t||2,(e=String(e)).length>t?e:(Array(t+1).join("0")+e).substr(-t)},this.update=function(e){return"object"!=typeof e&&(e=new Date(e)),this.options.date=e,this.render(),this}.bind(this),this.stop=function(){return this.interval&&(clearInterval(this.interval),this.interval=!1),this}.bind(this),this.render=function(){return this.options.render(this.getDiffDate()),this}.bind(this),this.start=function(){if(!this.interval)return this.render(),this.options.refresh&&(this.interval=setInterval(this.render,this.options.refresh)),this}.bind(this),this.updateOffset=function(e){return this.options.offset=e,this}.bind(this),this.start()};t.exports=n},{}],2:[function(e,t){var i=e("./countdown.js"),n="countdown",s="date";jQuery.fn.countdown=function(e){return $.each(this,function(t,r){var o=$(r);o.data(n)||(o.data(s)&&(e.date=o.data(s)),o.data(n,new i(r,e)))})},t.exports=i},{"./countdown.js":1}]},{},[2])(2)}),function(e,t,i){function n(e){return c(arguments,function(t,n){e[t]===i&&(e[t]=n)}),e}function s(e){return c(arguments,function(t,i){e[b][r(e,t)||t]=i}),e}function r(e,t){var n,s,r=e[b];if(r[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),s=0;s<z[d];s++)if(r[n=z[s]+t]!==i)return n}function o(e,t){var i,n=[v,t,~~(100*e)].join("-"),s="{"+v+":"+e+"}";if(!F[n]){for(i=0;i<z[d];i++)try{H.insertRule("@"+(z[i]&&"-"+z[i].toLowerCase()+"-"||"")+"keyframes "+n+"{0%{"+v+":1}"+t+"%"+s+"to"+s+"}",H.cssRules[d])}catch(f){}F[n]=1}return n}function a(e,t,i){return i&&!i[C]&&a(e,i),e.insertBefore(t,i||null),e}function l(e){var i=t.createElement(e||"div");return c(arguments,function(e,t){i[e]=t}),i}function c(e,t){for(var i=~~((e[d]-1)/2),n=1;n<=i;n++)t(e[2*n-1],e[2*n])}var u,h="width",d="length",p="radius",f="lines",m="trail",g="color",v="opacity",_="speed",y="shadow",b="style",w="height",x="left",E="top",S="px",k="childNodes",T="firstChild",C="parentNode",R="position",P="relative",N="absolute",M="animation",O="transform",D="Origin",I="Timeout",L="coord",A="#000",j=b+"Sheets",z="webkit0Moz0ms0O".split(0),F={};a(t.getElementsByTagName("head")[0],l(b));var H=t[j][t[j][d]-1],$=function(e){this.opts=n(e||{},f,12,m,100,d,7,h,5,p,10,g,A,v,.25,_,1)},B=$.prototype={spin:function(t){var i=this,n=i.el=i[f](i.opts);if(t&&a(t,s(n,x,~~(t.offsetWidth/2)+S,E,~~(t.offsetHeight/2)+S),t[T]),!u){var r=i.opts,o=0,l=20/r[_],c=(1-r[v])/(l*r[m]/100),h=l/r[f];!function t(){o++;for(var s=r[f];s;s--){var a=Math.max(1-(o+s*h)%l*c,r[v]);i[v](n,r[f]-s,a,r)}i[I]=i.el&&e["set"+I](t,50)}()}return i},stop:function(){var t=this,n=t.el;return e["clear"+I](t[I]),n&&n[C]&&n[C].removeChild(n),t.el=i,t}};B[f]=function(e){function t(t,i){return s(l(),R,N,h,e[d]+e[h]+S,w,e[h]+S,"background",t,"boxShadow",i,O+D,x,O,"rotate("+~~(360/e[f]*c)+"deg) translate("+e[p]+S+",0)","borderRadius","100em")}for(var i,n=s(l(),R,P),r=o(e[v],e[m]),c=0;c<e[f];c++)i=s(l(),R,N,E,1+~(e[h]/2)+S,O,"translate3d(0,0,0)",M,r+" "+1/e[_]+"s linear infinite "+(1/e[f]/e[_]*c-1/e[_])+"s"),e[y]&&a(i,s(t(A,"0 0 4px "+A),E,2+S)),a(n,a(i,t(e[g],"0 0 1px rgba(0,0,0,.1)")));return n},B[v]=function(e,t,i){e[k][t][b][v]=i};var W="behavior",V="url(#default#VML)",U="group0roundrect0fill0stroke".split(0);(function(){var e,t=s(l(U[0]),W,V);if(!r(t,O)&&t.adj){for(e=0;e<U[d];e++)H.addRule(U[e],W+":"+V);B[f]=function(){function e(e,i,o){a(c,a(s(t(),"rotation",360/n[f]*e+"deg",x,~~i),a(s(l(U[1],"arcsize",1),h,r,w,n[h],x,n[p],E,-n[h]/2,"filter",o),l(U[2],g,n[g],v,n[v]),l(U[3],v,0))))}function t(){return s(l(U[0],L+"size",o+" "+o,L+D,-r+" "+-r),h,o,w,o)}var i,n=this.opts,r=n[d]+n[h],o=2*r,c=t(),u=~(n[d]+n[p]+n[h])+S;if(n[y])for(i=1;i<=n[f];i++)e(i,-2,"progid:DXImage"+O+".Microsoft.Blur(pixel"+p+"=2,make"+y+"=1,"+y+v+"=.3)");for(i=1;i<=n[f];i++)e(i);return a(s(l(),"margin",u+" 0 0 "+u,R,P),c)},B[v]=function(e,t,i,n){n=n[y]&&n[f]||0,e[T][k][t+n][T][T][v]=i}}else u=r(t,M)})(),e.Spinner=$}(window,document),
/*!
 * fancyBox - jQuery Plugin
 * version: 3.0.0 Beta 1 (Tue, 29 Jan 2013)
 * @requires jQuery v1.7 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2013 Janis Skarnelis - janis@fancyapps.com
 *
 */
function(t,i,n,s){"use strict";var r=n(t),o=n(i),a=n("html"),l=n.fancybox=function(){l.open.apply(this,arguments)},c=l.isTouch=i.createTouch!==s||t.ontouchstart!==s,u=function(e){return e&&e.hasOwnProperty&&e instanceof n},h=function(e){return e&&"string"===n.type(e)},d=function(e){return h(e)&&e.indexOf("%")>0},p=function(e,t){var i=parseFloat(e,10)||0;return t&&d(e)&&(i=l.getViewport()[t]/100*i),Math.ceil(i)},f=function(e,t){return p(e,t)+"px"},m=Date.now||function(){return+new Date},g=function(t){var i=h(t)?n(t):t;if(i&&i.length){i.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{i.find("iframe").unbind().attr("src",c?"":"//about:blank"),setTimeout(function(){var e,t;(i.empty().remove(),!l.lock||l.coming||l.current)||(n(".fancybox-margin").removeClass("fancybox-margin"),e=r.scrollTop(),t=r.scrollLeft(),a.removeClass("fancybox-lock"),l.lock.remove(),l.lock=null,r.scrollTop(e).scrollLeft(t))},150)}catch(e){}}};n.extend(l,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!c,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!c,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorw\xe4rts",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(e,t){e&&!1!==l.close(!0)&&(n.isPlainObject(t)||(t={}),l.opts=n.extend(!0,{},l.defaults,t),l.populate(e),l.group.length&&l._start(l.opts.index))},populate:function(e){var t=[];n.isArray(e)||(e=[e]),n.each(e,function(i,r){var o,a,d,p,f,m=n.extend(!0,{},l.opts);if(n.isPlainObject(r))o=r;else if(h(r))o={href:r};else{if(!(u(r)||"object"===n.type(r)&&r.nodeType))return;a=n(r),(o=n(a).get(0)).href||(o={href:r}),o=n.extend({href:a.data("fancybox-href")||a.attr("href")||o.href,title:a.data("fancybox-title")||a.attr("title")||o.title,type:a.data("fancybox-type"),element:a},a.data("fancybox-options"))}o.type||!o.content&&!o.href||(o.type=o.content?"html":l.guessType(a,o.href)),"image"!==(d=o.type||l.opts.type)&&"swf"!==d||(m.autoWidth=m.autoHeight=!1,m.scrolling="visible"),"image"===d&&(m.aspectRatio=!0),"iframe"===d&&(m.autoWidth=!1,m.scrolling=c?"scroll":"visible"),e.length<2&&(m.margin=30),p=(o=n.extend(!0,{},m,o)).margin,f=o.padding,"number"===n.type(p)&&(o.margin=[p,p,p,p]),"number"===n.type(f)&&(o.padding=[f,f,f,f]),o.modal&&n.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),o.autoSize!==s&&(o.autoWidth=o.autoHeight=!!o.autoSize),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),t.push(o)}),l.group=l.group.concat(t)},cancel:function(){var e=l.coming;e&&!1!==l.trigger("onCancel")&&(l.hideLoading(),l.ajaxLoad&&l.ajaxLoad.abort(),l.imgPreload&&(l.imgPreload.onload=l.imgPreload.onerror=null),e.wrap&&g(e.wrap),l.ajaxLoad=l.imgPreload=l.coming=null,l.current||l._afterZoomOut(e))},close:function(e){e&&"object"===n.type(e)&&e.preventDefault(),l.cancel(),l.isActive&&!l.coming&&!1!==l.trigger("beforeClose")&&(l.unbind(),l.isClosing=!0,l.lock&&l.lock.css("overflow","hidden"),l.isOpen&&!0!==e?(l.isOpen=l.isOpened=!1,l.transitions.close()):l._afterZoomOut())},prev:function(e){var t=l.current;t&&l.jumpto(t.index-1,h(e)?e:t.direction.prev)},next:function(e){var t=l.current;t&&l.jumpto(t.index+1,h(e)?e:t.direction.next)},jumpto:function(e,t){var i=l.current;l.coming&&l.coming.index===e||(l.cancel(),i.index==e?t=null:t||(t=i.direction[e>i.index?"next":"prev"]),l.direction=t,l._start(e))}}),n.extend(l,{guessType:function(e,t){var i=e&&e.prop("class")?e.prop("class").match(/fancybox\.(\w+)/):0,n=!1;return i?i[1]:(h(t)?t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?n="image":t.match(/\.(swf)((\?|#).*)?$/i)?n="swf":"#"===t.charAt(0)&&(n="inline"):h(e)&&(n="html"),n)},trigger:function(e,t){var i,s=t||l.coming||l.current;if(s){if(n.isFunction(s[e])&&(i=s[e].apply(s,Array.prototype.slice.call(arguments,1))),!1===i||"afterClose"===e&&l.isActive)return!1;s.helpers&&n.each(s.helpers,function(t,i){var r,o=l.helpers[t];i&&o&&n.isFunction(o[e])&&(r=n.extend(!0,{},o.defaults,i),o.opts=r,o[e](r,s))}),n.event.trigger(e)}},reposition:function(e,t){var i,n=t||l.current,s=n&&n.wrap;l.isOpen&&s&&(i=l._getPosition(n),!1===e||e&&"scroll"===e.type?s.stop(!0).animate(i,200).css("overflow","visible"):s.css(i))},update:function(e){var t,i=e&&e.type,s=(m(),l.current);if(s&&l.isOpen){if("scroll"===i){if(l.wrap.outerHeight(!0)>l.getViewport().h)return;return l.didUpdate&&clearTimeout(l.didUpdate),void(l.didUpdate=setTimeout(function(){l.reposition(e),l.didUpdate=null},50))}l.lock&&l.lock.css("overflow","hidden"),l._setDimension(),l.reposition(e),l.lock&&l.lock.css("overflow","auto"),"float"===s.caption.type&&(t=l.getViewport().w-(l.wrap.outerWidth(!0)-l.inner.width()),s.caption.wrap.css("width",t).css("marginLeft",-1*(.5*t-.5*l.inner.width()))),s.expander&&(s.canShrink?n(".fancybox-expand").show().attr("title",s.locales[s.locale].SHRINK):s.canExpand?n(".fancybox-expand").show().attr("title",s.locales[s.locale].EXPAND):n(".fancybox-expand").hide()),l.trigger("onUpdate")}},toggle:function(e){l.current&&l.isOpen&&(l.current.fitToView="boolean"===n.type(e)?e:!l.current.fitToView,l.update(!0))},hideLoading:function(){n("#fancybox-loading").remove()},showLoading:function(){var e,t;l.hideLoading(),e=n('<div id="fancybox-loading"></div>').click(l.cancel).appendTo("body"),l.defaults.fixed||(t=l.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){return l.lock?{x:l.lock.scrollLeft(),y:l.lock.scrollTop(),w:l.lock[0].clientWidth,h:l.lock[0].clientHeight}:{x:r.scrollLeft(),y:r.scrollTop(),w:c&&t.innerWidth?t.innerWidth:r.width(),h:c&&t.innerHeight?t.innerHeight:r.height()}},unbind:function(){u(l.wrap)&&l.wrap.unbind(".fb"),u(l.inner)&&l.inner.unbind(".fb"),o.unbind(".fb"),r.unbind(".fb")},rebind:function(){var e,t=l.current;l.unbind(),t&&l.isOpen&&(r.bind("orientationchange.fb"+(c?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),l.update),(e=t.keys)&&o.bind("keydown.fb",function(i){var r=i.which||i.keyCode,o=i.target||i.srcElement;if(27===r&&l.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||o&&(o.type||n(o).is("[contenteditable]"))||n.each(e,function(e,o){return o[r]!==s?(i.preventDefault(),t.group.length>1&&l[e](o[r]),!1):n.inArray(r,o)>-1?(i.preventDefault(),"play"===e?l.slideshow.toggle():l[e](),!1):void 0})}),l.lastScroll=m(),t.mouseWheel&&l.group.length>1&&l.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(e){var t=e.originalEvent,i=t.target||0,n=t.wheelDelta||t.detail||0,s=t.wheelDeltaX||0,r=t.wheelDeltaY||0,o=m();i&&i.style&&(!i.style.overflow||"hidden"!==i.style.overflow)&&(i.clientWidth&&i.scrollWidth>i.clientWidth||i.clientHeight&&i.scrollHeight>i.clientHeight)||0===n||l.current&&l.current.canShrink||(t.stopPropagation(),l.lastScroll&&o-l.lastScroll<80?l.lastScroll=o:(l.lastScroll=o,t.axis&&(t.axis===t.HORIZONTAL_AXIS?s=-1*n:t.axis===t.VERTICAL_AXIS&&(r=-1*n)),0===s?r>0?l.prev("down"):l.next("up"):s>0?l.prev("right"):l.next("left")))}),l.touch.init())},rebuild:function(){var e=l.current;e.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),e.arrows&&l.group.length>1&&((e.loop||e.index>0)&&n(l._translate(e.tpl.prev)).appendTo(l.inner).bind("click.fb",l.prev),(e.loop||e.index<l.group.length-1)&&n(l._translate(e.tpl.next)).appendTo(l.inner).bind("click.fb",l.next)),e.closeBtn&&n(l._translate(e.tpl.closeBtn)).appendTo(l.wrap).bind("click.fb",l.close),e.expander&&"image"===e.type&&(n('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(l.inner).bind("click.fb",l.toggle),!e.canShrink&&e.canExpand)},_start:function(e){var t,i;if(l.opts.loop&&(e<0&&(e=l.group.length+e%l.group.length),e%=l.group.length),!(t=l.group[e]))return!1;(t=n.extend(!0,{},l.opts,t)).group=l.group,t.index=e,l.coming=t,!1!==l.trigger("beforeLoad")?(l.isActive=!0,l._build(),o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(o.unbind(".loading"),e.preventDefault(),l.cancel())}),t.overlay&&t.overlay.showEarly&&l.overlay.open(t.overlay),"image"===(i=t.type)?l._loadImage():"ajax"===i?l._loadAjax():"iframe"===i?l._loadIframe():"inline"===i?l._loadInline():"html"===i||"swf"===i?l._afterLoad():l._error()):l.coming=null},_build:function(){var e,t,i,s=l.coming,c=s.caption.type;s.wrap=e=n('<div class="fancybox-wrap"></div>').appendTo(s.parent||"body").addClass("fancybox-"+s.theme),s.inner=n('<div class="fancybox-inner"></div>').appendTo(e),s["outside"===c||"float"===c?"inner":"wrap"].addClass("fancybox-skin fancybox-"+s.theme+"-skin"),s.locked&&s.overlay&&l.defaults.fixed&&(l.lock||(l.lock=n('<div id="fancybox-lock"></div>').appendTo(e.parent())),l.lock.unbind().append(e),s.overlay.closeClick&&l.lock.click(function(e){n(e.target).is(l.lock)&&l.close()}),(o.height()>r.height()||"scroll"===a.css("overflow-y"))&&(n("*:visible").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==n(this).attr("id")}).addClass("fancybox-margin"),a.addClass("fancybox-margin")),t=r.scrollTop(),i=r.scrollLeft(),a.addClass("fancybox-lock"),r.scrollTop(t).scrollLeft(i)),l.trigger("onReady")},_error:function(e){l.coming&&(n.extend(l.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:e,content:l._translate(l.coming.tpl.error)}),l._afterLoad())},_loadImage:function(){var e=l.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,n.extend(l.coming,{width:this.width,height:this.height,content:n(this).addClass("fancybox-image")}),l._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,l._error("image")},e.src=l.coming.href,(!0!==e.complete||e.width<1)&&l.showLoading()},_loadAjax:function(){var e,t,i=l.coming,s=i.href;s=(e=s.split(/\s+/,2)).shift(),t=e.shift(),l.showLoading(),l.ajaxLoad=n.ajax(n.extend({},i.ajax,{url:i.href,error:function(e,t){l.coming&&"abort"!==t?l._error("ajax",e):l.hideLoading()},success:function(e,s){"success"===s&&(t&&(e=n("<div>").html(e).find(t)),i.content=e,l._afterLoad())}}))},_loadIframe:function(){var e,t=l.coming;t.content=e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling),t.iframe.preload&&(l.showLoading(),l._setDimension(t),t.wrap.addClass("fancybox-tmp"),e.one("load.fb",function(){t.iframe.preload&&(n(this).data("ready",1),n(this).bind("load.fb",l.update),l._afterLoad())})),e.attr("src",t.href).appendTo(t.inner),t.iframe.preload?1!==e.data("ready")&&l.showLoading():l._afterLoad()},_loadInline:function(){var e=l.coming,t=e.href;e.content=n(h(t)?t.replace(/.*(?=#[^\s]+$)/,""):t),e.content.length?l._afterLoad():l._error()},_preloadImages:function(){var e,t,i=l.group,n=l.current,s=i.length,r=n.preload?Math.min(n.preload,s-1):0;for(t=1;t<=r;t+=1)(e=i[(n.index+t)%s])&&"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e=l.coming,t=l.current;if(o.unbind(".loading"),!e||!1===l.isActive||!1===l.trigger("afterLoad",e,t))return l.hideLoading(),e&&e.wrap&&g(e.wrap),t||l._afterZoomOut(e),void(l.coming=null);n.extend(l,{wrap:e.wrap.addClass("fancybox-type-"+e.type+" fancybox-"+(c?"mobile":"desktop")+" fancybox-"+e.theme+"-"+(c?"mobile":"desktop")+" "+e.wrapCSS),inner:e.inner,current:e,previous:t}),l._prepare(),l.trigger("beforeShow",e,t),l.isOpen=!1,l.coming=null,l._setDimension(),l.hideLoading(),e.overlay&&!l.overlay.el&&l.overlay.open(e.overlay),l.transitions.open()},_prepare:function(){var e,t=l.current,i=t.content||"",s=t.wrap,r=t.inner,o=t.margin,a=t.padding,c=t.href,d=t.type,p=(t.scrolling,t.caption),m=t.title,g=p.type,v="fancybox-placeholder",_="fancybox-display";"iframe"!==d&&u(i)&&i.length&&(i.data(v)||i.data(_,i.css("display")).data(v,n('<div class="'+v+'"></div>').insertAfter(i).hide()),i=i.show().detach(),t.wrap.bind("onReset",function(){n(this).find(i).length&&i.css("display",i.data(_)).replaceAll(i.data(v)).data(v,!1).data(_,!1)})),"swf"===d&&(i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+c+'"></param>',e="",n.each(t.swf,function(t,n){i+='<param name="'+t+'" value="'+n+'"></param>',e+=" "+t+'="'+n+'"'}),i+='<embed src="'+c+'" type="application/x-shockwave-flash" width="100%" height="100%"'+e+"></embed></object>"),u(i)&&i.parent().is(t.inner)||(t.inner.append(i),t.content=t.inner.children(":last")),n.each(["Top","Right","Bottom","Left"],function(e,t){o[e]&&s.css("margin"+t,f(o[e])),a[e]&&("Bottom"===t&&"outside"===g||s.css("padding"+t,f(a[e])),"outside"!==g&&"float"!==g||(r.css("border"+t+"Width",f(a[e])),"Top"!==t&&"Left"!==t||r.css("margin"+t,f(-1*a[e]))))}),n.isFunction(m)&&(m=m.call(t.element,t)),h(m)&&""!==n.trim(m)&&(t.caption.wrap=n('<div class="fancybox-title fancybox-title-'+g+'-wrap">'+m+"</div>").appendTo(t["over"===g?"inner":"wrap"]),"float"===g&&t.caption.wrap.width(l.getViewport().w-(l.wrap.outerWidth(!0)-l.inner.width())).wrapInner("<div></div>"))},_setDimension:function(t){var i,n,s,r,o,a,c,h,m,g,v,_,y,b,w,x=l.getViewport(),E=t||l.current,S=E.wrap,k=E.inner,T=E.width,C=E.height,R=E.minWidth,P=E.minHeight,N=E.maxWidth,M=E.maxHeight,O=E.margin,D=E.scrollOutside?E.scrollbarWidth:0,I=(O=E.margin,E.padding),L=E.scrolling,A=1;if(i=(L=L.split(","))[0],n=L[1]||i,E.inner.css("overflow-x","yes"===i?"scroll":"no"===i?"hidden":i).css("overflow-y","yes"===n?"scroll":"no"===n?"hidden":n),r=O[1]+O[3]+I[1]+I[3],s=O[0]+O[2]+I[0]+I[2],R=p(d(R)?p(R,"w")-r:R),N=p(d(N)?p(N,"w")-r:N),P=p(d(P)?p(P,"h")-s:P),M=p(d(M)?p(M,"h")-s:M),o=p(d(T)?p(T,"w")-r:T),a=p(d(C)?p(C,"h")-s:C),E.fitToView&&(N=Math.min(N,p("100%","w")-r),M=Math.min(M,p("100%","h")-s)),g=x.w,v=x.h,"iframe"===E.type){if(h=E.content,S.removeClass("fancybox-tmp"),(E.autoWidth||E.autoHeight)&&h&&1===h.data("ready"))try{h[0].contentWindow&&h[0].contentWindow.document.location&&(m=h.contents().find("body"),k.addClass("fancybox-tmp"),k.width(screen.width-r).height(99999),D&&m.css("overflow-x","hidden"),E.autoWidth&&(o=m.outerWidth(!0)),E.autoHeight&&(a=m.outerHeight(!0)),k.removeClass("fancybox-tmp"))}catch(e){}}else(E.autoWidth||E.autoHeight)&&"image"!==E.type&&"swf"!==E.type&&(k.addClass("fancybox-tmp"),E.autoWidth?k.width("auto"):k.width(N),E.autoHeight?k.height("auto"):k.height(M),E.autoWidth&&(o=k[0].scrollWidth||k.width()),E.autoHeight&&(a=k[0].scrollHeight||k.height()),k.removeClass("fancybox-tmp"));if(T=o,C=a,c=o/a,!E.autoResize)return S.css({width:f(T),height:"auto"}),void k.css({width:f(T),height:f(C)});if(E.aspectRatio?(T>N&&(C=(T=N)/c),C>M&&(T=(C=M)*c),T<R&&(C=(T=R)/c),C<P&&(T=(C=P)*c)):(T=Math.max(R,Math.min(T,N)),E.autoHeight&&"iframe"!==E.type&&(k.width(T),a=C=k[0].scrollHeight),C=Math.max(P,Math.min(C,M))),S.css({width:f(T),height:"auto"}),k.css({width:f(T),height:f(C)}),_=p(S.outerWidth(!0)),y=p(S.outerHeight(!0)),E.fitToView)if(E.aspectRatio)for(;(_>g||y>v)&&T>R&&C>P&&!(A++>30);)C=Math.max(P,Math.min(M,C-10)),(T=p(C*c))<R&&(C=p((T=R)/c)),T>N&&(C=p((T=N)/c)),S.css({width:f(T)}),k.css({width:f(T),height:f(C)}),_=p(S.outerWidth(!0)),y=p(S.outerHeight(!0));else T=Math.max(R,Math.min(T,T-(_-g))),C=Math.max(P,Math.min(C,C-(y-v)));D&&"auto"===i&&(C<k[0].scrollHeight||u(E.content)&&E.content[0]&&C<E.content[0].offsetHeight)&&T+r+D<N&&(T+=D),S.css({width:T}),k.css({width:f(T),height:f(C)}),_=p(S.outerWidth(!0)),y=p(S.outerHeight(!0)),b=(_>g||y>v)&&T>R&&C>P,w=(_<g||y<v)&&(E.aspectRatio?T<N&&C<M&&T<o&&C<a:(T<N||C<M)&&(T<o||C<a)),E.canShrink=b,E.canExpand=w,!h&&E.autoHeight&&C>P&&C<M&&!w&&k.height("auto")},_getPosition:function(e){var t=e||l.current,i=t.wrap,n=l.getViewport(),s=n.y,r=n.x;return{top:f(Math.max(s,s+(n.h-i.outerHeight(!0))*t.topRatio)),left:f(Math.max(r,r+(n.w-i.outerWidth(!0))*t.leftRatio)),width:f(i.width()),height:f(i.height())}},_afterZoomIn:function(){var e=l.current;e&&(l.lock&&l.lock.css("overflow","auto"),l.isOpen=l.isOpened=!0,l.rebuild(),l.rebind(),e.caption&&e.caption.wrap&&e.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),l.update(),l.wrap.css("overflow","visible").addClass("fancybox-open").focus(),l[l.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+e.theme+"-skin-open"),e.caption&&e.caption.wrap&&e.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),e.margin[2]>0&&n('<div class="fancybox-spacer"></div>').css("height",f(e.margin[2]-2)).appendTo(l.wrap),l.trigger("afterShow"),l._preloadImages(),e.autoPlay&&!l.slideshow.isActive&&l.slideshow.start())},_afterZoomOut:function(e){var t=function(){g(".fancybox-wrap")};l.hideLoading(),(e=e||l.current)&&e.wrap&&e.wrap.hide(),n.extend(l,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),l.trigger("afterClose",e),l.coming||l.current||(e.overlay?l.overlay.close(e.overlay,t):t())},_translate:function(e){var t=l.coming||l.current,i=t.locales[t.locale];return e.replace(/\{\{(\w+)\}\}/g,function(e,t){var n=i[t];return n===s?e:n})}}),l.transitions={_getOrig:function(e){var t=e||l.current,i=t.wrap,n=t.element,s=t.orig,o=l.getViewport(),a={},c=50,h=50;return!s&&n&&n.is(":visible")&&((s=n.find("img:first:visible")).length||(s=n)),!s&&t.group[0].element&&(s=t.group[0].element.find("img:visible:first")),u(s)&&s.is(":visible")?(a=s.offset(),s.is("img")&&(c=s.outerWidth(),h=s.outerHeight()),l.lock&&(a.top-=r.scrollTop(),a.left-=r.scrollLeft())):(a.top=o.y+(o.h-h)*t.topRatio,a.left=o.x+(o.w-c)*t.leftRatio),a={top:f(a.top-.5*(i.outerHeight(!0)-i.height())),left:f(a.left-.5*(i.outerWidth(!0)-i.width())),width:f(c),height:f(h)}},_getCenter:function(e){var t=e||l.current,i=t.wrap,n=l.getViewport(),s=n.y,r=n.x;return{top:f(Math.max(s,s+(n.h-i.outerHeight(!0))*t.topRatio)),left:f(Math.max(r,r+(n.w-i.outerWidth(!0))*t.leftRatio)),width:f(i.width()),height:f(i.height())}},_prepare:function(e,t){var i=e||l.current,n=i.wrap,s=i.inner;n.height(n.height()),s.css({width:100*s.width()/n.width()+"%",height:Math.floor(100*s.height()/n.height()*100)/100+"%"}),!0===t&&n.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),s.css("overflow","hidden")},fade:function(e,t){var i=this._getCenter(e),s={opacity:0};return"open"===t||"changeIn"===t?[n.extend(i,s),{opacity:1}]:[{},s]},drop:function(e,t){var i=n.extend(this._getCenter(e),{opacity:1}),s=n.extend({},i,{opacity:0,top:f(Math.max(l.getViewport().y-e.margin[0],p(i.top)-200))});return"open"===t||"changeIn"===t?[s,i]:[{},s]},elastic:function(e,t){var i,s,r,o=e.wrap,a=e.margin,c=l.getViewport(),u=l.direction,h=this._getCenter(e),d=n.extend({},h),f=n.extend({},h);return"open"===t?d=this._getOrig(e):"close"===t?(d={},f=this._getOrig(e)):u&&(i="up"===u||"down"===u?"top":"left",s="up"===u||"left"===u?200:-200,"changeIn"===t?(r=p(d[i])+s,r="left"===u?Math.min(r,c.x+c.w-a[3]-o.outerWidth()-1):"right"===u?Math.max(r,c.x-a[1]):"up"===u?Math.min(r,c.y+c.h-a[0]-o.outerHeight()-1):Math.max(r,c.y-a[2]),d[i]=r):(r=p(o.css(i))-s,d={},r="left"===u?Math.max(r,c.x-a[3]):"right"===u?Math.min(r,c.x+c.w-a[1]-o.outerWidth()-1):"up"===u?Math.max(r,c.y-a[0]):Math.min(r,c.y+c.h-a[2]-o.outerHeight()-1),f[i]=r)),"open"===t||"changeIn"===t?(d.opacity=0,f.opacity=1):f.opacity=0,[d,f]},open:function(){var e,t,i,s,r,o=l.current,a=l.previous;l.direction;a&&a.wrap.stop(!0).removeClass("fancybox-opened"),l.isOpened?(e=o.nextEffect,i=o.nextSpeed,s=o.nextEasing,r="changeIn"):(e=o.openEffect,i=o.openSpeed,s=o.openEasing,r="open"),"none"===e?l._afterZoomIn():(t=this[e](o,r),"elastic"===e&&this._prepare(o),o.wrap.css(t[0]),o.wrap.animate(t[1],i,s,l._afterZoomIn)),a&&(l.isOpened&&"none"!==a.prevEffect?(a.wrap.stop(!0).removeClass("fancybox-opened"),t=this[a.prevEffect](a,"changeOut"),this._prepare(a,!0),a.wrap.animate(t[1],a.prevSpeed,a.prevEasing,function(){g(a.wrap)})):g(n(".fancybox-wrap").not(o.wrap)))},close:function(){var e,t=l.current,i=t.wrap.stop(!0).removeClass("fancybox-opened"),n=t.closeEffect;if("none"===n)return l._afterZoomOut();this._prepare(t,!0),e=this[n](t,"close"),i.addClass("fancybox-animating").animate(e[1],t.closeSpeed,t.closeEasing,l._afterZoomOut)}},l.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),l.current&&this.isActive&&(this._timer=setTimeout(l.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(e){var t=l.current;t&&(t.loop||t.index<t.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=e||t.playSpeed,o.bind({"beforeLoad.player":n.proxy(this._clear,this),"onUpdate.player":n.proxy(this._set,this),"onCancel.player beforeClose.player":n.proxy(this.stop,this)}),this._set(),l.trigger("onPlayStart"))},stop:function(){this._clear(),o.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,l.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},l.overlay={el:null,theme:"",open:function(e){var t,i,s=this,o=this.el,a=l.defaults.fixed;e=n.extend({},l.defaults.overlay,e),o?o.stop(!0).removeAttr("style").unbind(".overlay"):o=n('<div class="fancybox-overlay'+(a?" fancybox-overlay-fixed":"")+'"></div>').appendTo(e.parent||"body"),e.closeClick&&o.bind("click.overlay",function(){return!(l.lastTouch&&m()-l.lastTouch<300)&&(l.isActive?l.close():s.close(),!1)}),(i=e.theme||(l.coming?l.coming.theme:"default"))!==this.theme&&o.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=i,o.addClass("fancybox-"+i+"-overlay").css(e.css),t=o.css("opacity"),!this.el&&t<1&&e.speedIn&&o.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(e.speedIn,t),this.el=o,a||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update())},close:function(e,t){e=n.extend({},l.defaults.overlay,e),this.el&&this.el.stop(!0).fadeOut(e.speedOut,function(){r.unbind("resize.overlay"),n(".fancybox-overlay").remove(),l.overlay.el=null,n.isFunction(t)&&t()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(o.width()).height(o.height())}},l.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(e){l.current;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=m();if(l.isOpen&&!l.wrap.is(":animated")&&(n(e.target).is(l.inner)||n(e.target).parent().is(l.inner))){if(l.lastTouch&&i-l.lastTouch<300)return e.preventDefault(),l.lastTouch=i,this._cancel(!0),l.toggle(),!1;l.lastTouch=i,l.wrap&&l.wrap.outerWidth()>l.getViewport().w||(e.preventDefault(),t&&l.wrap&&l.wrap.outerWidth()<l.getViewport().w&&(this.startX=t.pageX,this.wrapX=l.wrap.position().left,this.isMoving=!0,l.inner.bind("touchmove.fb",n.proxy(this._move,this)).one("touchend.fb touchcancel.fb",n.proxy(this._cancel,this))))}},_move:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=this.startX-t.pageX;this.isMoving&&l.isOpen&&(this.dx=i,l.current.wrap.outerWidth(!0)<=r.width()&&(Math.abs(i)>=50?(e.preventDefault(),this.last=0,this._cancel(!0),i>0?l.next("left"):l.prev("right")):Math.abs(i)>3&&(e.preventDefault(),this.last=0,l.wrap.css("left",this.wrapX-i))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(){l.inner&&l.inner.unbind("touchmove.fb"),l.isOpen&&Math.abs(this.dx)>3&&l.reposition(!1),this._clear()},init:function(){l.inner&&l.touch&&(this._cancel(!0),l.inner.bind("touchstart.fb",n.proxy(this._start,this)))}},n.easing.easeOutQuad||(n.easing.easeOutQuad=function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i}),o.ready(function(){var e,i,o,c,u,h;n.scrollbarWidth===s&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),i=t.innerWidth()-t.height(99).innerWidth();return e.remove(),i}),n.support.fixedPosition===s&&(n.support.fixedPosition=(u=n('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),h="fixed"===u.css("position")&&(u[0].offsetTop>18&&u[0].offsetTop<22||15===u[0].offsetTop),u.remove(),h)),n.extend(l.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),o=r.scrollTop(),c=r.scrollLeft(),e=n(t).width(),a.addClass("fancybox-lock-test"),i=n(t).width(),a.removeClass("fancybox-lock-test"),r.scrollTop(o).scrollLeft(c),l.lockMargin=i-e,n("<style type='text/css'>.fancybox-margin{margin-right:"+l.lockMargin+"px;}</style>").appendTo("head"),n("script[src*='jquery.fancybox.js']").length>0&&n("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&n("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),n.fn.fancybox=function(e){var t=this,i=!!this.length&&this.selector,s=i&&i.indexOf("()")<0&&!(e&&!1===e.live),r=function(r){var o=s?n(i):t,a=n(this).blur(),c=e.groupAttr||"data-fancybox-group",u=a.attr(c),h=this.rel;!u&&h&&"nofollow"!==h&&(c="rel",u=h),u&&(a=o.filter("["+c+'="'+u+'"]'),e.index=a.index(this)),a.length&&(r.preventDefault(),l.open(a.get(),e))};return e=e||{},s?o.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",r):t.unbind("click.fb-start").bind("click.fb-start",r),this}}(window,document,jQuery),function(e){function t(){}function i(e){function i(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function s(t,i){e.fn[t]=function(s){if("string"==typeof s){for(var o=n.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=e.data(c,t);if(u)if(e.isFunction(u[s])&&"_"!==s.charAt(0)){var h=u[s].apply(u,o);if(void 0!==h)return h}else r("no such method '"+s+"' for "+t+" instance");else r("cannot call methods on "+t+" prior to initialization; attempted to call '"+s+"'")}return this}return this.each(function(){var n=e.data(this,t);n?(n.option(s),n._init()):(n=new i(this,s),e.data(this,t,n))})}}if(e){var r="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){i(t),s(e,t)},e.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var s=function(){};i.removeEventListener?s=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(s=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var r={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:e.eventie=r}(window),function(){"use strict";function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,s=this,r=s.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},n.addListener=function(e,i){var n,s=this.getListenersAsObject(e),r="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===t(s[n],i)&&s[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,s,r=this.getListenersAsObject(e);for(s in r)r.hasOwnProperty(s)&&(-1!==(n=t(r[s],i))&&r[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,s,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,s,r=this.getListenersAsObject(e);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)!0===(i=r[s][n]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:s.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof n[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,s=0,r=i.length;r>s;s++)if(t=i[s]+e,"string"==typeof n[t])return t}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function i(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,i=o.length;i>t;t++){e[o[t]]=0}return e}function s(i){function s(){if(!d){d=!0;var n=e.getComputedStyle;if(c=function(){var e=n?function(e){return n(e,null)}:function(e){
return e.currentStyle};return function(t){var i=e(t);return i||r("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),u=i("boxSizing")){var s=document.createElement("div");s.style.width="200px",s.style.padding="1px 2px 3px 4px",s.style.borderStyle="solid",s.style.borderWidth="1px 2px 3px 4px",s.style[u]="border-box";var o=document.body||document.documentElement;o.appendChild(s);var a=c(s);h=200===t(a.width),o.removeChild(s)}}}function a(e){if(s(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=c(e);if("none"===i.display)return n();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var a=r.isBorderBox=!(!u||!i[u]||"border-box"!==i[u]),d=0,p=o.length;p>d;d++){var f=o[d],m=i[f];m=l(e,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,_=r.paddingTop+r.paddingBottom,y=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,w=r.borderLeftWidth+r.borderRightWidth,x=r.borderTopWidth+r.borderBottomWidth,E=a&&h,S=t(i.width);!1!==S&&(r.width=S+(E?0:v+w));var k=t(i.height);return!1!==k&&(r.height=k+(E?0:_+x)),r.innerWidth=r.width-(v+w),r.innerHeight=r.height-(_+x),r.outerWidth=r.width+y,r.outerHeight=r.height+b,r}}function l(t,i){if(e.getComputedStyle||-1===i.indexOf("%"))return i;var n=t.style,s=n.left,r=t.runtimeStyle,o=r&&r.left;return o&&(r.left=t.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=s,o&&(r.left=o),i}var c,u,h,d=!1;return a}var r="undefined"==typeof console?i:function(e){console.error(e)},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],s):"object"==typeof exports?module.exports=s(require("desandro-get-style-property")):e.getSize=s(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():o.push(e))}function i(e){var i="readystatechange"===e.type&&"complete"!==r.readyState;t.isReady||i||n()}function n(){t.isReady=!0;for(var e=0,i=o.length;i>e;e++){(0,o[e])()}}function s(s){return"complete"===r.readyState?n():(s.bind(r,"DOMContentLoaded",i),s.bind(r,"readystatechange",i),s.bind(e,"load",i)),t}var r=e.document,o=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],s):"object"==typeof exports?module.exports=s(require("eventie")):e.docReady=s(e.eventie)}(window),function(e){"use strict";function t(e,t){return e[o](t)}function i(e){e.parentNode||document.createDocumentFragment().appendChild(e)}function n(e,t){i(e);for(var n=e.parentNode.querySelectorAll(t),s=0,r=n.length;r>s;s++)if(n[s]===e)return!0;return!1}function s(e,n){return i(e),t(e,n)}var r,o=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var s=t[i]+"MatchesSelector";if(e[s])return s}}();if(o){var a=t(document.createElement("div"),"div");r=a?t:s}else r=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(e,t){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,i){var n={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},s=Object.prototype.toString;n.isArray=function(e){return"[object Array]"==s.call(e)},n.makeArray=function(e){var t=[];if(n.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0,s=e.length;s>i;i++)t.push(e[i]);else t.push(e);return t},n.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},n.removeFrom=function(e,t){var i=n.indexOf(e,t);-1!=i&&e.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},n.setText=function(){function e(e,i){e[t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=i}var t;return e}(),n.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,i(e,t))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,t){for(var s=[],r=0,o=(e=n.makeArray(e)).length;o>r;r++){var a=e[r];if(n.isElement(a))if(t){i(a,t)&&s.push(a);for(var l=a.querySelectorAll(t),c=0,u=l.length;u>c;c++)s.push(l[c])}else s.push(a)}return s},n.debounceMethod=function(e,t,i){var n=e.prototype[t],s=t+"Timeout";e.prototype[t]=function(){var e=this[s];e&&clearTimeout(e);var t=arguments,r=this;this[s]=setTimeout(function(){n.apply(r,t),delete r[s]},i||100)}},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var r=e.console;return n.htmlInit=function(i,s){t(function(){for(var t=n.toDashed(s),o=document.querySelectorAll(".js-"+t),a="data-"+t+"-options",l=0,c=o.length;c>l;l++){var u,h=o[l],d=h.getAttribute(a);try{u=d&&JSON.parse(d)}catch(m){r&&r.error("Error parsing "+a+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+m);continue}var p=new i(h,u),f=e.jQuery;f&&f.data(h,s,p)}})},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n,s,r){return t(e,i,n,s,r)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,i,n,s){"use strict";function r(e){for(var t in e)return!1;return null,!0}function o(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function a(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var l=e.getComputedStyle,c=l?function(e){return l(e,null)}:function(e){return e.currentStyle},u=n("transition"),h=n("transform"),d=u&&h,p=!!n("perspective"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],m=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var e={},t=0,i=m.length;i>t;t++){var s=m[t],r=n(s);r&&r!==s&&(e[s]=r)}return e}();s.extend(o.prototype,t.prototype),o.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.getSize=function(){this.size=i(this.element)},o.prototype.css=function(e){var t=this.element.style;for(var i in e){t[g[i]||i]=e[i]}},o.prototype.getPosition=function(){var e=c(this.element),t=this.layout.options,i=t.isOriginLeft,n=t.isOriginTop,s=e[i?"left":"right"],r=e[n?"top":"bottom"],o=this.layout.size,a=-1!=s.indexOf("%")?parseFloat(s)/100*o.width:parseInt(s,10),l=-1!=r.indexOf("%")?parseFloat(r)/100*o.height:parseInt(r,10);a=isNaN(a)?0:a,l=isNaN(l)?0:l,a-=i?o.paddingLeft:o.paddingRight,l-=n?o.paddingTop:o.paddingBottom,this.position.x=a,this.position.y=l},o.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,i={},n=t.isOriginLeft?"paddingLeft":"paddingRight",s=t.isOriginLeft?"left":"right",r=t.isOriginLeft?"right":"left",o=this.position.x+e[n];i[s]=this.getXValue(o),i[r]="";var a=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",c=t.isOriginTop?"bottom":"top",u=this.position.y+e[a];i[l]=this.getYValue(u),i[c]="",this.css(i),this.emitEvent("layout",[this])},o.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},o.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},o.prototype._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(e,10),r=parseInt(t,10),o=s===this.position.x&&r===this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var a=e-i,l=t-n,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},o.prototype.getTranslate=function(e,t){var i=this.layout.options;return e=i.isOriginLeft?e:-e,t=i.isOriginTop?t:-t,p?"translate3d("+e+"px, "+t+"px, 0)":"translate("+e+"px, "+t+"px)"},o.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},o.prototype.moveTo=d?o.prototype._transitionTo:o.prototype.goTo,o.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},o.prototype._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},o.prototype._transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var v="opacity,"+a(g.transform||"transform");o.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(f,this,!1))},o.prototype.transition=o.prototype[u?"_transition":"_nonTransition"],o.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},o.prototype.onotransitionend=function(e){this.ontransitionend(e)};var _={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};o.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=_[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],r(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}},o.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(f,this,!1),this.isTransitioning=!1},o.prototype._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return o.prototype.removeTransitionStyles=function(){this.css(y)},o.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},o.prototype.remove=function(){if(u&&parseFloat(this.layout.options.transitionDuration)){var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()}else this.removeElem()},o.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},o.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},o.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},o.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},o.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},o.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,s,r,o){return t(e,i,n,s,r,o)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,i,n,s,r){"use strict";function o(e,t){var i=s.getQueryElement(e);if(i){this.element=i,l&&(this.$element=l(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(t);var n=++u;this.element.outlayerGUID=n,h[n]=this,this._create(),this.options.isInitLayout&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||e))}var a=e.console,l=e.jQuery,c=function(){},u=0,h={};return o.namespace="outlayer",o.Item=r,o.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},s.extend(o.prototype,i.prototype),o.prototype.option=function(e){s.extend(this.options,e)},o.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},o.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},o.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],s=0,r=t.length;r>s;s++){var o=new i(t[s],this);n.push(o)}return n},o.prototype._filterFindItemElements=function(e){return s.filterFindElements(e,this.options.itemSelector)},o.prototype.getItemElements=function(){for(var e=[],t=0,i=this.items.length;i>t;t++)e.push(this.items[t].element);return e},o.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},o.prototype._init=o.prototype.layout,o.prototype._resetLayout=function(){this.getSize()},o.prototype.getSize=function(){this.size=n(this.element)},o.prototype._getMeasurement=function(e,t){var i,r=this.options[e];r?("string"==typeof r?i=this.element.querySelector(r):s.isElement(r)&&(i=r),this[e]=i?n(i)[t]:r):this[e]=0},o.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},o.prototype._getItemsForLayout=function(e){for(var t=[],i=0,n=e.length;n>i;i++){var s=e[i];s.isIgnored||t.push(s)}return t},o.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var i=[],n=0,s=e.length;s>n;n++){var r=e[n],o=this._getItemLayoutPosition(r);o.item=r,o.isInstant=t||r.isLayoutInstant,i.push(o)}this._processLayoutQueue(i)}},o.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},o.prototype._processLayoutQueue=function(e){for(var t=0,i=e.length;i>t;t++){var n=e[t];this._positionItem(n.item,n.x,n.y,n.isInstant)}},o.prototype._positionItem=function(e,t,i,n){n?e.goTo(t,i):e.moveTo(t,i)},o.prototype._postLayout=function(){this.resizeContainer()},o.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},o.prototype._getContainerSize=c,o.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},o.prototype._emitCompleteOnItems=function(e,t){function i(){s.dispatchEvent(e+"Complete",null,[t])}function n(){++o===r&&i()}var s=this,r=t.length;if(t&&r)for(var o=0,a=0,l=t.length;l>a;a++){t[a].once(e,n)}else i()},o.prototype.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),l)if(this.$element=this.$element||l(this.element),t){var s=l.Event(t);s.type=e,this.$element.trigger(s,i)}else this.$element.trigger(e,i)},o.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},o.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},o.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,i=e.length;i>t;t++){var n=e[t];this.ignore(n)}}},o.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,i=e.length;i>t;t++){var n=e[t];s.removeFrom(this.stamps,n),this.unignore(n)}},o.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=s.makeArray(e)):void 0},o.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var i=this.stamps[e];this._manageStamp(i)}}},o.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},o.prototype._manageStamp=c,o.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,s=n(e);return{left:t.left-i.left-s.marginLeft,top:t.top-i.top-s.marginTop,right:i.right-t.right-s.marginRight,bottom:i.bottom-t.bottom-s.marginBottom}},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},o.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},o.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},o.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},o.prototype.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},o.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},o.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},o.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},o.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,i=0;t&&t>i;i++){e[i].reveal()}},o.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,i=0;t&&t>i;i++){e[i].hide()}},o.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},o.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},o.prototype.getItem=function(e){for(var t=0,i=this.items.length;i>t;t++){var n=this.items[t];if(n.element===e)return n}},o.prototype.getItems=function(e){for(var t=[],i=0,n=(e=s.makeArray(e)).length;n>i;i++){var r=e[i],o=this.getItem(r);o&&t.push(o)}return t},o.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var i=0,n=t.length;n>i;i++){var r=t[i];r.remove(),s.removeFrom(this.items,r)}},o.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,i=this.items.length;i>t;t++){this.items[t].destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete h[n],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},o.data=function(e){var t=(e=s.getQueryElement(e))&&e.outlayerGUID;return t&&h[t]},o.create=function(e,t){function i(){o.apply(this,arguments)}return Object.create?i.prototype=Object.create(o.prototype):s.extend(i.prototype,o.prototype),i.prototype.constructor=i,i.defaults=s.extend({},o.defaults),s.extend(i.defaults,t),i.prototype.settings={},i.namespace=e,i.data=o.data,i.Item=function(){r.apply(this,arguments)},i.Item.prototype=new r,s.htmlInit(i,e),l&&l.bridget&&l.bridget(e,i),i},o.Item=r,o}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var i in e){var n=t[i];this.sortData[i]=n(this.element,this)}}};var i=t.prototype.destroy;return t.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(e,t){"use strict";function i(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}for(var n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],s=0,r=n.length;r>s;s++){var o=n[s];i.prototype[o]=e(o)}}(),i.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(e,t){var i=e+t,n="outer"+t;if(this._getMeasurement(i,n),!this[i]){var s=this.getFirstItemSize();this[i]=s&&s[n]||this.isotope.size["inner"+t]}},i.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(e,t){function n(){i.apply(this,arguments)}return n.prototype=new i,t&&(n.options=t),n.prototype.namespace=e,i.modes[e]=n,n},i}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,i){var n=e.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,r=s/n,o=n-s%n;r=Math[o&&1>o?"round":"floor"](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&1>t?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var s=this._getColGroup(n),r=Math.min.apply(Math,s),o=i.indexOf(s,r),a={x:this.columnWidth*o,y:r},l=r+e.size.outerHeight,c=this.cols+1-s.length,u=0;c>u;u++)this.colYs[o+u]=l;return a},n.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;i>n;n++){var s=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,s)}return t},n.prototype._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),s=this.options.isOriginLeft?n.left:n.right,r=s+i.outerWidth,o=Math.floor(s/this.columnWidth);o=Math.max(0,o);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=o;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},n.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):"object"==typeof exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";function i(e,t){for(var i in t)e[i]=t[i];return e}var n=e.create("masonry"),s=n.prototype._getElementOffset,r=n.prototype.layout,o=n.prototype._getMeasurement;i(n.prototype,t.prototype),n.prototype._getElementOffset=s,n.prototype.layout=r,n.prototype._getMeasurement=o;var a=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,n},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=e.size.outerHeight,{x:t,y:i}},t.prototype._getContainerSize=function(){return{height:this.y}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,s,r,o,a){return t(e,i,n,s,r,o,a)}):"object"==typeof exports?module.exports=t(e,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):e.Isotope=t(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)}(window,function(e,t,i,n,s,r,o){function a(e,t){return function(i,n){for(var s=0,r=e.length;r>s;s++){var o=e[s],a=i.sortData[o],l=n.sortData[o];if(a>l||l>a)return(a>l?1:-1)*((void 0!==t[o]?t[o]:t)?1:-1)}return 0}}var l=e.jQuery,c=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},u=document.documentElement.textContent?function(e){return e.textContent}:function(e){return e.innerText},h=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=r,h.LayoutMode=o,h.prototype._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],o.modes)this._initLayoutMode(e)},h.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,n=e.length;n>i;i++){e[i].id=this.itemGUID++}return this._updateItemsSortData(e),e},h.prototype._initLayoutMode=function(e){var t=o.modes[e],i=this.options[e]||{};this.options[e]=t.options?s.extend(t.options,i):i,this.modes[e]=new t(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},h.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},h.prototype.arrange=function(e){function t(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(e),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(t):t(),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},h.prototype._bindArrangeComplete=function(){function e(){t&&i&&n&&s.dispatchEvent("arrangeComplete",null,[s.filteredItems])}var t,i,n,s=this;this.once("layoutComplete",function(){t=!0,e()}),this.once("hideComplete",function(){i=!0,e()}),this.once("revealComplete",function(){n=!0,e()})},h.prototype._filter=function(e){var t=this.options.filter;t=t||"*";for(var i=[],n=[],s=[],r=this._getFilterTest(t),o=0,a=e.length;a>o;o++){var l=e[o];if(!l.isIgnored){var c=r(l);c&&i.push(l),c&&l.isHidden?n.push(l):c||l.isHidden||s.push(l)}}return{matches:i,needReveal:n,needHide:s}},h.prototype._getFilterTest=function(e){return l&&this.options.isJQueryFiltering?function(t){return l(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return n(t.element,e)}},h.prototype.updateSortData=function(e){var t;e?(e=s.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},h.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var i=e[t];this._sorters[t]=d(i)}},h.prototype._updateItemsSortData=function(e){for(var t=e&&e.length,i=0;t&&t>i;i++){e[i].updateSortData()}};var d=function(){function e(e){if("string"!=typeof e)return e;var i=c(e).split(" "),n=i[0],s=n.match(/^\[(.+)\]$/),r=t(s&&s[1],n),o=h.sortDataParsers[i[1]];return o?function(e){return e&&o(r(e))}:function(e){return e&&r(e)}}function t(e,t){return e?function(t){return t.getAttribute(e)}:function(e){var i=e.querySelector(t);return i&&u(i)}}return e}();h.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},h.prototype._sort=function(){var e=this.options.sortBy;if(e){
var t=a([].concat.apply(e,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(t),e!=this.sortHistory[0]&&this.sortHistory.unshift(e)}},h.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},h.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},h.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var i=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(i)}},h.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=t.concat(this.items)}},h.prototype._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},h.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var i,n,s=t.length;for(i=0;s>i;i++)n=t[i],this.element.appendChild(n.element);var r=this._filter(t).matches;for(i=0;s>i;i++)t[i].isLayoutInstant=!0;for(this.arrange(),i=0;s>i;i++)delete t[i].isLayoutInstant;this.reveal(r)}};var p=h.prototype.remove;return h.prototype.remove=function(e){e=s.makeArray(e);var t=this.getItems(e);p.call(this,e);var i=t&&t.length;if(i)for(var n=0;i>n;n++){var r=t[n];s.removeFrom(this.filteredItems,r)}},h.prototype.shuffle=function(){for(var e=0,t=this.items.length;t>e;e++){this.items[e].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},h.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var i=e.call(this);return this.options.transitionDuration=t,i},h.prototype.getFilteredItemElements=function(){for(var e=[],t=0,i=this.filteredItems.length;i>t;t++)e.push(this.filteredItems[t].element);return e},h}),function(e){e.version={versionStr:"2.3.1",major:parseInt("2",10),minor:parseInt("3",10),revision:parseInt("1",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,n=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null==e?String(e):t[i.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1;var i;for(var s in t)i=s;return void 0===i||n.call(t,i)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=function(){var t=document.createElement("canvas");return!(!e.isFunction(t.getContext)||!t.getContext("2d"))}(),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),i=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(i,1)/n}return 1}()}(OpenSeadragon),function($){function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.extend=function(){var e,t,i,n,s,r,o=arguments[0]||{},a=arguments.length,l=!1,c=1;for("boolean"==typeof o&&(l=o,o=arguments[1]||{},c=2),"object"==typeof o||OpenSeadragon.isFunction(o)||(o={}),a===c&&(o=this,--c);c<a;c++)if(null!==(e=arguments[c])||void 0!==e)for(t in e)i=o[t],o!==(n=e[t])&&(l&&n&&(OpenSeadragon.isPlainObject(n)||(s=OpenSeadragon.isArray(n)))?(s?(s=!1,r=i&&OpenSeadragon.isArray(i)?i:[]):r=i&&OpenSeadragon.isPlainObject(i)?i:{},o[t]=OpenSeadragon.extend(l,r,n)):void 0!==n&&(o[t]=n));return o};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var i=arguments;return void 0===i&&(i=[]),t.apply(e,i)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,i,n=new $.Point;for(i=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);i;)n.x+=e.offsetLeft,n.y+=e.offsetTop,t&&(n=n.plus($.getPageScroll())),i=getOffsetParent(e=i,t="fixed"==$.getElementStyle(e).position);return n},getElementOffset:function(e){var t,i,n=(e=$.getElement(e))&&e.ownerDocument,s={top:0,left:0};return n?(t=n.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(s=e.getBoundingClientRect()),i=n==n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow),new $.Point(s.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0),s.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var i=document.createElement("div").style,n=null;if(void 0!==i[e])n=e;else for(var s=["Webkit","Moz","MS","O","webkit","moz","ms","o"],r=$.capitalizeFirstLetter(e),o=0;o<s.length;o++){var a=s[o]+r;if(void 0!==i[a]){n=a;break}}return t[e]=n,n},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var i=e%t;return i<0&&(i+=t),i},pointInElement:function(e,t){e=$.getElement(e);var i=$.getElementOffset(e),n=$.getElementSize(e);return t.x>=i.x&&t.x<i.x+n.x&&t.y<i.y+n.y&&t.y>=i.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if("undefined"!=typeof window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var i=$.getPageScroll();if(i.x!==t.x&&i.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(i=$.getPageScroll()).x!==t.x&&i.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),i=t.style;return i.background="transparent none",i.border="none",i.margin="0px",i.padding="0px",i.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),i=null;return(i=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){i.style.width=i.style.width||t.width+"px",i.style.height=i.style.height||t.height+"px",t.onload=null,t=null},t.src=e,i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",i}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,i){var n;e=$.getElement(e),i&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(n="alpha(opacity="+Math.round(100*t)+")",e.style.filter=n):e.style.filter=""},setElementTouchActionNone:function(e){"undefined"!=typeof(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":"undefined"!=typeof e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,i){return Array.prototype.indexOf?this.indexOf=function(e,t,i){return e.indexOf(t,i)}:this.indexOf=function(e,t,i){var n,s,r=i||0;if(!e)throw new TypeError;if(0===(s=e.length)||r>=s)return-1;for(r<0&&(r=s-Math.abs(r)),n=r;n<s;n++)if(e[n]===t)return n;return-1},this.indexOf(e,t,i)},removeClass:function(e,t){var i,n,s=[];for(i=(e=$.getElement(e)).className.split(/\s+/),n=0;n<i.length;n++)i[n]&&i[n]!==t&&s.push(i[n]);e.className=s.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,i,n){(e=$.getElement(e)).addEventListener(t,i,n)};if(window.attachEvent)return function(e,t,i){(e=$.getElement(e)).attachEvent("on"+t,i)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,i,n){(e=$.getElement(e)).removeEventListener(t,i,n)};if(window.detachEvent)return function(e,t,i){(e=$.getElement(e)).detachEvent("on"+t,i)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var i,n=[];for(i=2;i<arguments.length;i++)n.push(arguments[i]);return function(){var i,s=n.concat([]);for(i=0;i<arguments.length;i++)s.push(arguments[i]);return t.apply(e,s)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,i){var n,s,r;$.isPlainObject(e)&&(t=e.success,i=e.error,n=e.withCredentials,s=e.headers,r=e.responseType||null,e=e.url);var o=$.getUrlProtocol(e),a=$.createAjaxRequest("file:"===o);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},a.status>=200&&a.status<300||0===a.status&&"http:"!==o&&"https:"!==o?t(a):($.console.log("AJAX request returned %d: %s",a.status,e),$.isFunction(i)&&i(a)))};try{if(a.open("GET",e,!0),r&&(a.responseType=r),s)for(var l in s)s.hasOwnProperty(l)&&s[l]&&a.setRequestHeader(l,s[l]);n&&(a.withCredentials=!0),a.send(null)}catch(n){var c=n.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&"undefined"!=typeof n.number&&-2147024891==n.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",n.name,c),a.onreadystatechange=function(){},window.XDomainRequest){var u=new XDomainRequest;if(u){u.onload=function(){$.isFunction(t)&&t({responseText:u.responseText,status:200,statusText:"OK"})},u.onerror=function(){$.isFunction(i)&&i({responseText:u.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{u.open("GET",e),u.send()}catch(e){$.isFunction(i)&&i(a,n)}}}else $.isFunction(i)&&i(a,n)}return a},jsonp:function(e){var t,i=e.url,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,s=e.callbackName||"openseadragon"+$.now(),r=window[s],o="$1"+s+"$2",a=e.param||"callback",l=e.callback;i=i.replace(/(\=)\?(&|$)|\?\?/i,o),i+=(/\?/.test(i)?"&":"?")+a+"="+s,window[s]=function(e){if(r)window[s]=r;else try{delete window[s]}catch(e){}l&&$.isFunction(l)&&l(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=i,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,n&&t.parentNode&&n.removeChild(t),t=void 0)},n.insertBefore(t,n.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0?($.Browser.vendor=t.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var i,n,s,r=window.location.search.substring(1).split("&");for(s=0;s<r.length;s++)(n=(i=r[s]).indexOf("="))>0&&(URLPARAMS[i.substring(0,n)]=decodeURIComponent(i.substring(n+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&i)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return i.apply(e,arguments)};else{var n,s=[],r=[],o=0;$.requestAnimationFrame=function(e){return s.push([++o,e]),n||(n=setInterval(function(){if(s.length){var e=$.now(),t=r;for(r=s,s=t;r.length;)r.shift()[1](e)}else clearInterval(n),n=void 0},20)),o},$.cancelAnimationFrame=function(e){var t,i;for(t=0,i=s.length;t<i;t+=1)if(s[t][0]===e)return void s.splice(t,1);for(t=0,i=r.length;t<i;t+=1)if(r[t][0]===e)return void r.splice(t,1)}}}(window)}(OpenSeadragon),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.OpenSeadragon=t()}(this,function(){return OpenSeadragon}),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(OpenSeadragon),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,i,n){var s=this;n=n||1;var r=0,o=function(i){++r===n&&s.removeHandler(e,o),t(i)};this.addHandler(e,o,i)},addHandler:function(t,i,n){var s=this.events[t];s||(this.events[t]=s=[]),i&&e.isFunction(i)&&(s[s.length]={handler:i,userData:n||null})},removeHandler:function(t,i){var n,s=this.events[t],r=[];if(s&&e.isArray(s)){for(n=0;n<s.length;n++)s[n].handler!==i&&r.push(s[n]);this.events[t]=r}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,i){var n,s=t.length;for(n=0;n<s;n++)t[n]&&(i.eventSource=e,i.userData=t[n].userData,t[n].handler(i))}):null},raiseEvent:function(e,t){var i=this.getHandler(e);i&&(t||(t={}),i(this,t))}}}(OpenSeadragon),function(e){function t(t){var i,n=me[t.hash],s=n.activePointersLists.length;for(i=0;i<s;i++)n.activePointersLists[i].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",n.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",n.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",n.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",n.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",n.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",n.touchendcaptured,!0),n.activePointersLists[i].captureCount=0);for(i=0;i<s;i++)n.activePointersLists.pop()}function i(i){var n,s,r=me[i.hash];if(!r.tracking){for(s=0;s<e.MouseTracker.subscribeEvents.length;s++)n=e.MouseTracker.subscribeEvents[s],e.addEvent(i.element,n,r[n],!1);t(i),r.tracking=!0}}function n(i){var n,s,r=me[i.hash];if(r.tracking){for(s=0;s<e.MouseTracker.subscribeEvents.length;s++)n=e.MouseTracker.subscribeEvents[s],e.removeEvent(i.element,n,r[n],!1);t(i),r.tracking=!1}}function s(t,i){var n=me[t.hash];if("pointerevent"===i)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:n.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:n.pointermovecaptured};if("mouse"===i)return{upName:"mouseup",upHandler:n.mouseupcaptured,moveName:"mousemove",moveHandler:n.mousemovecaptured};if("touch"===i)return{upName:"touchend",upHandler:n.touchendcaptured,moveName:"touchmove",moveHandler:n.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function r(t,i,n){var r,o=t.getActivePointersListByType(i);o.captureCount+=n||1,1===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(r=s(t,e.MouseTracker.havePointerEvents?"pointerevent":i),ge&&pe(window.top)&&e.addEvent(window.top,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0)))}function o(t,i,n){var r,o=t.getActivePointersListByType(i);o.captureCount-=n||1,0===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(r=s(t,e.MouseTracker.havePointerEvents?"pointerevent":i),ge&&pe(window.top)&&e.removeEvent(window.top,r.upName,r.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0)))}function a(t){var i;if(e.MouseTracker.unprefixedPointerEvents)i=t.pointerType;else switch(t.pointerType){case 2:i="touch";break;case 3:i="pen";break;case 4:i="mouse";break;default:i=""}return i}function l(t){return e.getMousePosition(t)}function c(e,t){return u(l(e),t)}function u(t,i){var n=e.getElementOffset(i);return t.minus(n)}function h(t,i){return new e.Point((t.x+i.x)/2,(t.y+i.y)/2)}function d(t,i){t.clickHandler&&e.cancelEvent(i)}function p(t,i){t.dblClickHandler&&e.cancelEvent(i)}function f(t,i){t.keyDownHandler&&(i=e.getEvent(i),t.keyDownHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(i))}function m(t,i){t.keyUpHandler&&(i=e.getEvent(i),t.keyUpHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(i))}function g(t,i){t.keyHandler&&(i=e.getEvent(i),t.keyHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(i))}function v(t,i){t.focusHandler&&(i=e.getEvent(i),!1===t.focusHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i))}function _(t,i){t.blurHandler&&(i=e.getEvent(i),!1===t.blurHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i))}function y(e,t){w(e,t,t)}function b(t,i){var n={target:(i=e.getEvent(i)).target||i.srcElement,type:"wheel",shiftKey:i.shiftKey||!1,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX?i.pageX:i.clientX,pageY:i.pageY?i.pageY:i.clientY,deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?n.deltaY=-i.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:n.deltaY=i.detail,w(t,n,i)}function w(t,i,n){var s=0;s=i.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:c(i,t.element),scroll:s,shift:i.shiftKey,isTouchEvent:!1,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function x(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function E(t,i){k(t,i=e.getEvent(i))}function S(t,i){(i=e.getEvent(i)).currentTarget===i.relatedTarget||x(i.currentTarget,i.relatedTarget)||k(t,i)}function k(t,i){oe(t,i,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(i),currentTime:e.now()}])}function T(t,i){R(t,i=e.getEvent(i))}function C(t,i){(i=e.getEvent(i)).currentTarget===i.relatedTarget||x(i.currentTarget,i.relatedTarget)||R(t,i)}function R(t,i){ae(t,i,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(i),currentTime:e.now()}])}function P(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function N(t,i){le(t,i=e.getEvent(i),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(i),currentTime:e.now()}],P(i.button))&&(e.stopEvent(i),r(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(i)}function M(e,t){D(e,t)}function O(t,i){D(t,i),e.stopEvent(i)}function D(t,i){ce(t,i=e.getEvent(i),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(i),currentTime:e.now()}],P(i.button))&&o(t,"mouse")}function I(e,t){A(e,t)}function L(t,i){A(t,i),e.stopEvent(i)}function A(t,i){ue(t,i=e.getEvent(i),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(i),currentTime:e.now()}])}function j(e,t,i){var n,s=i.getLength(),r=[];if("touch"===i.type||i.contacts>0){for(n=0;n<s;n++)r.push(i.getByIndex(n));r.length>0&&(ce(e,t,r,0),i.captureCount=1,o(e,i.type),ae(e,t,r))}}function z(t,i){var n,s,o,a,c=i.changedTouches.length,u=[],h=t.getActivePointersListByType("touch");for(n=e.now(),h.getLength()>i.touches.length-c&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),j(t,i,h)),s=0;s<c;s++)u.push({id:i.changedTouches[s].identifier,type:"touch",currentPos:l(i.changedTouches[s]),currentTime:n});for(oe(t,i,u),s=0;s<fe.length;s++)if(fe[s]!==t&&fe[s].isTracking()&&x(fe[s].element,t.element)){for(a=[],o=0;o<c;o++)a.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:l(i.changedTouches[o]),currentTime:n});oe(fe[s],i,a)}le(t,i,u,0)&&(e.stopEvent(i),r(t,"touch",c)),e.cancelEvent(i)}function F(e,t){$(e,t)}function H(t,i){$(t,i),e.stopEvent(i)}function $(t,i){
var n,s,r,a,c=i.changedTouches.length,u=[];for(n=e.now(),s=0;s<c;s++)u.push({id:i.changedTouches[s].identifier,type:"touch",currentPos:l(i.changedTouches[s]),currentTime:n});for(ce(t,i,u,0)&&o(t,"touch",c),ae(t,i,u),s=0;s<fe.length;s++)if(fe[s]!==t&&fe[s].isTracking()&&x(fe[s].element,t.element)){for(a=[],r=0;r<c;r++)a.push({id:i.changedTouches[r].identifier,type:"touch",currentPos:l(i.changedTouches[r]),currentTime:n});ae(fe[s],i,a)}e.cancelEvent(i)}function B(e,t){V(e,t)}function W(t,i){V(t,i),e.stopEvent(i)}function V(t,i){var n,s=i.changedTouches.length,r=[];for(n=0;n<s;n++)r.push({id:i.changedTouches[n].identifier,type:"touch",currentPos:l(i.changedTouches[n]),currentTime:e.now()});ue(t,i,r),e.cancelEvent(i)}function U(e,t){j(e,t,e.getActivePointersListByType("touch"))}function q(e,t){return t.stopPropagation(),t.preventDefault(),!1}function Y(e,t){return t.stopPropagation(),t.preventDefault(),!1}function G(t,i){i.currentTarget===i.relatedTarget||x(i.currentTarget,i.relatedTarget)||oe(t,i,[{id:i.pointerId,type:a(i),isPrimary:i.isPrimary,currentPos:l(i),currentTime:e.now()}])}function X(t,i){i.currentTarget===i.relatedTarget||x(i.currentTarget,i.relatedTarget)||ae(t,i,[{id:i.pointerId,type:a(i),isPrimary:i.isPrimary,currentPos:l(i),currentTime:e.now()}])}function Z(t,i){var n;le(t,i,[n={id:i.pointerId,type:a(i),isPrimary:i.isPrimary,currentPos:l(i),currentTime:e.now()}],i.button)&&(e.stopEvent(i),r(t,n.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(i)}function Q(e,t){J(e,t)}function K(t,i){t.getActivePointersListByType(a(i)).getById(i.pointerId)&&J(t,i),e.stopEvent(i)}function J(t,i){var n;ce(t,i,[n={id:i.pointerId,type:a(i),isPrimary:i.isPrimary,currentPos:l(i),currentTime:e.now()}],i.button)&&o(t,n.type)}function ee(e,t){ie(e,t)}function te(t,i){t.getActivePointersListByType(a(i)).getById(i.pointerId)&&ie(t,i),e.stopEvent(i)}function ie(t,i){ue(t,i,[{id:i.pointerId,type:a(i),isPrimary:i.isPrimary,currentPos:l(i),currentTime:e.now()}])}function ne(e,t){he(e,t,[{id:t.pointerId,type:a(t)}])}function se(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function re(e,t){var i,n;return e.getById(t.id)?(i=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(n=e.getPrimary())||(n=e.getByIndex(0))&&(n.isPrimary=!0)):i=e.getLength(),i}function oe(t,i,n){var s,r,o,a=t.getActivePointersListByType(n[0].type),l=n.length;for(s=0;s<l;s++)r=n[s],(o=a.getById(r.id))?(o.insideElement=!0,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=r.currentPos,o.currentTime=r.currentTime,r=o):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,se(a,r)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:r.type,position:u(r.currentPos,t.element),buttons:a.buttons,pointers:t.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:"touch"===r.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}function ae(t,i,n){var s,r,o,a=t.getActivePointersListByType(n[0].type),l=n.length;for(s=0;s<l;s++)r=n[s],(o=a.getById(r.id))&&(o.captured?(o.insideElement=!1,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=r.currentPos,o.currentTime=r.currentTime):re(a,o),r=o),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:r.type,position:u(r.currentPos,t.element),buttons:a.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!o&&o.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:"touch"===r.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}function le(t,i,n,s){var r,o,a,l=me[t.hash],c=t.getActivePointersListByType(n[0].type),d=n.length;"undefined"!=typeof i.buttons?c.buttons=i.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===s?c.buttons+=1:1===s?c.buttons+=4:2===s?c.buttons+=2:3===s?c.buttons+=8:4===s?c.buttons+=16:5===s&&(c.buttons+=32):0===s?c.buttons|=1:1===s?c.buttons|=4:2===s?c.buttons|=2:3===s?c.buttons|=8:4===s?c.buttons|=16:5===s&&(c.buttons|=32);var p=t.getActivePointersListsExceptType(n[0].type);for(r=0;r<p.length;r++)j(t,i,p[r]);if(0!==s)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:n[0].type,position:u(n[0].currentPos,t.element),button:s,buttons:c.buttons,isTouchEvent:"touch"===n[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),!1;for(r=0;r<d;r++)o=n[r],(a=c.getById(o.id))?(a.captured=!0,a.insideElementPressed=!0,a.insideElement=!0,a.contactPos=o.currentPos,a.contactTime=o.currentTime,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!0,o.insideElementPressed=!0,o.insideElement=!0,se(c,o)),c.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,o),1===c.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:o.type,position:u(o.contactPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===o.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i):2===c.contacts&&t.pinchHandler&&"touch"===o.type&&(l.pinchGPoints=c.asArray(),l.lastPinchDist=l.currentPinchDist=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos),l.lastPinchCenter=l.currentPinchCenter=h(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos));return!0}function ce(t,i,n,s){var r,o,a,l,c,d,p=me[t.hash],f=t.getActivePointersListByType(n[0].type),m=n.length,g=!1,v=!1;if("undefined"!=typeof i.buttons?f.buttons=i.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===s?f.buttons-=1:1===s?f.buttons-=4:2===s?f.buttons-=2:3===s?f.buttons-=8:4===s?f.buttons-=16:5===s&&(f.buttons-=32):0===s?f.buttons^=-2:1===s?f.buttons^=-5:2===s?f.buttons^=-3:3===s?f.buttons^=-9:4===s?f.buttons^=-17:5===s&&(f.buttons^=-33),0!==s)return t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:n[0].type,position:u(n[0].currentPos,t.element),button:s,buttons:f.buttons,isTouchEvent:"touch"===n[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),j(t,i,t.getActivePointersListByType("mouse")),!1;for(a=0;a<m;a++)l=n[a],(c=f.getById(l.id))&&(c.captured&&(c.captured=!1,g=!0,v=!0),c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=l.currentPos,c.currentTime=l.currentTime,c.insideElement||re(f,c),r=c.currentPos,o=c.currentTime,v?(f.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,c),0===f.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:u(r,t.element),buttons:f.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),t.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:c.type,position:u(c.currentPos,t.element),speed:c.speed,direction:c.direction,shift:i.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),(t.clickHandler||t.dblClickHandler)&&c.insideElement&&(d=o-c.contactTime<=t.clickTimeThreshold&&c.contactPos.distanceTo(r)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:c.type,position:u(c.currentPos,t.element),quick:d,shift:i.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),t.dblClickHandler&&d&&(f.clicks++,1===f.clicks?(p.lastClickPos=r,p.dblClickTimeOut=setTimeout(function(){f.clicks=0},t.dblClickTimeThreshold)):2===f.clicks&&(clearTimeout(p.dblClickTimeOut),f.clicks=0,p.lastClickPos.distanceTo(r)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:c.type,position:u(c.currentPos,t.element),shift:i.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),p.lastClickPos=null)))):2===f.contacts&&t.pinchHandler&&"touch"===c.type&&(p.pinchGPoints=f.asArray(),p.lastPinchDist=p.currentPinchDist=p.pinchGPoints[0].currentPos.distanceTo(p.pinchGPoints[1].currentPos),p.lastPinchCenter=p.currentPinchCenter=h(p.pinchGPoints[0].currentPos,p.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:u(r,t.element),buttons:f.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i));return g}function ue(t,i,n){var s,r,o,a,l,c=me[t.hash],d=t.getActivePointersListByType(n[0].type),p=n.length;for("undefined"!=typeof i.buttons&&(d.buttons=i.buttons),s=0;s<p;s++)r=n[s],(o=d.getById(r.id))?(r.hasOwnProperty("isPrimary")&&(o.isPrimary=r.isPrimary),o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=r.currentPos,o.currentTime=r.currentTime):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,se(d,r));t.stopHandler&&"mouse"===n[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){de(t,i,n[0].type)},t.stopDelay)),0===d.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:n[0].type,position:u(n[0].currentPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===n[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i):1===d.contacts?(t.moveHandler&&(o=d.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:o.type,position:u(o.currentPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===o.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)),t.dragHandler&&(l=(o=d.asArray()[0]).currentPos.minus(o.lastPos),!1===t.dragHandler({eventSource:t,pointerType:o.type,position:u(o.currentPos,t.element),buttons:d.buttons,delta:l,speed:o.speed,direction:o.direction,shift:i.shiftKey,isTouchEvent:"touch"===o.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i))):2===d.contacts&&(t.moveHandler&&(a=d.asArray(),!1===t.moveHandler({eventSource:t,pointerType:a[0].type,position:u(h(a[0].currentPos,a[1].currentPos),t.element),buttons:d.buttons,isTouchEvent:"touch"===a[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)),t.pinchHandler&&"touch"===n[0].type&&(l=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos))!=c.currentPinchDist&&(c.lastPinchDist=c.currentPinchDist,c.currentPinchDist=l,c.lastPinchCenter=c.currentPinchCenter,c.currentPinchCenter=h(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:c.pinchGPoints,lastCenter:u(c.lastPinchCenter,t.element),center:u(c.currentPinchCenter,t.element),lastDistance:c.lastPinchDist,distance:c.currentPinchDist,shift:i.shiftKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)))}function he(e,t,i){ce(e,t,i,0),ae(e,t,i)}function de(e,t,i){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:i,position:c(t,e.element),buttons:e.getActivePointersListByType(i).buttons,isTouchEvent:"touch"===i,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}function pe(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}var fe=[],me={};e.MouseTracker=function(t){fe.push(this);var i=arguments;e.isPlainObject(t)||(t={element:i[0],clickTimeThreshold:i[1],clickDistThreshold:i[2]}),this.hash=Math.random(),this.element=e.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.enterHandler=t.enterHandler||null,this.exitHandler=t.exitHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var n=this;me[this.hash]={click:function(e){d(n,e)},dblclick:function(e){p(n,e)},keydown:function(e){f(n,e)},keyup:function(e){m(n,e)},keypress:function(e){g(n,e)},focus:function(e){v(n,e)},blur:function(e){_(n,e)},wheel:function(e){y(n,e)},mousewheel:function(e){b(n,e)},DOMMouseScroll:function(e){b(n,e)},MozMousePixelScroll:function(e){b(n,e)},mouseenter:function(e){E(n,e)},mouseleave:function(e){T(n,e)},mouseover:function(e){S(n,e)},mouseout:function(e){C(n,e)},mousedown:function(e){N(n,e)},mouseup:function(e){M(n,e)},mouseupcaptured:function(e){O(n,e)},mousemove:function(e){I(n,e)},mousemovecaptured:function(e){L(n,e)},touchstart:function(e){z(n,e)},touchend:function(e){F(n,e)},touchendcaptured:function(e){H(n,e)},touchmove:function(e){B(n,e)},touchmovecaptured:function(e){W(n,e)},touchcancel:function(e){U(n,e)},gesturestart:function(e){q(n,e)},gesturechange:function(e){Y(n,e)},pointerover:function(e){G(n,e)},MSPointerOver:function(e){G(n,e)},pointerout:function(e){X(n,e)},MSPointerOut:function(e){X(n,e)},pointerdown:function(e){Z(n,e)},MSPointerDown:function(e){Z(n,e)},pointerup:function(e){Q(n,e)},MSPointerUp:function(e){Q(n,e)},pointermove:function(e){ee(n,e)},MSPointerMove:function(e){ee(n,e)},pointercancel:function(e){ne(n,e)},MSPointerCancel:function(e){ne(n,e)},pointerupcaptured:function(e){K(n,e)},pointermovecaptured:function(e){te(n,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},t.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(n(this),this.element=null,e=0;e<fe.length;e++)if(fe[e]===this){fe.splice(e,1);break}me[this.hash]=null,delete me[this.hash]},isTracking:function(){return me[this.hash].tracking},setTracking:function(e){return e?i(this):n(this),this},getActivePointersListsExceptType:function(e){for(var t=me[this.hash],i=[],n=0;n<t.activePointersLists.length;++n)t.activePointersLists[n].type!==e&&i.push(t.activePointersLists[n]);return i},getActivePointersListByType:function(t){var i,n,s=me[this.hash],r=s.activePointersLists.length;for(i=0;i<r;i++)if(s.activePointersLists[i].type===t)return s.activePointersLists[i];return n=new e.MouseTracker.GesturePointList(t),s.activePointersLists.push(n),n},getActivePointerCount:function(){var e,t=me[this.hash],i=t.activePointersLists.length,n=0;for(e=0;e<i;e++)n+=t.activePointersLists[e].getLength();return n},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<fe.length;e++)fe[e].isTracking()&&(fe[e].setTracking(!1),fe[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],i=0,n=0,s=function(e,t){return e.hash.toString()+t.type+t.id.toString()},r=function(){var i,s,r,o,a,l,c=t.length,u=e.now();for(o=u-n,n=u,i=0;i<c;i++)(r=(s=t[i]).gPoint).direction=Math.atan2(r.currentPos.y-s.lastPos.y,r.currentPos.x-s.lastPos.x),a=s.lastPos.distanceTo(r.currentPos),s.lastPos=r.currentPos,l=1e3*a/(o+1),r.speed=.75*l+.25*r.speed};return{addPoint:function(o,a){var l=s(o,a);t.push({guid:l,gPoint:a,lastPos:a.currentPos}),1===t.length&&(n=e.now(),i=window.setInterval(r,50))},removePoint:function(e,n){var r,o=s(e,n),a=t.length;for(r=0;r<a;r++)if(t[r].guid===o){t.splice(r,1),0===--a&&window.clearInterval(i);break}}}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(){var e,t=this._gPoints.length;for(e=0;e<t;e++)if(this._gPoints[e].isPrimary)return this._gPoints[e];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var ge=function(){try{return window.self!==window.top}catch(e){return!0}}()}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,i,n){var s=t.parentNode;"number"==typeof i&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),i={anchor:i}),i.attachToViewer="undefined"==typeof i.attachToViewer||i.attachToViewer,this.autoFade="undefined"==typeof i.autoFade||i.autoFade,this.element=t,this.anchor=i.anchor,this.container=n,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof i.top?i.top+"px":i.top,this.wrapper.style.left="number"==typeof i.left?i.left+"px":i.left,this.wrapper.style.height="number"==typeof i.height?i.height+"px":i.height,this.wrapper.style.width="number"==typeof i.width?i.width+"px":i.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),i.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):s.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function t(e,t){var i,n=e.controls;for(i=n.length-1;i>=0;i--)if(n[i].element==t)return i;return-1}e.ControlDock=function(t){var i,n,s=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),n=0;n<s.length;n++)i=s[n],this.controls[i]=e.makeNeutralElement("div"),this.controls[i].style.position="absolute",i.match("left")&&(this.controls[i].style.left="0px"),i.match("right")&&(this.controls[i].style.right="0px"),i.match("top")&&(this.controls[i].style.top="0px"),i.match("bottom")&&(this.controls[i].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(i,n){var s=null;if(!(t(this,i=e.getElement(i))>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:s=this.controls.topright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:s=this.controls.bottomright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:s=this.controls.bottomleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:s=this.controls.topleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:s=this.container,i.style.margin="0px",i.style.padding="0px";break;default:case e.ControlAnchor.NONE:s=this.container,i.style.margin="0px",i.style.padding="0px"}this.controls.push(new e.Control(i,n,s)),i.style.display="inline-block"}},removeControl:function(i){var n=t(this,i=e.getElement(i));return n>=0&&(this.controls[n].destroy(),this.controls.splice(n,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){function t(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,i,n,s,r){function o(e,t){e.ready?s(e):(e.addHandler("ready",function(){s(e)}),e.addHandler("open-failed",function(e){r({message:e.message,source:t})}))}var a=t;if("string"==e.type(i))if(i.match(/^\s*<.*>\s*$/))i=e.parseXml(i);else if(i.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var l=e.parseJSON(i);i=l}catch(e){}setTimeout(function(){if("string"==e.type(i))(i=new e.TileSource({url:i,crossOriginPolicy:void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){s(e.tileSource)}})).addHandler("open-failed",function(e){r(e)});else if(e.isPlainObject(i)||i.nodeType)if(void 0!==i.crossOriginPolicy||void 0===n.crossOriginPolicy&&void 0===t.crossOriginPolicy||(i.crossOriginPolicy=void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy),void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=t.ajaxWithCredentials),void 0===i.useCanvas&&(i.useCanvas=t.useCanvas),e.isFunction(i.getTileUrl)){var l=new e.TileSource(i);l.getTileUrl=i.getTileUrl,s(l)}else{var c=e.TileSource.determineType(a,i);if(!c)return void r({message:"Unable to load TileSource",source:i});o(new c(c.prototype.configure.apply(a,[i])),i)}else o(i,i)})}function n(t,i){if(i instanceof e.Overlay)return i;var n=null;if(i.element)n=e.getElement(i.element);else{var s=i.id?i.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(n=e.getElement(i.id))||((n=document.createElement("a")).href="#/overlay/"+s),n.id=s,e.addClass(n,i.className?i.className:"openseadragon-overlay")}var r=i.location,o=i.width,a=i.height;if(!r){var l=i.x,c=i.y;if(void 0!==i.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(i.px,i.py,o||0,a||0));l=u.x,c=u.y,o=void 0!==o?u.width:void 0,a=void 0!==a?u.height:void 0}r=new e.Point(l,c)}var h=i.placement;return h&&"string"===e.type(h)&&(h=e.Placement[i.placement.toUpperCase()]),new e.Overlay({element:n,location:r,placement:h,onDraw:i.onDraw,checkResize:i.checkResize,width:o,height:a,rotationMode:i.rotationMode})}function s(e,t){var i;for(i=e.length-1;i>=0;i--)if(e[i].element===t)return i;return-1}function r(t,i){return e.requestAnimationFrame(function(){i(t)})}function o(t){e.requestAnimationFrame(function(){l(t)})}function a(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){o(t)},t.controlsFadeDelay))}function l(t){var i,n;if(t.controlsShouldFade){for(i=1-(e.now()-t.controlsFadeBeginTime)/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),n=t.controls.length-1;n>=0;n--)t.controls[n].autoFade&&t.controls[n].setOpacity(i);i>0&&o(t)}}function c(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function u(){c(this)}function h(){a(this)}function d(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function p(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function f(e){document.activeElement==this.canvas||this.canvas.focus();var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",t),!t.preventDefaultAction&&this.viewport&&e.quick&&this.gestureSettingsByDeviceType(e.pointerType).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())}function m(e){!e.preventDefaultAction&&this.viewport&&this.gestureSettingsByDeviceType(e.pointerType).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-double-click",{tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent})}function g(e){var t,i={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",i),!i.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.constrainDuringPan){var n=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=n.x,this.viewport.centerSpringY.target.value+=n.y;var s=this.viewport.getBounds(),r=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=n.x,this.viewport.centerSpringY.target.value-=n.y,s.x!=r.x&&(e.delta.x=0),s.y!=r.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function v(t){if(!t.preventDefaultAction&&this.viewport){var i=this.gestureSettingsByDeviceType(t.pointerType);if(i.flickEnabled&&t.speed>=i.flickMinSpeed){var n=0;this.panHorizontal&&(n=i.flickMomentum*t.speed*Math.cos(t.direction));var s=0;this.panVertical&&(s=i.flickMomentum*t.speed*Math.sin(t.direction));var r=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),o=this.viewport.pointFromPixel(new e.Point(r.x-n,r.y-s));this.viewport.panTo(o,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{
tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function _(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function y(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function b(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function w(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function x(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function E(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function S(e){var t,i,n;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(i=this.viewport.pointFromPixel(e.center,!0),n=this.viewport.pointFromPixel(e.lastCenter,!0).minus(i),this.panHorizontal||(n.x=0),this.panVertical||(n.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,i,!0),this.viewport.panBy(n,!0),this.viewport.applyConstraints()),t.pinchRotate)){var s=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),r=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(s-r)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function k(t){var i,n,s;if((s=e.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=s,!t.preventDefaultAction&&this.viewport&&(i=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(n=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(n,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),i&&i.scrollToZoom)return!1}else if((i=this.gestureSettingsByDeviceType(t.pointerType))&&i.scrollToZoom)return!1}function T(e){q[this.hash].mouseInside=!0,c(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function C(e){e.pointers<1&&(q[this.hash].mouseInside=!1,q[this.hash].animating||a(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function R(e){P(e),e.isOpen()?e._updateRequestId=r(e,R):e._updateRequestId=!1}function P(e){if(!e._opening){if(e.autoResize){var i=t(e.container),n=q[e.hash].prevContainerSize;if(!i.equals(n)){var s=e.viewport;if(e.preserveImageSizeOnResize){var r=n.x/i.x,o=s.getZoom()*r,l=s.getCenter();s.resize(i,!1),s.zoomTo(o,null,!0),s.panTo(l,!0)}else{var u=s.getBounds();s.resize(i,!0),s.fitBoundsWithConstraints(u,!0)}q[e.hash].prevContainerSize=i,q[e.hash].forceRedraw=!0}}var h=e.viewport.update(),d=e.world.update()||h;h&&e.raiseEvent("viewport-change"),e.referenceStrip&&(d=e.referenceStrip.update(e.viewport)||d),!q[e.hash].animating&&d&&(e.raiseEvent("animation-start"),c(e)),(d||q[e.hash].forceRedraw||e.world.needsDraw())&&(N(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),q[e.hash].forceRedraw=!1,d&&e.raiseEvent("animation")),q[e.hash].animating&&!d&&(e.raiseEvent("animation-finish"),q[e.hash].mouseInside||a(e)),q[e.hash].animating=d}}function N(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function M(e,t){return e?e+t:t}function O(){q[this.hash].lastZoomTime=e.now(),q[this.hash].zoomFactor=this.zoomPerSecond,q[this.hash].zooming=!0,L(this)}function D(){q[this.hash].lastZoomTime=e.now(),q[this.hash].zoomFactor=1/this.zoomPerSecond,q[this.hash].zooming=!0,L(this)}function I(){q[this.hash].zooming=!1}function L(t){e.requestAnimationFrame(e.delegate(t,A))}function A(){var t,i,n;q[this.hash].zooming&&this.viewport&&(i=(t=e.now())-q[this.hash].lastZoomTime,n=Math.pow(q[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(n),this.viewport.applyConstraints(),q[this.hash].lastZoomTime=t,L(this))}function j(){this.viewport&&(q[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function z(){this.viewport&&(q[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function F(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function H(){this.viewport&&this.viewport.goHome()}function $(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function B(){if(this.viewport){var e=this.viewport.getRotation();0===e?e=270:e-=90,this.viewport.setRotation(e)}}function W(){if(this.viewport){var e=this.viewport.getRotation();270===e?e=0:e+=90,this.viewport.setRotation(e)}}function V(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function U(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}var q={},Y=1;e.Viewer=function(i){var n,s=arguments,o=this;if(e.isPlainObject(i)||(i={id:s[0],xmlPath:s.length>1?s[1]:void 0,prefixUrl:s.length>2?s[2]:void 0,controls:s.length>3?s[3]:void 0,overlays:s.length>4?s[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config),e.extend(!0,this,{id:i.id,hash:i.hash||Y++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,i),"undefined"==typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!=typeof q[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),q[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var i=e.getString("Errors.OpenFailed",t.eventSource,t.message);o._showMessage(i)}),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(e){e.width="100%",e.height="100%",e.overflow="hidden",e.position="absolute",e.top="0px",e.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,d),keyHandler:e.delegate(this,p),clickHandler:e.delegate(this,f),dblClickHandler:e.delegate(this,m),dragHandler:e.delegate(this,g),dragEndHandler:e.delegate(this,v),enterHandler:e.delegate(this,_),exitHandler:e.delegate(this,y),pressHandler:e.delegate(this,b),releaseHandler:e.delegate(this,w),nonPrimaryPressHandler:e.delegate(this,x),nonPrimaryReleaseHandler:e.delegate(this,E),scrollHandler:e.delegate(this,k),pinchHandler:e.delegate(this,S)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,T),exitHandler:e.delegate(this,C)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),q[this.hash].prevContainerSize=t(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(){o.source=o.world.getItemAt(0).source,q[o.hash].forceRedraw=!0,o._updateRequestId||(o._updateRequestId=r(o,R))}),this.world.addHandler("remove-item",function(){o.world.getItemCount()?o.source=o.world.getItemAt(0).source:o.source=null,q[o.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(){o.viewport&&o.viewport._setContentBounds(o.world.getHomeBounds(),o.world.getContentFactor())}),this.world.addHandler("item-index-change",function(){o.source=o.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:q[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(n=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(n,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(n=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(n,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),n=0;n<this.customControls.length;n++)this.addControl(this.customControls[n].id,{anchor:this.customControls[n].anchor});e.requestAnimationFrame(function(){a(o)})},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,i){var s=this;if(this.close(),t)if(this.sequenceMode&&e.isArray(t))this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===i||isNaN(i)||(this.initialPage=i),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);else if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var r,o=t.length,a=0,l=0,c=function(){if(a+l===o)if(a){!s._firstOpen&&s.preserveViewport||(s.viewport.goHome(!0),s.viewport.update()),s._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),s.overlays&&!s.preserveOverlays)for(var i=0;i<s.overlays.length;i++)s.currentOverlays[i]=n(s,s.overlays[i]);s._drawOverlays(),s._opening=!1,s.raiseEvent("open",{source:e})}else s._opening=!1,s.raiseEvent("open-failed",r)},u=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var i=t.success;t.success=function(e){if(a++,t.tileSource.overlays)for(var n=0;n<t.tileSource.overlays.length;n++)s.addOverlay(t.tileSource.overlays[n]);i&&i(e),c()};var n=t.error;t.error=function(e){l++,r||(r=e),n&&n(e),c()},s.addTiledImage(t)},h=0;h<t.length;h++)u(t[h]);return this}},close:function(){return q[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),q[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(q[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),q[this.hash]=null,delete q[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?c(this):a(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return q[this.hash].fullPage},setFullPage:function(t){var i,n,s=document.body,r=s.style,o=document.documentElement.style,a=this;if(t==this.isFullPage())return this;var l={fullPage:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",l),l.preventDefaultAction)return this;if(t){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=r.margin,this.docMargin=o.margin,r.margin="0",o.margin="0",this.bodyPadding=r.padding,this.docPadding=o.padding,r.padding="0",o.padding="0",this.bodyWidth=r.width,this.docWidth=o.width,r.width="100%",o.width="100%",this.bodyHeight=r.height,this.docHeight=o.height,r.height="100%",o.height="100%",this.previousBody=[],q[this.hash].prevElementParent=this.element.parentNode,q[this.hash].prevNextSibling=this.element.nextSibling,q[this.hash].prevElementWidth=this.element.style.width,q[this.hash].prevElementHeight=this.element.style.height,i=s.childNodes.length,n=0;n<i;n++)this.previousBody.push(s.childNodes[0]),s.removeChild(s.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,s.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),s.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),q[this.hash].fullPage=!0,e.delegate(this,T)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,r.margin=this.bodyMargin,o.margin=this.docMargin,r.padding=this.bodyPadding,o.padding=this.docPadding,r.width=this.bodyWidth,o.width=this.docWidth,r.height=this.bodyHeight,o.height=this.docHeight,s.removeChild(this.element),i=this.previousBody.length,n=0;n<i;n++)s.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),q[this.hash].prevElementParent.insertBefore(this.element,q[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(s.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=q[this.hash].prevElementWidth,this.element.style.height=q[this.hash].prevElementHeight;var c=0,u=function(){e.setPageScroll(a.pageScroll);var t=e.getPageScroll();++c<10&&(t.x!==a.pageScroll.x||t.y!==a.pageScroll.y)&&e.requestAnimationFrame(u)};e.requestAnimationFrame(u),q[this.hash].fullPage=!1,e.delegate(this,C)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:t}),this},setFullScreen:function(t){var i=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var n={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",n),n.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var s=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,s),e.removeEvent(document,e.fullScreenErrorEventName,s),i.setFullPage(!1),i.isFullPage()&&(i.element.style.width=i.fullPageStyleWidth,i.element.style.height=i.fullPageStyleHeight)),i.navigator&&i.viewport&&i.navigator.update(i.viewport),i.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,s),e.addEvent(document,e.fullScreenErrorEventName,s),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){function n(e){for(var i=0;i<o._loadQueue.length;i++)if(o._loadQueue[i]===a){o._loadQueue.splice(i,1);break}0===o._loadQueue.length&&s(a),o.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function s(e){o.collectionMode&&(o.world.arrange({immediately:e.options.collectionImmediately,rows:o.collectionRows,columns:o.collectionColumns,layout:o.collectionLayout,tileSize:o.collectionTileSize,tileMargin:o.collectionTileMargin}),o.world.setAutoRefigureSizes(!0))}function r(){for(var t,i,n;o._loadQueue.length&&(t=o._loadQueue[0]).tileSource;){if(o._loadQueue.splice(0,1),t.options.replace){var r=o.world.getIndexOfItem(t.options.replaceItem);-1!=r&&(t.options.index=r),o.world.removeItem(t.options.replaceItem)}i=new e.TiledImage({viewer:o,source:t.tileSource,viewport:o.viewport,drawer:o.drawer,tileCache:o.tileCache,imageLoader:o.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:o.springStiffness,animationTime:o.animationTime,minZoomImageRatio:o.minZoomImageRatio,wrapHorizontal:o.wrapHorizontal,wrapVertical:o.wrapVertical,immediateRender:o.immediateRender,blendTime:o.blendTime,alwaysBlend:o.alwaysBlend,minPixelRatio:o.minPixelRatio,smoothTileEdgesMinZoom:o.smoothTileEdgesMinZoom,iOSDevice:o.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:o.debugMode}),o.collectionMode&&o.world.setAutoRefigureSizes(!1),o.world.addItem(i,{index:t.options.index}),0===o._loadQueue.length&&s(t),1!==o.world.getItemCount()||o.preserveViewport||o.viewport.goHome(!0),o.navigator&&(n=e.extend({},t.options,{replace:!1,originalTiledImage:i,tileSource:t.tileSource}),o.navigator.addTiledImage(n)),t.options.success&&t.options.success({item:i})}}e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var o=this;t.replace&&(t.replaceItem=o.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var a={options:t};e.isArray(t.tileSource)?setTimeout(function(){n({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})}):(this._loadQueue.push(a),i(this,t.tileSource,t,function(e){a.tileSource=e,r()},function(e){e.options=t,n(e),r()}))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var i=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete i.url,this.addTiledImage(i)},addLayer:function(t){var i=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var n=e.extend({},t,{success:function(e){i.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){i.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(n),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,i){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,i)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return q[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,u),i=e.delegate(this,h),n=e.delegate(this,U),s=e.delegate(this,V),r=this.navImages,o=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(o=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:M(this.prefixUrl,r.previous.REST),srcGroup:M(this.prefixUrl,r.previous.GROUP),srcHover:M(this.prefixUrl,r.previous.HOVER),srcDown:M(this.prefixUrl,r.previous.DOWN),onRelease:s,onFocus:t,onBlur:i}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:M(this.prefixUrl,r.next.REST),srcGroup:M(this.prefixUrl,r.next.GROUP),srcHover:M(this.prefixUrl,r.next.HOVER),srcDown:M(this.prefixUrl,r.next.DOWN),onRelease:n,onFocus:t,onBlur:i}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),o&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,O),i=e.delegate(this,I),n=e.delegate(this,j),s=e.delegate(this,D),r=e.delegate(this,z),o=e.delegate(this,H),a=e.delegate(this,$),l=e.delegate(this,B),c=e.delegate(this,W),d=e.delegate(this,u),p=e.delegate(this,h),f=this.navImages,m=[],g=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(g=!1),this.showZoomControl&&(m.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:M(this.prefixUrl,f.zoomIn.REST),srcGroup:M(this.prefixUrl,f.zoomIn.GROUP),srcHover:M(this.prefixUrl,f.zoomIn.HOVER),srcDown:M(this.prefixUrl,f.zoomIn.DOWN),onPress:t,onRelease:i,onClick:n,onEnter:t,onExit:i,onFocus:d,onBlur:p})),m.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:M(this.prefixUrl,f.zoomOut.REST),srcGroup:M(this.prefixUrl,f.zoomOut.GROUP),srcHover:M(this.prefixUrl,f.zoomOut.HOVER),srcDown:M(this.prefixUrl,f.zoomOut.DOWN),onPress:s,onRelease:i,onClick:r,onEnter:s,onExit:i,onFocus:d,onBlur:p}))),this.showHomeControl&&m.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:M(this.prefixUrl,f.home.REST),srcGroup:M(this.prefixUrl,f.home.GROUP),srcHover:M(this.prefixUrl,f.home.HOVER),srcDown:M(this.prefixUrl,f.home.DOWN),onRelease:o,onFocus:d,onBlur:p})),this.showFullPageControl&&m.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:M(this.prefixUrl,f.fullpage.REST),srcGroup:M(this.prefixUrl,f.fullpage.GROUP),srcHover:M(this.prefixUrl,f.fullpage.HOVER),srcDown:M(this.prefixUrl,f.fullpage.DOWN),onRelease:a,onFocus:d,onBlur:p})),this.showRotationControl&&(m.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:M(this.prefixUrl,f.rotateleft.REST),srcGroup:M(this.prefixUrl,f.rotateleft.GROUP),srcHover:M(this.prefixUrl,f.rotateleft.HOVER),srcDown:M(this.prefixUrl,f.rotateleft.DOWN),onRelease:l,onFocus:d,onBlur:p})),m.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:M(this.prefixUrl,f.rotateright.REST),srcGroup:M(this.prefixUrl,f.rotateright.GROUP),srcHover:M(this.prefixUrl,f.rotateright.HOVER),srcDown:M(this.prefixUrl,f.rotateright.DOWN),onRelease:c,onFocus:d,onBlur:p}))),g&&(this.buttons=new e.ButtonGroup({buttons:m,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,F)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this.raiseEvent("page",{page:e}),this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e)),this},addOverlay:function(t,i,r,o){var a;if(a=e.isPlainObject(t)?t:{element:t,location:i,placement:r,onDraw:o},t=e.getElement(a.element),s(this.currentOverlays,t)>=0)return this;var l=n(this,a);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:a.location,placement:a.placement}),this},updateOverlay:function(t,i,n){var r;return t=e.getElement(t),(r=s(this.currentOverlays,t))>=0&&(this.currentOverlays[r].update(i,n),q[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:t,location:i,placement:n})),this},removeOverlay:function(t){var i;return t=e.getElement(t),(i=s(this.currentOverlays,t))>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),q[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:t})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return q[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var i;return t=e.getElement(t),(i=s(this.currentOverlays,t))>=0?this.currentOverlays[i]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var i=e.makeNeutralElement("div");i.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(i),
e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function t(e){e.quick&&this.viewer.viewport&&(this.viewer.viewport.panTo(this.viewport.pointFromPixel(e.position)),this.viewer.viewport.applyConstraints())}function i(e){this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function n(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function s(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function r(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.mozTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.oTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"}e.Navigator=function(o){function a(e){r(h.displayRegionContainer,e),r(h.displayRegion,-e),h.viewport.setRotation(e)}var l,c,u=o.viewer,h=this;(o.id?(this.element=document.getElementById(o.id),o.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(o.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),o.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:o.autoFade},o.position&&("BOTTOM_RIGHT"==o.position?o.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==o.position?o.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==o.position?o.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==o.position?o.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==o.position&&(o.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,o.controlOptions.top=o.top,o.controlOptions.left=o.left,o.controlOptions.height=o.height,o.controlOptions.width=o.width))),this.element.id=o.id,this.element.className+=" navigator",(o=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},o,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:o.autoResize,minZoomImageRatio:1})).minPixelRatio=this.minPixelRatio=u.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),o.controlOptions.anchor!=e.ControlAnchor.NONE&&function(e,t){e.margin="0px",e.border=t+"px solid #555",e.padding="0px",e.background="#000",e.opacity=.8,e.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid #900",e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",u.addControl(this.element,o.controlOptions),this._resizeWithViewer=o.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&o.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(o.width&&o.height?(this.element.style.height="number"==typeof o.height?o.height+"px":o.height,this.element.style.width="number"==typeof o.width?o.width+"px":o.width):(l=e.getElementSize(u.element),this.element.style.height=Math.round(l.y*o.sizeRatio)+"px",this.element.style.width=Math.round(l.x*o.sizeRatio)+"px",this.oldViewerSize=l),c=e.getElementSize(this.element),this.elementArea=c.x*c.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[o]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),o.navigatorRotate)&&(a(o.viewer.viewport?o.viewer.viewport.getRotation():o.viewer.degrees||0),o.viewer.addHandler("rotate",function(e){a(e.degrees)}));this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,i),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,n),scrollHandler:e.delegate(this,s)}),this.addHandler("reset-size",function(){h.viewport&&h.viewport.goHome(!0)}),u.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=h.world.getItemAt(e.previousIndex);h.world.setItemIndex(t,e.newIndex)},1)}),u.world.addHandler("remove-item",function(e){var t=e.item,i=h._getMatchingItem(t);i&&h.world.removeItem(i)}),this.update(u.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},update:function(t){var i,n,s,r,o,a;if(i=e.getElementSize(this.viewer.element),this._resizeWithViewer&&i.x&&i.y&&!i.equals(this.oldViewerSize)&&(this.oldViewerSize=i,this.maintainSizeRatio||!this.elementArea?(n=i.x*this.sizeRatio,s=i.y*this.sizeRatio):(n=Math.sqrt(this.elementArea*(i.x/i.y)),s=this.elementArea/n),this.element.style.width=Math.round(n)+"px",this.element.style.height=Math.round(s)+"px",this.elementArea||(this.elementArea=n*s),this.updateSize()),t&&this.viewport){r=t.getBoundsNoRotate(!0),o=this.viewport.pixelFromPointNoRotate(r.getTopLeft(),!1),a=this.viewport.pixelFromPointNoRotate(r.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(o.y)+"px",l.left=Math.round(o.x)+"px";var c=Math.abs(o.x-a.x),u=Math.abs(o.y-a.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(t){var i=this,n=t.originalTiledImage;delete t.original;var s=e.extend({},t,{success:function(e){function t(){i._matchBounds(o,n)}function s(){i._matchOpacity(o,n)}function r(){i._matchCompositeOperation(o,n)}var o=e.item;o._originalForNavigator=n,i._matchBounds(o,n,!0),n.addHandler("bounds-change",t),n.addHandler("clip-change",t),n.addHandler("opacity-change",s),n.addHandler("composite-operation-change",r)}});return e.Viewer.prototype.addTiledImage.apply(this,[s])},_getMatchingItem:function(e){for(var t,i=this.world.getItemCount(),n=0;n<i;n++)if((t=this.world.getItemAt(n))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,i){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),i),e.setWidth(n.width,i),e.setRotation(t.getRotation(),i),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right"}};e.extend(e,{getString:function(i){var n,s=i.split("."),r=null,o=arguments,a=t;for(n=0;n<s.length-1;n++)a=a[s[n]]||{};return"string"!=typeof(r=a[s[n]])&&(e.console.log("Untranslated source string:",i),r=""),r.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<o.length?o[t]:""})},setString:function(e,i){var n,s=e.split("."),r=t;for(n=0;n<s.length-1;n++)r[s[n]]||(r[s[n]]={}),r=r[s[n]];r[s[n]]=i}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,i){var n,s;if(i=i||new e.Point(0,0),t%90==0){switch(e.positiveModulo(t,360)){case 0:n=1,s=0;break;case 90:n=0,s=1;break;case 180:n=-1,s=0;break;case 270:n=0,s=-1}}else{var r=t*Math.PI/180;n=Math.cos(r),s=Math.sin(r)}var o=n*(this.x-i.x)-s*(this.y-i.y)+i.x,a=s*(this.x-i.x)+n*(this.y-i.y)+i.y;return new e.Point(o,a)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){function t(t){var i,n,s=t.responseText,r=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw i=404==(r=t.status)?"Not Found":t.statusText,new Error(e.getString("Errors.Status",r,i));if(s.match(/\s*<.*/))try{n=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(s)}catch(e){n=t.responseText}else if(s.match(/\s*[\{\[].*/))try{n=e.parseJSON(s)}catch(e){n=s}else n=s;return n}e.TileSource=function(t){var i,n,s=this,r=arguments;if(i=e.isPlainObject(t)?t:{width:r[0],height:r[1],tileSize:r[2],tileOverlap:r[3],minLevel:r[4],maxLevel:r[5]},e.EventSource.call(this),e.extend(!0,this,i),!this.success)for(n=0;n<arguments.length;n++)if(e.isFunction(arguments[n])){this.success=arguments[n];break}this.success&&this.addHandler("ready",function(e){s.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=i.width&&i.height?i.width/i.height:1,this.dimensions=new e.Point(i.width,i.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=i.tileOverlap?i.tileOverlap:0,this.minLevel=i.minLevel?i.minLevel:0,this.maxLevel=void 0!==i.maxLevel&&null!==i.maxLevel?i.maxLevel:i.width&&i.height?Math.ceil(Math.log(Math.max(i.width,i.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(){return e.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,i={};for(t=0;t<=this.maxLevel;t++)i[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return i[e]},this.getLevelScale(e)},getNumTiles:function(t){var i=this.getLevelScale(t),n=Math.ceil(i*this.dimensions.x/this.getTileWidth(t)),s=Math.ceil(i*this.dimensions.y/this.getTileHeight(t));return new e.Point(n,s)},getPixelRatio:function(t){var i=this.dimensions.times(this.getLevelScale(t)),n=1/i.x,s=1/i.y;return new e.Point(n,s)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,i){var n=i.x>=0&&i.x<=1&&i.y>=0&&i.y<=1/this.aspectRatio;e.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var s=this.dimensions.x*this.getLevelScale(t),r=i.x*s,o=i.y*s,a=Math.floor(r/this.getTileWidth(t)),l=Math.floor(o/this.getTileHeight(t));i.x>=1&&(a=this.getNumTiles(t).x-1);var c=1e-16;return i.y>=1/this.aspectRatio-c&&(l=this.getNumTiles(t).y-1),new e.Point(a,l)},getTileBounds:function(t,i,n){var s=this.dimensions.times(this.getLevelScale(t)),r=this.getTileWidth(t),o=this.getTileHeight(t),a=0===i?0:r*i-this.tileOverlap,l=0===n?0:o*n-this.tileOverlap,c=r+(0===i?1:2)*this.tileOverlap,u=o+(0===n?1:2)*this.tileOverlap,h=1/s.x;return c=Math.min(c,s.x-a),u=Math.min(u,s.y-l),new e.Rect(a*h,l*h,c*h,u*h)},getImageInfo:function(i){var n,s,r,o,a,l,c,u=this;i&&(c=(l=(a=i.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=l.slice(0,c)),s=function(t){"string"==typeof t&&(t=e.parseXml(t));var n=e.TileSource.determineType(u,t,i);n?(void 0===(o=n.prototype.configure.apply(u,[t,i])).ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),r=new n(o),u.ready=!0,u.raiseEvent("ready",{tileSource:r})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:i})},i.match(/\.js$/)?(n=i.split("/").pop().replace(".js",""),e.jsonp({url:i,async:!1,callbackName:n,callback:s})):e.makeAjaxRequest({url:i,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var i=t(e);s(i)},error:function(e,t){var n;try{n="HTTP "+e.status+" attempting to load TileSource"}catch(e){n=(void 0!==t&&t.toString?t.toString():"Unknown error")+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:n,source:i})}})},supports:function(){return!1},configure:function(){throw new Error("Method not implemented.")},getTileUrl:function(){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(){return{}},tileExists:function(e,t,i){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&i>=0&&t<n.x&&i<n.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,i,n){var s;for(s in OpenSeadragon)if(s.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[s])&&e.isFunction(OpenSeadragon[s].prototype.supports)&&OpenSeadragon[s].prototype.supports.call(t,i,n))return OpenSeadragon[s];e.console.error("No TileSource was able to open %s %s",n,i)}}(OpenSeadragon),function(e){function t(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var s,r,o,a,l,c=n.documentElement,u=c.localName||c.tagName,h=n.documentElement.namespaceURI,d=null,p=[];if("Image"==u)try{if(void 0===(a=c.getElementsByTagName("Size")[0])&&(a=c.getElementsByTagNameNS(h,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(s=c.getElementsByTagName("DisplayRect"))&&(s=c.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<s.length;l++)void 0===(o=(r=s[l]).getElementsByTagName("Rect")[0])&&(o=r.getElementsByTagNameNS(h,"Rect")[0]),p.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(r.getAttribute("MinLevel"),10),MaxLevel:parseInt(r.getAttribute("MaxLevel"),10)}});return p.length&&(d.Image.DisplayRect=p),i(t,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==u)throw new Error(e.getString("Errors.Dzc"));if("Error"==u){var f=c.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(f)}}throw new Error(e.getString("Errors.Dzi"))}function i(t,i){var n,s,r=i.Image,o=r.Url,a=r.Format,l=r.Size,c=r.DisplayRect||[],u=parseInt(l.Width,10),h=parseInt(l.Height,10),d=parseInt(r.TileSize,10),p=parseInt(r.Overlap,10),f=[];for(s=0;s<c.length;s++)n=c[s].Rect,f.push(new e.DisplayRect(parseInt(n.X,10),parseInt(n.Y,10),parseInt(n.Width,10),parseInt(n.Height,10),parseInt(n.MinLevel,10),parseInt(n.MaxLevel,10)));return e.extend(!0,{width:u,height:h,tileSize:d,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:o,fileFormat:a,displayRects:f},i)}e.DziTileSource=function(t){var i,n,s,r;if(r=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=r.tilesUrl,this.fileFormat=r.fileFormat,this.displayRects=r.displayRects,this.displayRects)for(i=this.displayRects.length-1;i>=0;i--)for(s=(n=this.displayRects[i]).minLevel;s<=n.maxLevel;s++)this._levelRects[s]||(this._levelRects[s]=[]),this._levelRects[s].push(n);e.TileSource.apply(this,[r])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e){var t;return e.Image?t=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(t=e.documentElement.namespaceURI)),-1!==(t=(t||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==t.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,s){var r;return r=e.isPlainObject(n)?i(this,n):t(this,n),s&&!r.tilesUrl&&(r.tilesUrl=s.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=s.search(/\.(dzi|xml|js)\?/)?r.queryParams=s.match(/\?.*/):r.queryParams=""),r},getTileUrl:function(e,t,i){return[this.tilesUrl,e,"/",t,"_",i,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,i){var n,s,r,o,a,l,c,u=this._levelRects[e];if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(!(e<(n=u[c]).minLevel||e>n.maxLevel)&&(s=this.getLevelScale(e),r=n.x*s,o=n.y*s,a=r+n.width*s,l=o+n.height*s,r=Math.floor(r/this._tileWidth),o=Math.floor(o/this._tileWidth),a=Math.ceil(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),r<=t&&t<a&&o<=i&&i<l))return!0;return!1}})}(OpenSeadragon),function(e){function t(e){return!(-1!=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(e[0]))||-1!=e.indexOf("sizeByW")}function i(e){for(var t=[],i=0;i<e.sizes.length;i++)t.push({url:e["@id"]+"/full/"+e.sizes[i].width+",/0/default.jpg",width:e.sizes[i].width,height:e.sizes[i].height});return t.sort(function(e,t){return e.width-t.width})}function n(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var i=t.documentElement,n=null;if("info"==i.tagName)try{return s(i,n={}),n}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function s(t,i,n){var r,o;if(3==t.nodeType&&n)(o=t.nodeValue.trim()).match(/^\d*$/)&&(o=Number(o)),i[n]?(e.isArray(i[n])||(i[n]=[i[n]]),i[n].push(o)):i[n]=o;else if(1==t.nodeType)for(r=0;r<t.childNodes.length;r++)s(t.childNodes[r],i,t.nodeName)}e.IIIFTileSource=function(n){if(e.extend(!0,this,n),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(n.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)n.tileWidth=this.tile_width,n.tileHeight=this.tile_height;else if(this.tile_width)n.tileSize=this.tile_width;else if(this.tile_height)n.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)n.tileWidth=this.tiles[0].width,n.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var s=0;s<this.tiles.length;s++)for(var r=0;r<this.tiles[s].scaleFactors.length;r++){var o=this.tiles[s].scaleFactors[r];this.scale_factors.push(o),n.tileSizePerScaleFactor[o]={width:this.tiles[s].width,height:this.tiles[s].height||this.tiles[s].width}}}else if(t(n.profile)){for(var a=Math.min(this.height,this.width),l=[256,512,1024],c=[],u=0;u<l.length;u++)l[u]<=a&&c.push(l[u]);c.length>0?n.tileSize=Math.max.apply(null,c):n.tileSize=a}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,n.levels=i(this),e.extend(!0,n,{width:n.levels[n.levels.length-1].width,height:n.levels[n.levels.length-1].height,tileSize:Math.max(n.height,n.width),tileOverlap:0,minLevel:0,maxLevel:n.levels.length-1}),this.levels=n.levels):e.console.error("Nothing in the info.json to construct image pyramids from");n.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?n.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):n.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),e.TileSource.apply(this,[n])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e){return!!(e.protocol&&"http://iiif.io/api/image"==e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"==e["@context"]||"http://iiif.io/api/image/1/context.json"==e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height||e.documentElement&&"info"==e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==e.documentElement.namespaceURI)},configure:function(t,i){if(e.isPlainObject(t))return t["@context"]?t:(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=i.replace("/info.json",""),t);var s=n(t);return s["@context"]="http://iiif.io/api/image/1.0/context.json",s["@id"]=i.replace("/info.xml",""),s},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var i=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].width/this.levels[this.maxLevel].width),i}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,i){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,i)},getTileUrl:function(e,t,i){if(this.emulateLegacyImagePyramid){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}var s,r,o,a,l,c,u,h,d,p,f,m="0",g=Math.pow(.5,this.maxLevel-e),v=Math.ceil(this.width*g),_=Math.ceil(this.height*g);return s=this.getTileWidth(e),r=this.getTileHeight(e),o=Math.ceil(s/g),a=Math.ceil(r/g),f=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",v<s&&_<r?(p=v+",",l="full"):(c=t*o,u=i*a,h=Math.min(o,this.width-c),d=Math.min(a,this.height-u),p=Math.ceil(h*g)+",",l=[c,u,h,d].join(",")),[this["@id"],l,p,m,f].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t){var i;(i=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&i.height||(i.width=65572864,i.height=65572864),i.tileSize||(i.tileSize=256,i.tileOverlap=0),i.tilesUrl||(i.tilesUrl="http://tile.openstreetmap.org/"),i.minLevel=8,e.TileSource.apply(this,[i])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e){return e.type&&"openstreetmaps"==e.type},configure:function(e){return e},getTileUrl:function(e,t,i){return this.tilesUrl+(e-8)+"/"+t+"/"+i+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t){var i;i=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var n,s=256*Math.ceil(i.width/256),r=256*Math.ceil(i.height/256);n=s>r?s/256:r/256,i.maxLevel=Math.ceil(Math.log(n)/Math.log(2))-1,i.tileSize=256,i.width=s,i.height=r,e.TileSource.apply(this,[i])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e){return e.type&&"tiledmapservice"==e.type},configure:function(e){return e},getTileUrl:function(e,t,i){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(n-i)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,i){return{x:Math.ceil(e/i),y:Math.ceil(t/i)}},_calculateAbsoluteTileNumber:function(e,t,i){for(var n=0,s={},r=0;r<e;r++)n+=(s=this.gridSize[r]).x*s.y;return n+=(s=this.gridSize[e]).x*i+t},supports:function(e){return e.type&&"zoomifytileservice"==e.type},configure:function(e){return e},getTileUrl:function(e,t,i){var n=0,s=this._calculateAbsoluteTileNumber(e,t,i);return n=Math.floor(s/256),this.tilesUrl+"TileGroup"+n+"/"+e+"-"+t+"-"+i+".jpg"}})}(OpenSeadragon),function(e){function t(t){var i,n,s=[];for(n=0;n<t.length;n++)(i=t[n]).height&&i.width&&i.url?s.push({url:i.url,width:Number(i.width),height:Number(i.height)}):e.console.error("Unsupported image format: %s",i.url?i.url:"<no URL>");return s.sort(function(e,t){return e.height-t.height})}function i(t,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var s,r,o=i.documentElement,a=o.tagName,l=null,c=[];if("image"==a)try{for(l={type:o.getAttribute("type"),levels:[]},c=o.getElementsByTagName("level"),r=0;r<c.length;r++)s=c[r],l.levels.push({url:s.getAttribute("url"),width:parseInt(s.getAttribute("width"),10),height:parseInt(s.getAttribute("height"),10)});return n(t,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==a)throw new Error("Error: "+i)}throw new Error("Unknown element "+a)}function n(e,t){return t.levels}e.LegacyTileSource=function(i){var n,s,r;e.isArray(i)&&(n={type:"legacy-image-pyramid",levels:i}),n.levels=t(n.levels),n.levels.length>0?(s=n.levels[n.levels.length-1].width,r=n.levels[n.levels.length-1].height):(s=0,r=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:s,height:r,tileSize:Math.max(r,s),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(t){return e.isPlainObject(t)?n(this,t):i(this,t)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e){var t=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].url),t}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e){return e.type&&"image"===e.type},configure:function(e){return e},getImageInfo:function(t){var i=this._image=new Image,n=this;this.crossOriginPolicy&&(i.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(i.useCredentials=this.ajaxWithCredentials),e.addEvent(i,"load",function(){n.width=Object.prototype.hasOwnProperty.call(i,"naturalWidth")?i.naturalWidth:i.width,n.height=Object.prototype.hasOwnProperty.call(i,"naturalHeight")?i.naturalHeight:i.height,n.aspectRatio=n.width/n.height,n.dimensions=new e.Point(n.width,n.height),n._tileWidth=n.width,n._tileHeight=n.height,n.tileOverlap=0,n.minLevel=0,n.levels=n._buildLevels(),n.maxLevel=n.levels.length-1,n.ready=!0,n.raiseEvent("ready",{tileSource:n})}),e.addEvent(i,"error",function(){n.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),i.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e){var t=null;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].url),t},getContext2D:function(e){var t=null;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].context2D),t},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var i=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,n=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,s=document.createElement("canvas"),r=s.getContext("2d");if(s.width=i,s.height=n,r.drawImage(this._image,0,0,i,n),t[0].context2D=r,delete this._image,e.isCanvasTainted(s))return t;for(;i>=2&&n>=2;){i=Math.floor(i/2),n=Math.floor(n/2);var o=document.createElement("canvas"),a=o.getContext("2d");o.width=i,o.height=n,a.drawImage(s,0,0,i,n),t.splice(0,0,{context2D:a,width:i,height:n}),s=o,r=a}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function t(t){e.requestAnimationFrame(function(){i(t)})}function i(i){var n;i.shouldFade&&(n=1-(e.now()-i.fadeBeginTime)/i.fadeLength,n=Math.min(1,n),n=Math.max(0,n),i.imgGroup&&e.setElementOpacity(i.imgGroup,n,!0),n>0&&t(i))}function n(i){i.shouldFade=!0,i.fadeBeginTime=e.now()+i.fadeDelay,window.setTimeout(function(){t(i)},i.fadeDelay)}
function s(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}function r(t,i){t.element.disabled||(i>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(s(t),t.currentState=e.ButtonState.GROUP),i>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),i>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function o(t,i){t.element.disabled||(i<=e.ButtonState.HOVER&&t.currentState==e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),i<=e.ButtonState.GROUP&&t.currentState==e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),i<=e.ButtonState.REST&&t.currentState==e.ButtonState.GROUP&&(n(t),t.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var i=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(r(i,e.ButtonState.DOWN),i.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||r(i,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),i.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){o(i,e.ButtonState.GROUP),t.insideElementPressed&&i.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),i.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){r(i,e.ButtonState.DOWN),i.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(o(i,e.ButtonState.HOVER),i.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?o(i,e.ButtonState.GROUP):r(i,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&i.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(i.raiseEvent("click",{originalEvent:e.originalEvent}),i.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),o(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){r(this,e.ButtonState.GROUP)},notifyGroupExit:function(){o(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var i,n=this.buttons.concat([]),s=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.label=e.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),i=0;i<n.length;i++)this.element.appendChild(n[i].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(){var e;for(e=0;e<s.buttons.length;e++)s.buttons[e].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<s.buttons.length;t++)s.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,i,n,s,r){var o,a;this.x="number"==typeof t?t:0,this.y="number"==typeof i?i:0,this.width="number"==typeof n?n:0,this.height="number"==typeof s?s:0,this.degrees="number"==typeof r?r:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(o=this.getTopRight(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):this.degrees>=90&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},e.Rect.fromSummits=function(t,i,n){var s=t.distanceTo(i),r=t.distanceTo(n),o=i.minus(t),a=Math.atan(o.y/o.x);return o.x<0?a+=Math.PI:o.y<0&&(a+=2*Math.PI),new e.Rect(t.x,t.y,s,r,a/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var i=this.getBoundingBox(),n=t.getBoundingBox(),s=Math.min(i.x,n.x),r=Math.min(i.y,n.y),o=Math.max(i.x+i.width,n.x+n.width),a=Math.max(i.y+i.height,n.y+n.height);return new e.Rect(s,r,o-s,a-r)},intersection:function(t){function i(t,i,s,r){var o=i.minus(t),a=r.minus(s),l=-a.x*o.y+o.x*a.y;if(0===l)return null;var c=(o.x*(t.y-s.y)-o.y*(t.x-s.x))/l,u=(a.x*(t.y-s.y)-a.y*(t.x-s.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new e.Point(t.x+u*o.x,t.y+u*o.y):null}var n=1e-10,s=[],r=this.getTopLeft();t.containsPoint(r,n)&&s.push(r);var o=this.getTopRight();t.containsPoint(o,n)&&s.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&s.push(a);var l=this.getBottomRight();t.containsPoint(l,n)&&s.push(l);var c=t.getTopLeft();this.containsPoint(c,n)&&s.push(c);var u=t.getTopRight();this.containsPoint(u,n)&&s.push(u);var h=t.getBottomLeft();this.containsPoint(h,n)&&s.push(h);var d=t.getBottomRight();this.containsPoint(d,n)&&s.push(d);for(var p=this._getSegments(),f=t._getSegments(),m=0;m<p.length;m++)for(var g=p[m],v=0;v<f.length;v++){var _=f[v],y=i(g[0],g[1],_[0],_[1]);y&&s.push(y)}if(0===s.length)return null;for(var b=s[0].x,w=s[0].x,x=s[0].y,E=s[0].y,S=1;S<s.length;S++){var k=s[S];k.x<b&&(b=k.x),k.x>w&&(w=k.x),k.y<x&&(x=k.y),k.y>E&&(E=k.y)}return new e.Rect(b,x,w-b,E-x)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),n=this.getBottomRight();return[[e,t],[t,n],[n,i],[i,e]]},rotate:function(t,i){if(0===(t=e.positiveModulo(t,360)))return this.clone();i=i||this.getCenter();var n=this.getTopLeft().rotate(t,i),s=this.getTopRight().rotate(t,i).minus(n);s=s.apply(function(e){var t=1e-15;return Math.abs(e)<t?0:e});var r=Math.atan(s.y/s.x);return s.x<0?r+=Math.PI:s.y<0&&(r+=2*Math.PI),new e.Rect(n.x,n.y,this.width,this.height,r/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),i=this.getTopRight(),n=this.getBottomLeft(),s=this.getBottomRight(),r=Math.min(t.x,i.x,n.x,s.x),o=Math.max(t.x,i.x,n.x,s.x),a=Math.min(t.y,i.y,n.y,s.y),l=Math.max(t.y,i.y,n.y,s.y);return new e.Rect(r,a,o-r,l-a)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),i=Math.floor(t.x),n=Math.floor(t.y),s=Math.ceil(t.width+t.x-i),r=Math.ceil(t.height+t.y-n);return new e.Rect(i,n,s,r)},containsPoint:function(e,t){t=t||0;var i=this.getTopLeft(),n=this.getTopRight(),s=this.getBottomLeft(),r=n.minus(i),o=s.minus(i);return(e.x-i.x)*r.x+(e.y-i.y)*r.y>=-t&&(e.x-n.x)*r.x+(e.y-n.y)*r.y<=t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y>=-t&&(e.x-s.x)*o.x+(e.y-s.y)*o.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){function t(t){var i=Number(this.element.style.marginLeft.replace("px","")),s=Number(this.element.style.marginTop.replace("px","")),r=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?i>-(r-a.x)&&(this.element.style.marginLeft=i+2*t.delta.x+"px",n(this,a.x,i+2*t.delta.x)):-t.delta.x<0&&i<0&&(this.element.style.marginLeft=i+2*t.delta.x+"px",n(this,a.x,i+2*t.delta.x)):-t.delta.y>0?s>-(o-a.y)&&(this.element.style.marginTop=s+2*t.delta.y+"px",n(this,a.y,s+2*t.delta.y)):-t.delta.y<0&&s<0&&(this.element.style.marginTop=s+2*t.delta.y+"px",n(this,a.y,s+2*t.delta.y))),!1}function i(t){var i=Number(this.element.style.marginLeft.replace("px","")),s=Number(this.element.style.marginTop.replace("px","")),r=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?i>-(r-a.x)&&(this.element.style.marginLeft=i-60*t.scroll+"px",n(this,a.x,i-60*t.scroll)):t.scroll<0&&i<0&&(this.element.style.marginLeft=i-60*t.scroll+"px",n(this,a.x,i-60*t.scroll)):t.scroll<0?s>a.y-o&&(this.element.style.marginTop=s+60*t.scroll+"px",n(this,a.y,s+60*t.scroll)):t.scroll>0&&s<0&&(this.element.style.marginTop=s+60*t.scroll+"px",n(this,a.y,s+60*t.scroll))),!1}function n(t,i,n){var s,r,o,a,l,c,u;for(s="horizontal"==t.scroll?t.panelWidth:t.panelHeight,r=Math.ceil(i/s)+5,c=r=(r=(o=Math.ceil((Math.abs(n)+i)/s)+1)-r)<0?0:r;c<o&&c<t.panels.length;c++)if(!(u=t.panels[c]).activePanel){var h,d=t.viewer.tileSources[c];h=d.referenceStripThumbnailUrl?{type:"image",url:d.referenceStripThumbnailUrl}:d,(a=new e.Viewer({id:u.id,tileSources:[h],element:u,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=e.makeNeutralElement("div"),a.displayRegion.id=u.id+"-displayregion",a.displayRegion.className="displayregion",(l=a.displayRegion.style).position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=t.panelWidth-4+"px",l.height=t.panelHeight-4+"px",a.displayRegion.innerTracker=new e.MouseTracker({element:a.displayRegion,startDisabled:!0}),u.getElementsByTagName("div")[0].appendChild(a.displayRegion),t.miniViewers[u.id]=a,u.activePanel=!0}}function s(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function r(t){var i=t.eventSource.element;return"horizontal"==this.scroll?i.style.marginBottom="-"+e.getElementSize(i).y/2+"px":i.style.marginLeft="-"+e.getElementSize(i).x/2+"px",!1}function o(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function a(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var l={};e.ReferenceStrip=function(c){var u,h,d,p=this,f=c.viewer,m=e.getElementSize(f.element);for(c.id||(c.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=c.id,this.element.className="referencestrip"),c=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},c,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,c),l[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(h=this.element.style).marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=f,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,t),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,s),exitHandler:e.delegate(this,r),keyDownHandler:e.delegate(this,o),keyHandler:e.delegate(this,a)}),c.width&&c.height?(this.element.style.width=c.width+"px",this.element.style.height=c.height+"px",f.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==c.scroll?(this.element.style.width=m.x*c.sizeRatio*f.tileSources.length+12*f.tileSources.length+"px",this.element.style.height=m.y*c.sizeRatio+"px",f.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=m.y*c.sizeRatio*f.tileSources.length+12*f.tileSources.length+"px",this.element.style.width=m.x*c.sizeRatio+"px",f.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=m.x*this.sizeRatio+8,this.panelHeight=m.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},d=0;d<f.tileSources.length;d++)(u=e.makeNeutralElement("div")).id=this.element.id+"-"+d,u.style.width=p.panelWidth+"px",u.style.height=p.panelHeight+"px",u.style.display="inline",u.style.float="left",u.style.cssFloat="left",u.style.styleFloat="left",u.style.padding="2px",e.setElementTouchActionNone(u),u.innerTracker=new e.MouseTracker({element:u,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var i=t.eventSource,n=i.element.id,s=Number(n.split("-")[2]),r=e.now();t.insideElementPressed&&t.insideElementReleased&&i.dragging&&r-i.dragging<i.clickTimeThreshold&&(i.dragging=null,f.goToPage(s))}}),this.element.appendChild(u),u.activePanel=!1,this.panels.push(u);n(this,"vertical"==this.scroll?m.y:m.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var i,r=e.getElement(this.element.id+"-"+t),o=e.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==r&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=r,this.currentSelected.style.background="#999","horizontal"==this.scroll?(i=Number(t)*(this.panelWidth+3))>c+o.x-this.panelWidth?(i=Math.min(i,a-o.x),this.element.style.marginLeft=-i+"px",n(this,o.x,-i)):i<c&&(i=Math.max(0,i-o.x/2),this.element.style.marginLeft=-i+"px",n(this,o.x,-i)):(i=Number(t)*(this.panelHeight+3))>u+o.y-this.panelHeight?(i=Math.min(i,l-o.y),this.element.style.marginTop=-i+"px",n(this,o.y,-i)):i<u&&(i=Math.max(0,i-o.y/2),this.element.style.marginTop=-i+"px",n(this,o.y,-i)),this.currentPage=t,s.call(this,{eventSource:this.innerTracker}))},update:function(){return!!l[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,i,n,s,r,o){e.Rect.apply(this,[t,i,n,s]),this.minLevel=r,this.maxLevel=o},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){function t(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}e.Spring=function(t){var i=arguments;"object"!=typeof t&&(t={initial:i.length&&"number"==typeof i[0]?i[0]:void 0,springStiffness:i.length>1?i[1].springStiffness:5,animationTime:i.length>1?i[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var i,n;this.current.time=e.now(),this._exponential?(i=this.start._logValue,n=this.target._logValue):(i=this.start.value,n=this.target.value);var s=this.current.time>=this.target.time?n:i+(n-i)*t(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),r=this.current.value;return this._exponential?this.current.value=Math.exp(s):this.current.value=s,r!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}function i(e,t,i){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),i(t.image,t.errorMsg,t.request)}t.prototype={errorMsg:null,start:function(){var t=this,i=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout(function(){t.errorMsg="Image load exceeded timeout",t.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var i;try{i=new window.Blob([e.response])}catch(t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&n){var s=new n;s.append(e.response),i=s.getBlob()}}0===i.size&&(t.errorMsg="Empty image response.",t.finish(!1));var r=(window.URL||window.webkitURL).createObjectURL(i);t.image.src=r},error:function(){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof i&&i()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var n=this,s=function(t){i(n,t,e.callback)},r=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:s,abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(r.start(),this.jobsInProgress++):this.jobQueue.push(r)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,i,n,s,r,o,a,l){this.level=e,this.x=t,this.y=i,this.bounds=n,this.exists=s,this.url=r,this.context2D=o,this.loadWithAjax=a,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,i,n,s){var r,o=this.position.times(e.pixelDensityRatio),a=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(r=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&r?(t.save(),t.globalAlpha=this.opacity,"number"==typeof n&&1!==n&&(o=o.times(n),a=a.times(n)),s instanceof e.Point&&(o=o.plus(s)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(o.x+1,o.y+1,a.x-2,a.y-2),i({context:t,tile:this,rendered:r}),t.drawImage(r.canvas,0,0,r.canvas.width,r.canvas.height,o.x,o.y,a.x,a.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,i,n){var s=Math.max(1,Math.ceil((n.x-i.x)/2)),r=Math.max(1,Math.ceil((n.y-i.y)/2));return new e.Point(s,r).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,i,n){var s;s=e.isPlainObject(t)?t:{element:t,location:i,placement:n},this.element=s.element,this.style=s.element.style,this._init(s)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,i){var n=e.Placement.properties[this.placement];n&&(n.isHorizontallyCentered?t.x-=i.x/2:n.isRight&&(t.x-=i.x),n.isVerticallyCentered?t.y-=i.y/2:n.isBottom&&(t.y-=i.y))},destroy:function(){var t=this.element,i=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(i.display="none",document.body.appendChild(t))),this.onDraw=null,i.top="",i.left="",i.position="",null!==this.width&&(i.width=""),null!==this.height&&(i.height="");var n=e.getCssPropertyWithVendorPrefix("transformOrigin"),s=e.getCssPropertyWithVendorPrefix("transform");n&&s&&(i[n]="",i[s]="")},drawHTML:function(t,i){var n=this.element;n.parentNode!==t&&(n.prevElementParent=n.parentNode,n.prevNextSibling=n.nextSibling,t.appendChild(n),this.style.position="absolute",this.size=e.getElementSize(n));var s=this._getOverlayPositionAndSize(i),r=s.position,o=this.size=s.size,a=s.rotate;if(this.onDraw)this.onDraw(r,o,this.element);else{var l=this.style;l.left=r.x+"px",l.top=r.y+"px",null!==this.width&&(l.width=o.x+"px"),null!==this.height&&(l.height=o.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(a?(l[c]=this._getTransformOrigin(),l[u]="rotate("+a+"deg)"):(l[c]="",l[u]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(t){var i=t.pixelFromPoint(this.location,!0),n=this._getSizeInPixels(t);this.adjust(i,n);var s=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var r=new e.Rect(i.x,i.y,n.x,n.y),o=this._getBoundingBox(r,t.degrees);i=o.getTopLeft(),n=o.getSize()}else s=t.degrees;return{position:i,size:n,rotate:s}},_getSizeInPixels:function(t){var i=this.size.x,n=this.size.y;if(null!==this.width||null!==this.height){var s=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(i=s.x),null!==this.height&&(n=s.y)}if(this.checkResize&&(null===this.width||null===this.height)){var r=this.size=e.getElementSize(this.element);null===this.width&&(i=r.x),null===this.height&&(n=r.y)}return new e.Point(i,n)},_getBoundingBox:function(e,t){var i=this._getPlacementPoint(e);return e.rotate(t,i).getBoundingBox()},_getPlacementPoint:function(t){var i=new e.Point(t.x,t.y),n=e.Placement.properties[this.placement];return n&&(n.isHorizontallyCentered?i.x+=t.width/2:n.isRight&&(i.x+=t.width),n.isVerticallyCentered?i.y+=t.height/2:n.isBottom&&(i.y+=t.height)),i},_getTransformOrigin:function(){var t="",i=e.Placement.properties[this.placement];return i?(i.isLeft?t="left":i.isRight&&(t="right"),i.isTop?t+=" top":i.isBottom&&(t+=" bottom"),t):t},update:function(t,i){var n=e.isPlainObject(t)?t:{location:t,placement:i};this._init({location:n.location||this.location,placement:void 0!==n.placement?n.placement:this.placement,onDraw:n.onDraw||this.onDraw,checkResize:n.checkResize||this.checkResize,width:void 0!==n.width?n.width:this.width,height:void 0!==n.height?n.height:this.height,rotationMode:n.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var i=this.width,n=this.height;if(null===i||null===n){var s=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===i&&(i=s.x),null===n&&(n=s.y)}var r=this.location.clone();return this.adjust(r,new e.Point(i,n)),this._adjustBoundsForRotation(t,new e.Rect(r.x,r.y,i,n))},_adjustBoundsForRotation:function(t,i){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return i;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return i;var n=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(n.position.x,n.position.y,n.size.x,n.size.y))}return i.rotate(-t.degrees,this._getPlacementPoint(i))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var i=arguments;if(e.isPlainObject(t)||(t={source:i[0],viewport:i[1],element:i[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,
this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var n=this._calculateCanvasSize();this.canvas.width=n.x,this.canvas.height=n.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},e.Drawer.prototype={addOverlay:function(t,i,n,s){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,i,n,s),this},updateOverlay:function(t,i,n){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,i,n),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var i=this.viewer.world,n=0;n<i.getItemCount();n++)i.getItemAt(n).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,i=0,n=0;n<t.getItemCount();n++){var s=t.getItemAt(n).getOpacity();s>i&&(i=s)}return i},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var i=this._getContext(e);if(t)i.clearRect(t.x,t.y,t.width,t.height);else{var n=i.canvas;i.clearRect(0,0,n.width,n.height)}}},viewportToDrawerRectangle:function(t){var i=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),n=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio,n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)},drawTile:function(t,i,n,s,r){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(i,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var o=this._getContext(n);s=s||1,t.drawCanvas(o,i,s,r)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var i=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=i.x,this.sketchCanvas.height=i.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var n=this;this.viewer.addHandler("rotate",function e(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler("rotate",e);var t=n._calculateSketchCanvasSize();n.sketchCanvas.width=t.x,n.sketchCanvas.height=t.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()}},drawRectangle:function(e,t,i){if(this.useCanvas){var n=this._getContext(i);n.save(),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height),n.restore()}},blendSketch:function(t,i,n,s){var r=t;if(e.isPlainObject(r)||(r={opacity:t,scale:i,translate:n,compositeOperation:s}),this.useCanvas&&this.sketchCanvas){t=r.opacity,s=r.compositeOperation;var o=r.bounds;if(this.context.save(),this.context.globalAlpha=t,s&&(this.context.globalCompositeOperation=s),o)o.x<0&&(o.width+=o.x,o.x=0),o.x+o.width>this.canvas.width&&(o.width=this.canvas.width-o.x),o.y<0&&(o.height+=o.y,o.y=0),o.y+o.height>this.canvas.height&&(o.height=this.canvas.height-o.y),this.context.drawImage(this.sketchCanvas,o.x,o.y,o.width,o.height,o.x,o.y,o.width,o.height);else{i=r.scale||1;var a=(n=r.translate)instanceof e.Point?n:new e.Point(0,0),l=0,c=0;if(n){var u=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,a.x-l*i,a.y-c*i,(this.canvas.width+2*l)*i,(this.canvas.height+2*c)*i,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,i,n,s){if(this.useCanvas){var r=this.viewer.world.getIndexOfItem(s)%this.debugGridColor.length,o=this.context;o.save(),o.lineWidth=2*e.pixelDensityRatio,o.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",o.strokeStyle=this.debugGridColor[r],o.fillStyle=this.debugGridColor[r],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),s.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:s.getRotation(!0),point:s.viewport.pixelFromPointNoRotate(s._getRotationPoint(!0),!0)}),o.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var a=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;o.translate(a,l),o.rotate(Math.PI/180*-this.viewport.degrees),o.translate(-a,-l),0===t.x&&0===t.y&&(o.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),o.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),o.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),o.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),o.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),o.fillText("Order: "+n+" of "+i,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),o.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),o.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),s.getRotation(!0)%360!=0&&this._restoreRotationChanges(),o.restore()}},debugRect:function(t){if(this.useCanvas){var i=this.context;i.save(),i.lineWidth=2*e.pixelDensityRatio,i.strokeStyle=this.debugGridColor[0],i.fillStyle=this.debugGridColor[0],i.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),i.restore()}},getCanvasSize:function(t){var i=this._getContext(t).canvas;return new e.Point(i.width,i.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var i=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),n=this._getContext(t.useSketch);n.save(),n.translate(i.x,i.y),n.rotate(Math.PI/180*t.degrees),n.translate(-i.x,-i.y)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,i=this.viewport.getContainerSize();return{x:i.x*t,y:i.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var i=arguments;i.length&&i[0]instanceof e.Point&&(t={containerSize:i[0],contentSize:i[1],config:i[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,i){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,i)},_setContentBounds:function(t,i){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(i),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(i),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:i,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),i=1/this.getHomeZoom(),n=i/this.getAspectRatio();return new e.Rect(t.x-i/2,t.y-n/2,i,n)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var i=this.getCenter(t),n=1/this.getZoom(t),s=n/this.getAspectRatio();return new e.Rect(i.x-n/2,i.y-s/2,n,s)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),i=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/i,t.y-=this._margins.top/i,t.width+=(this._margins.left+this._margins.right)/i,t.height+=(this._margins.top+this._margins.bottom)/i,t},getCenter:function(t){var i,n,s,r,o,a,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(i=this.pixelFromPoint(this.zoomPoint,!0),r=(s=1/(n=this.getZoom()))/this.getAspectRatio(),o=new e.Rect(l.x-s/2,l.y-r/2,s,r),a=this._pixelFromPoint(this.zoomPoint,o).minus(i).divide(this._containerInnerSize.x*n),c.plus(a)):c},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var i=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var n=this.visibilityRatio*i.width,s=i.x+i.width,r=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,o=this._contentBoundsNoRotate.x-s+n,a=r-i.x-n;n>this._contentBoundsNoRotate.width?i.x+=(o+a)/2:a<0?i.x+=a:o>0&&(i.x+=o)}if(this.wrapVertical);else{var l=this.visibilityRatio*i.height,c=i.y+i.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-c+l,d=u-i.y-l;l>this._contentBoundsNoRotate.height?i.y+=(h+d)/2:d<0?i.y+=d:h>0&&(i.y+=h)}return i},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),i=this._applyZoomConstraints(t);t!==i&&this.zoomTo(i,this.zoomPoint,e);var n=this.getBoundsNoRotate(),s=this._applyBoundaryConstraints(n);return this._raiseConstraintsEvent(e),(n.x!==s.x||n.y!==s.y||e)&&this.fitBounds(s.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,i){var n=(i=i||{}).immediately||!1,s=i.constraints||!1,r=this.getAspectRatio(),o=t.getCenter(),a=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=r?a.height=a.width/r:a.width=a.height*r,a.x=o.x-a.width/2,a.y=o.y-a.height/2;var l=1/a.width;if(s){var c=a.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,a.width=1/l,a.x=o.x-a.width/2,a.height=a.width/c,a.y=o.y-a.height/2),o=(a=this._applyBoundaryConstraints(a)).getCenter(),this._raiseConstraintsEvent(n)}if(n)return this.panTo(o,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,!0),this.panTo(o,n);var p=(a=a.rotate(-this.getRotation())).getTopLeft().times(l).minus(h.getTopLeft().times(d)).divide(l-d);return this.zoomTo(l,p,n)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var i=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(i,t)},fitHorizontally:function(t){var i=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(i,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,i){var n=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(t),i)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,i){return this.zoomTo(this.zoomSpring.target.value*e,t,i)},zoomTo:function(t,i,n){var s=this;return this.zoomPoint=i instanceof e.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,n?this._adjustCenterSpringsForZoomPoint(function(){s.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:i,immediately:n}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var i,n=this.getBoundsNoRotate(),s=n;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(i=e.x/this.containerSize.x,s.width=n.width*i,s.height=s.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(s,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var i=this.pixelFromPoint(this.zoomPoint,!0).minus(t),n=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,i){return t.minus(i.getTopLeft()).times(this._containerInnerSize.x/i.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,i){var n=this.getBoundsNoRotate(i);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,i){var n=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/n,i*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(t,i){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===n){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,i,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,i-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,i){var n=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*n,i/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(t,i){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===n){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,i,!0)}}var s=this._imageToViewportDelta(t,i);return s.x+=this._contentBoundsNoRotate.x,s.y+=this._contentBoundsNoRotate.y,s},imageToViewportRectangle:function(t,i,n,s){var r=t;if(r instanceof e.Rect||(r=new e.Rect(t,i,n,s)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===o){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,i,n,s,!0)}}var a=this.imageToViewportCoordinates(r.x,r.y),l=this._imageToViewportDelta(r.width,r.height);return new e.Rect(a.x,a.y,l.x,l.y,r.degrees)},viewportToImageRectangle:function(t,i,n,s){var r=t;if(r instanceof e.Rect||(r=new e.Rect(t,i,n,s)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===o){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,i,n,s,!0)}}var a=this.viewportToImageCoordinates(r.x,r.y),l=this._viewportToImageDelta(r.width,r.height);return new e.Rect(a.x,a.y,l.x,l.y,r.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(i)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===i){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var n=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/n*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===i){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)}}}(OpenSeadragon),function(e){function t(e,t,n,s,r,o,a,l,c){var u=a.getBoundingBox().getTopLeft(),h=a.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:s,opacity:r,visibility:o,drawArea:a,topleft:u,bottomright:h,currenttime:l,best:c}),d(e.coverage,s),d(e.loadingCoverage,s);for(var p=e._getCornerTiles(s,u,h),f=p.topLeft,m=p.bottomRight,g=e.source.getNumTiles(s),v=e.viewport.pixelFromPoint(e.viewport.getCenter()),_=f.x;_<=m.x;_++)for(var y=f.y;y<=m.y;y++){if(!e.wrapHorizontal&&!e.wrapVertical){var b=e.source.getTileBounds(s,_,y);if(null===a.intersection(b))continue}c=i(e,n,t,_,y,s,r,o,v,g,l,c)}return c}function i(e,t,i,s,r,c,d,f,m,g,v,_){var y=n(s,r,c,e,e.source,e.tilesMatrix,v,g,e._worldWidthCurrent,e._worldHeightCurrent),b=i;e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:y}),h(e.coverage,c,s,r,!1);var w=y.loaded||y.loading||u(e.loadingCoverage,c,s,r);if(h(e.loadingCoverage,c,s,r,w),!y.exists)return _;if(t&&!b&&(u(e.coverage,c,s,r)?h(e.coverage,c,s,r,!0):b=!0),!b)return _;if(a(y,e.source.tileOverlap,e.viewport,m,f,e),!y.loaded)if(y.context2D)o(e,y);else{var x=e._tileCache.getImageRecord(y.cacheKey);if(x)o(e,y,x.getImage())}y.loaded?l(e,y,s,r,c,d,v)&&(e._needsDraw=!0):y.loading?e._tilesLoading++:w||(_=p(_,y));return _}function n(t,i,n,s,r,o,a,l,c,u){var h,d,p,f,m,g,v,_;return o[n]||(o[n]={}),o[n][t]||(o[n][t]={}),o[n][t][i]||(h=(l.x+t%l.x)%l.x,d=(l.y+i%l.y)%l.y,p=r.getTileBounds(n,h,d),f=r.tileExists(n,h,d),m=r.getTileUrl(n,h,d),s.loadTilesWithAjax?(g=r.getTileAjaxHeaders(n,h,d),e.isPlainObject(s.ajaxHeaders)&&(g=e.extend({},s.ajaxHeaders,g))):g=null,v=r.getContext2D?r.getContext2D(n,h,d):void 0,p.x+=(t-h)/l.x,p.y+=u/c*((i-d)/l.y),_=new e.Tile(n,t,i,p,f,m,v,s.loadTilesWithAjax,g),h===l.x-1&&(_.isRightMost=!0),d===l.y-1&&(_.isBottomMost=!0),o[n][t][i]=_),(_=o[n][t][i]).lastTouchTime=a,_}function s(e,t,i){t.loading=!0,e._imageLoader.addJob({src:t.url,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.ajaxHeaders,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(n,s,o){r(e,t,i,n,s,o)},abort:function(){t.loading=!1}})}function r(t,i,n,s,r,a){if(s)if(n<t.lastResetTime)e.console.log("Ignoring tile %s loaded before reset: %s",i,i.url),i.loading=!1;else{var l=function(){var e=t.source.getClosestLevel();o(t,i,s,e,a)};t._midDraw?window.setTimeout(l,1):l()}else e.console.log("Tile %s failed to load: %s - error: %s",i,i.url,r),t.viewer.raiseEvent("tile-load-failed",{tile:i,tiledImage:t,time:n,message:r,tileRequest:a}),i.loading=!1,i.exists=!1}function o(e,t,i,n,s){function r(){return a++,o}function o(){0===--a&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:i,tile:t,cutoff:n,tiledImage:e}),e._needsDraw=!0)}var a=0;e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:s,image:i,getCompletionCallback:r}),r()()}function a(t,i,n,s,r,o){var a=t.bounds.getTopLeft();a.x*=o._scaleSpring.current.value,a.y*=o._scaleSpring.current.value,a.x+=o._xSpring.current.value,a.y+=o._ySpring.current.value;var l=t.bounds.getSize();l.x*=o._scaleSpring.current.value,l.y*=o._scaleSpring.current.value;var c=n.pixelFromPointNoRotate(a,!0),u=n.pixelFromPointNoRotate(a,!1),h=n.deltaPixelsFromPointsNoRotate(l,!0),d=n.deltaPixelsFromPointsNoRotate(l,!1),p=u.plus(d.divide(2)),f=s.squaredDistanceTo(p);i||(h=h.plus(new e.Point(1,1))),t.isRightMost&&o.wrapHorizontal&&(h.x+=.75),t.isBottomMost&&o.wrapVertical&&(h.y+=.75),t.position=c,t.size=h,t.squaredDistance=f,t.visibility=r}function l(e,t,i,n,s,r,o){var a,l,c=1e3*e.blendTime;if(t.blendStart||(t.blendStart=o),a=o-t.blendStart,l=c?Math.min(1,a/c):1,e.alwaysBlend&&(l*=r),t.opacity=l,e.lastDrawn.push(t),1==l)h(e.coverage,s,i,n,!0),e._hasOpaqueTile=!0;else if(a<c)return!0;return!1}function c(e,t,i,n){var s,r,o,a;if(!e[t])return!1;if(void 0===i||void 0===n){for(o in s=e[t])if(s.hasOwnProperty(o))for(a in r=s[o])if(r.hasOwnProperty(a)&&!r[a])return!1;return!0}return void 0===e[t][i]||void 0===e[t][i][n]||!0===e[t][i][n]}function u(e,t,i,n){return void 0===i||void 0===n?c(e,t+1):c(e,t+1,2*i,2*n)&&c(e,t+1,2*i,2*n+1)&&c(e,t+1,2*i+1,2*n)&&c(e,t+1,2*i+1,2*n+1)}function h(t,i,n,s,r){t[i]?(t[i][n]||(t[i][n]={}),t[i][n][s]=r):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",i)}function d(e,t){e[t]={}}function p(e,t){return e?t.visibility>e.visibility?t:t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance?t:e:t}function f(t,i){if(0!==t.opacity&&(0!==i.length||t.placeholderFillStyle)){var n,s,r,o=i[0];o&&(n=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&o._hasTransparencyChannel());var a,l=t.viewport.getZoom(!0),c=t.viewportToImageZoom(l);i.length>1&&c>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(n=!0,s=o.getScaleForEdgeSmoothing(),r=o.getTranslationForEdgeSmoothing(s,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0))),n&&(s||(a=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio)),t._drawer._clear(!0,a)),s||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:n}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:n}));var u=!1;if(t._clip){t._drawer.saveContext(n);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=t._drawer.viewportToDrawerRectangle(h);s&&(d=d.times(s)),r&&(d=d.translate(r)),t._drawer.setClip(d,n),u=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var p=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));s&&(p=p.times(s)),r&&(p=p.translate(r));var f=null;f="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(p,f,n)}for(var g=i.length-1;g>=0;g--)o=i[g],t._drawer.drawTile(o,t._drawingHandler,n,s,r),o.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:o});u&&t._drawer.restoreContext(n),s||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(n),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(n)),n&&(s&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:s,translate:r,compositeOperation:t.compositeOperation,bounds:a}),s&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1))),m(t,i)}}function m(t,i){if(t.debugMode)for(var n=i.length-1;n>=0;n--){var s=i[n];try{t._drawer.drawDebugInfo(s,i.length,n,t)}catch(t){e.console.error(t)}}}e.TiledImage=function(t){var i=this
;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var n=t.x||0;delete t.x;var s=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var r=1;t.width?(r=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(r=t.height/this.normHeight,delete t.height);var o=t.fitBounds;delete t.fitBounds;var a=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var l=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,a,!0),this._drawingHandler=function(t){i.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:i},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),i=this._scaleSpring.update(),n=this._degreesSpring.update();return!!(e||t||i||n)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){(0!==this.opacity||this._preload)&&(this._midDraw=!0,this._updateViewport(),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var i=this.getBoundsNoRotate(t);if(this._clip){var n=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,s=this._clip.times(n);i=new e.Rect(i.x+s.x,i.y+s.y,s.width,s.height)}return i.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,i,n){var s=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/s),i*(this.source.dimensions.y*this.contentAspectX/s))},viewportToImageCoordinates:function(t,i,n){var s;return t instanceof e.Point?(n=i,s=t):s=new e.Point(t,i),s=s.rotate(-this.getRotation(n),this._getRotationPoint(n)),n?this._viewportToImageDelta(s.x-this._xSpring.current.value,s.y-this._ySpring.current.value):this._viewportToImageDelta(s.x-this._xSpring.target.value,s.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,i,n){var s=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*s,i/this.source.dimensions.y/this.contentAspectX*s)},imageToViewportCoordinates:function(t,i,n){t instanceof e.Point&&(n=i,i=t.y,t=t.x);var s=this._imageToViewportDelta(t,i);return n?(s.x+=this._xSpring.current.value,s.y+=this._ySpring.current.value):(s.x+=this._xSpring.target.value,s.y+=this._ySpring.target.value),s.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(t,i,n,s,r){var o=t;o instanceof e.Rect?r=i:o=new e.Rect(t,i,n,s);var a=this.imageToViewportCoordinates(o.getTopLeft(),r),l=this._imageToViewportDelta(o.width,o.height,r);return new e.Rect(a.x,a.y,l.x,l.y,o.degrees+this.getRotation(r))},viewportToImageRectangle:function(t,i,n,s,r){var o=t;t instanceof e.Rect?r=i:o=new e.Rect(t,i,n,s);var a=this.viewportToImageCoordinates(o.getTopLeft(),r),l=this._viewportToImageDelta(o.width,o.height,r);return new e.Rect(a.x,a.y,l.x,l.y,o.degrees-this.getRotation(r))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var i=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/i,(t.y-this._ySpring.current.value)/i,t.width/i,t.height/i,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var i=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(i&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(i)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}i||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,i,n){i=i||e.Placement.CENTER;var s=e.Placement.properties[i],r=this.contentAspectX,o=0,a=0,l=1,c=1;if(this._clip&&(r=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>r?(o=this._clip.x/this._clip.height*t.height,a=this._clip.y/this._clip.height*t.height):(o=this._clip.x/this._clip.width*t.width,a=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>r){var u=t.height/c,h=0;s.isHorizontallyCentered?h=(t.width-t.height*r)/2:s.isRight&&(h=t.width-t.height*r),this.setPosition(new e.Point(t.x-o+h,t.y-a),n),this.setHeight(u,n)}else{var d=t.width/l,p=0;s.isVerticallyCentered?p=(t.height-t.width/r)/2:s.isBottom&&(p=t.height-t.width/r),this.setPosition(new e.Point(t.x-o,t.y-a+p),n),this.setWidth(d,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var i=this._scaleSpring.target.value===e;if(t){if(i&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(i)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}i||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,i=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return{lowestLevel:e=Math.min(e,i),highestLevel:i}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var i=this.viewport,n=this._viewportToTiledImageRectangle(i.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var r=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(n=n.intersection(r)))return}for(var o=this._getLevelsInterval(),a=o.lowestLevel,l=o.highestLevel,u=null,h=!1,d=e.now(),p=l;p>=a;p--){var m=!1,g=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(p),!0).x*this._scaleSpring.current.value;if(p===a||!h&&g>=this.minPixelRatio)m=!0,h=!0;else if(!h)continue;var v=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(p),!1).x*this._scaleSpring.current.value,_=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,y=this.immediateRender?1:_;if(u=t(this,h,m,p,Math.min(1,(g-.5)/.5),y/Math.abs(y-v),n,d,u),c(this.coverage,p))break}f(this,this.lastDrawn),u&&!u.context2D?(s(this,u,d),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,i,n){var s,r,o,a;this.wrapHorizontal?(s=e.positiveModulo(i.x,1),r=e.positiveModulo(n.x,1)):(s=Math.max(0,i.x),r=Math.min(1,n.x));var l=1/this.source.aspectRatio;this.wrapVertical?(o=e.positiveModulo(i.y,l),a=e.positiveModulo(n.y,l)):(o=Math.max(0,i.y),a=Math.min(l,n.y));var c=this.source.getTileAtPoint(t,new e.Point(s,o)),u=this.source.getTileAtPoint(t,new e.Point(r,a)),h=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=h.x*Math.floor(i.x),u.x+=h.x*Math.floor(n.x)),this.wrapVertical&&(c.y+=h.y*Math.floor(i.y/l),u.y+=h.y*Math.floor(n.y/l)),{topLeft:c,bottomRight:u}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},i=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};i.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var i=0;i<this._tiles.length;i++)if(this._tiles[i]===t)return void this._tiles.splice(i,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(n){e.console.assert(n,"[TileCache.cacheTile] options is required"),e.console.assert(n.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(n.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(n.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var s=n.cutoff||0,r=this._tilesLoaded.length,o=this._imagesLoaded[n.tile.cacheKey];if(o||(e.console.assert(n.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),o=this._imagesLoaded[n.tile.cacheKey]=new i({image:n.image}),this._imagesLoadedCount++),o.addTile(n.tile),n.tile.cacheImageRecord=o,this._imagesLoadedCount>this._maxImageCacheCount){for(var a,l,c,u,h,d,p=null,f=-1,m=null,g=this._tilesLoaded.length-1;g>=0;g--)(a=(d=this._tilesLoaded[g]).tile).level<=s||a.beingDrawn||(p?(u=a.lastTouchTime,l=p.lastTouchTime,h=a.level,c=p.level,(u<l||u==l&&h>c)&&(p=a,f=g,m=d)):(p=a,f=g,m=d));p&&f>=0&&(this._unloadTile(m),r=f)}this._tilesLoaded[r]=new t({tile:n.tile,tiledImage:n.tiledImage})},clearTilesFor:function(t){var i;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n=0;n<this._tilesLoaded.length;++n)(i=this._tilesLoaded[n]).tiledImage===t&&(this._unloadTile(i),this._tilesLoaded.splice(n,1),n--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var i=t.tile,n=t.tiledImage;i.unload(),i.cacheImageRecord=null;var s=this._imagesLoaded[i.cacheKey];s.removeTile(i),s.getTileCount()||(s.destroy(),delete this._imagesLoaded[i.cacheKey],this._imagesLoadedCount--),n.viewer.raiseEvent("tile-unloaded",{tile:i,tiledImage:n})}}}(OpenSeadragon),function(e){e.World=function(t){var i=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(){i._autoRefigureSizes?i._figureSizes():i._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,i){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(i=i||{}).index){var n=Math.max(0,Math.min(this._items.length,i.index));this._items.splice(n,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,i){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==i,"[World.setItemIndex] index is required");var n=this.getIndexOfItem(t);if(i>=this._items.length)throw new Error("Index bigger than number of layers.");i!==n&&-1!==n&&(this._items.splice(n,1),this._items.splice(i,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:n,newIndex:i}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var i=e.indexOf(this._items,t);-1!==i&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(i,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var i=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<i.length;t++)e=i[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var i,n=(t=t||{}).immediately||!1,s=t.layout||e.DEFAULT_SETTINGS.collectionLayout,r=t.rows||e.DEFAULT_SETTINGS.collectionRows,o=t.columns||e.DEFAULT_SETTINGS.collectionColumns,a=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=a+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);i=!t.rows&&o?o:Math.ceil(this._items.length/r);var c,u,h,d,p,f=0,m=0;this.setAutoRefigureSizes(!1);for(var g=0;g<this._items.length;g++)g&&g%i==0&&("horizontal"===s?(m+=l,f=0):(f+=l,m=0)),d=(h=(u=(c=this._items[g]).getBounds()).width>u.height?a:a*(u.width/u.height))*(u.height/u.width),p=new e.Point(f+(a-h)/2,m+(a-d)/2),c.setPosition(p,n),c.setWidth(h,n),"horizontal"===s?f+=l:m+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,i=this._contentSize?this._contentSize.clone():null,n=this._contentFactor||0;if(this._items.length){var s=this._items[0],r=s.getBounds();this._contentFactor=s.getContentSize().x/r.width;for(var o=s.getClippedBounds().getBoundingBox(),a=o.x,l=o.y,c=o.x+o.width,u=o.y+o.height,h=1;h<this._items.length;h++)r=(s=this._items[h]).getBounds(),this._contentFactor=Math.max(this._contentFactor,s.getContentSize().x/r.width),o=s.getClippedBounds().getBoundingBox(),a=Math.min(a,o.x),l=Math.min(l,o.y),c=Math.max(c,o.x+o.width),u=Math.max(u,o.y+o.height);this._homeBounds=new e.Rect(a,l,c-a,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===n&&this._homeBounds.equals(t)&&this._contentSize.equals(i)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon),function(e){function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){(n(e,t)?r:s)(e,t)}var n,s,r;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},r=function(e,t){e.classList.remove(t)}):(n=function(e,i){return t(i).test(e.className)},s=function(e,t){n(e,t)||(e.className=e.className+" "+t)},r=function(e,i){e.className=e.className.replace(t(i)," ")});var o={hasClass:n,addClass:s,removeClass:r,toggleClass:i,has:n,add:s,remove:r,toggle:i};"function"==typeof define&&define.amd?define("classie/classie",o):"object"==typeof exports?module.exports=o:e.classie=o}(window),function(e,t){"function"==typeof define&&define.amd?define("packery/js/rect",t):"object"==typeof exports?module.exports=t():(e.Packery=e.Packery||{},e.Packery.Rect=t())}(window,function(){function e(t){for(var i in e.defaults)this[i]=e.defaults[i];for(i in t)this[i]=t[i]}return(window.Packery=function(){}).Rect=e,e.defaults={x:0,y:0,width:0,height:0},e.prototype.contains=function(e){var t=e.width||0,i=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+t&&this.y+this.height>=e.y+i},e.prototype.overlaps=function(e){var t=this.x+this.width,i=this.y+this.height,n=e.x+e.width,s=e.y+e.height;return this.x<n&&t>e.x&&this.y<s&&i>e.y},e.prototype.getMaximalFreeRects=function(t){if(!this.overlaps(t))return!1;var i,n=[],s=this.x+this.width,r=this.y+this.height,o=t.x+t.width,a=t.y+t.height;return this.y<t.y&&(i=new e({x:this.x,y:this.y,width:this.width,height:t.y-this.y}),n.push(i)),s>o&&(i=new e({x:o,y:this.y,width:s-o,height:this.height}),n.push(i)),r>a&&(i=new e({x:this.x,y:a,width:this.width,height:r-a}),n.push(i)),this.x<t.x&&(i=new e({x:this.x,y:this.y,width:t.x-this.x,height:this.height}),n.push(i)),n},e.prototype.canFit=function(e){return this.width>=e.width&&this.height>=e.height},e}),function(e,t){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],t);else if("object"==typeof exports)module.exports=t(require("./rect"));else{var i=e.Packery=e.Packery||{};i.Packer=t(i.Rect)}}(window,function(e){function t(e,t,i){this.width=e||0,this.height=t||0,this.sortDirection=i||"downwardLeftToRight",this.reset()}t.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var t=new e({x:0,y:0,width:this.width,height:this.height});this.spaces.push(t),this.sorter=i[this.sortDirection]||i.downwardLeftToRight},t.prototype.pack=function(e){for(var t=0,i=this.spaces.length;i>t;t++){var n=this.spaces[t];if(n.canFit(e)){this.placeInSpace(e,n);break}}},t.prototype.placeInSpace=function(e,t){e.x=t.x,e.y=t.y,this.placed(e)},t.prototype.placed=function(e){for(var t=[],i=0,n=this.spaces.length;n>i;i++){var s=this.spaces[i],r=s.getMaximalFreeRects(e);r?t.push.apply(t,r):t.push(s)}this.spaces=t,this.mergeSortSpaces()},t.prototype.mergeSortSpaces=function(){t.mergeRects(this.spaces),this.spaces.sort(this.sorter)},t.prototype.addSpace=function(e){this.spaces.push(e),this.mergeSortSpaces()},t.mergeRects=function(e){for(var t=0,i=e.length;i>t;t++){var n=e[t];if(n){var s=e.slice(0);s.splice(t,1);for(var r=0,o=0,a=s.length;a>o;o++){var l=s[o],c=t>o?0:1;n.contains(l)&&(e.splice(o+c-r,1),r++)}}}return e};var i={downwardLeftToRight:function(e,t){return e.y-t.y||e.x-t.x},rightwardTopToBottom:function(e,t){return e.x-t.x||e.y-t.y}};return t}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],t):"object"==typeof exports?module.exports=t(require("desandro-get-style-property"),require("outlayer"),require("./rect")):e.Packery.Item=t(e.getStyleProperty,e.Outlayer,e.Packery.Rect)}(window,function(e,t,i){var n=e("transform"),s=function(){t.Item.apply(this,arguments)};s.prototype=new t.Item;var r=s.prototype._create;return s.prototype._create=function(){r.call(this),this.rect=new i,this.placeRect=new i},s.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&n&&(this.element.style[n]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.isTransitioning=!1,this.didDrag=!1},s.prototype.dragMove=function(e,t){this.didDrag=!0;var i=this.layout.size;e-=i.paddingLeft,t-=i.paddingTop,this.positionPlaceRect(e,t)},s.prototype.dragStop=function(){this.getPosition();var e=this.position.x!=this.placeRect.x,t=this.position.y!=this.placeRect.y;this.needsPositioning=e||t,this.didDrag=!1},s.prototype.positionPlaceRect=function(e,t,i){this.placeRect.x=this.getPlaceRectCoord(e,!0),this.placeRect.y=this.getPlaceRectCoord(t,!1,i)},s.prototype.getPlaceRectCoord=function(e,t,i){var n,s=t?"Width":"Height",r=this.size["outer"+s],o=this.layout[t?"columnWidth":"rowHeight"],a=this.layout.size["inner"+s];if(t||(a=Math.max(a,this.layout.maxY),this.layout.rowHeight||(a-=this.layout.gutter)),o){var l;o+=this.layout.gutter,a+=t?this.layout.gutter:0,e=Math.round(e/o),l=this.layout.options.isHorizontal?t?"ceil":"floor":t?"floor":"ceil";var c=Math[l](a/o);n=c-=Math.ceil(r/o)}else n=a-r;return e=i?e:Math.min(e,n),e*=o||1,Math.max(0,e)},s.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},s}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],t):"object"==typeof exports?module.exports=t(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):e.Packery=t(e.classie,e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)}(window,function(e,t,i,n,s,r){function o(e,t){return e.position.y-t.position.y||e.position.x-t.position.x}function a(e,t){return e.position.x-t.position.x||e.position.y-t.position.y}n.prototype.canFit=function(e){return this.width>=e.width-1&&this.height>=e.height-1};var l=i.create("packery");return l.Item=r,l.prototype._create=function(){i.prototype._create.call(this),this.packer=new s,this.stamp(this.options.stamped);var e=this;this.handleDraggabilly={dragStart:function(){e.itemDragStart(this.element)},dragMove:function(){e.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){e.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(t){e.itemDragStart(t.currentTarget)},drag:function(t,i){e.itemDragMove(t.currentTarget,i.position.left,i.position.top)},stop:function(t){e.itemDragEnd(t.currentTarget)}}},l.prototype._resetLayout=function(){this.getSize(),this._getMeasurements();var e=this.packer;this.options.isHorizontal?(e.width=Number.POSITIVE_INFINITY,e.height=this.size.innerHeight+this.gutter,e.sortDirection="rightwardTopToBottom"):(e.width=this.size.innerWidth+this.gutter,e.height=Number.POSITIVE_INFINITY,e.sortDirection="downwardLeftToRight"),e.reset(),this.maxY=0,this.maxX=0},l.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},l.prototype._getItemLayoutPosition=function(e){return this._packItem(e),e.rect},l.prototype._packItem=function(e){this._setRectSize(e.element,e.rect),this.packer.pack(e.rect),this._setMaxXY(e.rect)},l.prototype._setMaxXY=function(e){this.maxX=Math.max(e.x+e.width,this.maxX),this.maxY=Math.max(e.y+e.height,this.maxY)},l.prototype._setRectSize=function(e,i){var n=t(e),s=n.outerWidth,r=n.outerHeight;(s||r)&&(s=this._applyGridGutter(s,this.columnWidth),r=this._applyGridGutter(r,this.rowHeight)),i.width=Math.min(s,this.packer.width),i.height=Math.min(r,this.packer.height)},l.prototype._applyGridGutter=function(e,t){if(!t)return e+this.gutter;var i=e%(t+=this.gutter);return Math[i&&1>i?"round":"ceil"](e/t)*t},l.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},l.prototype._manageStamp=function(e){var t,i=this.getItem(e);if(i&&i.isPlacing)t=i.placeRect;else{var s=this._getElementOffset(e);t=new n({x:this.options.isOriginLeft?s.left:s.right,y:this.options.isOriginTop?s.top:s.bottom})}this._setRectSize(e,t),this.packer.placed(t),this._setMaxXY(t)},l.prototype.sortItemsByPosition=function(){var e=this.options.isHorizontal?a:o;this.items.sort(e)},l.prototype.fit=function(e,t,i){var n=this.getItem(e);n&&(this._getMeasurements(),this.stamp(n.element),n.getSize(),n.isPlacing=!0,t=void 0===t?n.rect.x:t,i=void 0===i?n.rect.y:i,n.positionPlaceRect(t,i,!0),this._bindFitEvents(n),n.moveTo(n.placeRect.x,n.placeRect.y),this.layout(),this.unstamp(n.element),this.sortItemsByPosition(),n.isPlacing=!1,n.copyPlaceRectPosition())},l.prototype._bindFitEvents=function(e){function t(){2==++n&&i.emitEvent("fitComplete",[e])}var i=this,n=0;e.on("layout",function(){return t(),!0}),this.on("layoutComplete",function(){return t(),!0})},l.prototype.resize=function(){var e=t(this.element),i=this.size&&e,n=this.options.isHorizontal?"innerHeight":"innerWidth";i&&e[n]==this.size[n]||this.layout()},l.prototype.itemDragStart=function(e){this.stamp(e);var t=this.getItem(e);t&&t.dragStart()},l.prototype.itemDragMove=function(e,t,i){function n(){r.layout(),delete r.dragTimeout}var s=this.getItem(e);s&&s.dragMove(t,i);var r=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(n,40)},l.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},l.prototype.itemDragEnd=function(t){var i,n=this.getItem(t);if(n&&(i=n.didDrag,n.dragStop()),n&&(i||n.needsPositioning)){e.add(n.element,"is-positioning-post-drag");var s=this._getDragEndLayoutComplete(t,n);n.needsPositioning?(n.on("layout",s),n.moveTo(n.placeRect.x,n.placeRect.y)):n&&n.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",s),this.layout()}else this.unstamp(t)},l.prototype._getDragEndLayoutComplete=function(t,i){var n=i&&i.needsPositioning,s=0,r=n?2:1,o=this;return function(){return++s!=r||(i&&(e.remove(i.element,"is-positioning-post-drag"),i.isPlacing=!1,i.copyPlaceRectPosition()),o.unstamp(t),o.sortItemsByPosition(),n&&o.emitEvent("dragItemPositioned",[i]),!0)}},l.prototype.bindDraggabillyEvents=function(e){e.on("dragStart",this.handleDraggabilly.dragStart),e.on("dragMove",this.handleDraggabilly.dragMove),e.on("dragEnd",this.handleDraggabilly.dragEnd)},l.prototype.bindUIDraggableEvents=function(e){e.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},l.Rect=n,l.Packer=s,l}),function(e,t){"function"==typeof define&&define.amd?define(["isotope/js/layout-mode","packery/js/packery","get-size/get-size"],t):"object"==typeof exports?module.exports=t(require("isotope-layout/js/layout-mode"),require("packery"),require("get-size")):t(e.Isotope.LayoutMode,e.Packery,e.getSize)}(window,function(e,t,i){function n(e,t){for(var i in t)e[i]=t[i];return e}var s=e.create("packery"),r=s.prototype._getElementOffset,o=s.prototype._getMeasurement;n(s.prototype,t.prototype),s.prototype._getElementOffset=r,s.prototype._getMeasurement=o;var a=s.prototype._resetLayout;s.prototype._resetLayout=function(){this.packer=this.packer||new t.Packer,a.apply(this,arguments)};var l=s.prototype._getItemLayoutPosition;s.prototype._getItemLayoutPosition=function(e){return e.rect=e.rect||new t.Rect,l.call(this,e)}
;var c=s.prototype._manageStamp;return s.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,c.apply(this,arguments)},s.prototype.needsResizeLayout=function(){var e=i(this.element),t=this.size&&e,n=this.options.isHorizontal?"innerHeight":"innerWidth";return t&&e[n]!=this.size[n]},s}),
/**
 * Equal Heights Plugin
 * Equalize the heights of elements. Great for columns or any elements
 * that need to be the same size (floats, etc).
 * 
 * Version 1.0
 * Updated 12/10/2008
 *
 * Copyright (c) 2008 Rob Glazebrook (cssnewbie.com) 
 *
 * Usage: $(object).equalHeights([minHeight], [maxHeight]);
 * 
 * Example 1: $(".cols").equalHeights(); Sets all columns to the same height.
 * Example 2: $(".cols").equalHeights(400); Sets all cols to at least 400px tall.
 * Example 3: $(".cols").equalHeights(100,300); Cols are at least 100 but no more
 * than 300 pixels tall. Elements with too much content will gain a scrollbar.
 * 
 * customised by Jody Hughes 10/30/2013
 */
function(e){e.fn.equalHeights=function(t,i){return tallest=t||0,this.each(function(){e(this).outerHeight()>tallest&&(tallest=e(this).outerHeight())}),i&&tallest>i&&(tallest=i),this.each(function(){e(this).css({"min-height":tallest})})}}(jQuery),function(e){e.fn.unequalHeights=function(){this.each(function(){e(this).css({"min-height":0})})}}(jQuery),
/*! viewportSize | Author: Tyson Matanich, 2013 | License: MIT */
function(e){e.viewportSize={},e.viewportSize.getHeight=function(){return t("Height")},e.viewportSize.getWidth=function(){return t("Width")};var t=function(t){var i,n,s,r=t.toLowerCase(),o=e.document,a=o.documentElement;return e["inner"+t]===undefined?i=a["client"+t]:e["inner"+t]!=a["client"+t]?((n=o.createElement("body")).id="vpw-test-b",n.style.cssText="overflow:scroll",(s=o.createElement("div")).id="vpw-test-d",s.style.cssText="position:absolute;top:-1000px",s.innerHTML="<style>@media("+r+":"+a["client"+t]+"px){body#vpw-test-b div#vpw-test-d{"+r+":7px!important}}</style>",n.appendChild(s),a.insertBefore(n,o.head),i=7==s["offset"+t]?a["client"+t]:e["inner"+t],a.removeChild(n)):i=e["inner"+t],i}}(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery.sammy=window.Sammy=e(jQuery)}(function(t){var i,n="([^/]+)",s=/:([\w\d]+)/g,r=/\?([^#]*)?$/,o=function(e){return Array.prototype.slice.call(e)},a=function(e){return"[object Function]"===Object.prototype.toString.call(e)},l=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},u=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},h=encodeURIComponent,d=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return function(){return this.route.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}},f={},m=!(!window.history||!history.pushState),g=[];return(i=function(){var e,n,s=o(arguments);return i.apps=i.apps||{},0===s.length||s[0]&&a(s[0])?i.apply(i,["body"].concat(s)):"string"==typeof(n=s.shift())?((e=i.apps[n]||new i.Application).element_selector=n,s.length>0&&t.each(s,function(t,i){e.use(i)}),e.element_selector!=n&&delete i.apps[n],i.apps[e.element_selector]=e,e):void 0}).VERSION="0.7.6",i.addLogger=function(e){g.push(e)},i.log=function(){var e=o(arguments);e.unshift("["+Date()+"]"),t.each(g,function(t,n){n.apply(i,e)})},"undefined"!=typeof window.console?"function"==typeof window.console.log&&a(window.console.log.apply)?i.addLogger(function(){window.console.log.apply(window.console,arguments)}):i.addLogger(function(){window.console.log(arguments)}):"undefined"!=typeof console&&i.addLogger(function(){console.log.apply(console,arguments)}),t.extend(i,{makeArray:o,isFunction:a,isArray:l}),i.Object=function(e){return t.extend(this,e||{})},t.extend(i.Object.prototype,{escapeHTML:d,h:d,toHash:function(){var e={};return t.each(this,function(t,i){a(i)||(e[t]=i)}),e},toHTML:function(){var e="";return t.each(this,function(t,i){a(i)||(e+="<strong>"+t+"</strong> "+i+"<br />")}),e},keys:function(e){var t=[];for(var i in this)a(this[i])&&e||t.push(i);return t},has:function(e){return this[e]&&""!==t.trim(this[e].toString())},join:function(){var e=o(arguments),t=e.shift();return e.join(t)},log:function(){i.log.apply(i,arguments)},toString:function(e){var i=[];return t.each(this,function(t,n){a(n)&&!e||i.push('"'+t+'": '+n.toString())}),"Sammy.Object: {"+i.join(",")+"}"}}),i.targetIsThisWindow=function(e,i){var n=t(e.target).closest(i);if(0===n.length)return!0;var s=n.attr("target");return!s||s===window.name||"_self"===s||"_blank"!==s&&("top"===s&&window===window.top)},i.DefaultLocationProxy=function(e,t){this.app=e,this.is_native=!1,this.has_history=m,this._startPolling(t)},i.DefaultLocationProxy.fullPath=function(e){var t=e.toString().match(/^[^#]*(#.+)$/),i=t?t[1]:"";return[e.pathname,e.search,i].join("")},t.extend(i.DefaultLocationProxy.prototype,{bind:function(){var e=this,n=this.app,s=i.DefaultLocationProxy;t(window).bind("hashchange."+this.app.eventNamespace(),function(t,i){!1!==e.is_native||i||(e.is_native=!0,window.clearInterval(s._interval),s._interval=null),n.trigger("location-changed")}),m&&!n.disable_push_state&&(t(window).bind("popstate."+this.app.eventNamespace(),function(){n.trigger("location-changed")}),t(document).delegate("a","click.history-"+this.app.eventNamespace(),function(t){if(!(t.isDefaultPrevented()||t.metaKey||t.ctrlKey)){var r,o,a=s.fullPath(this);return(this.hostname?this.hostname:(r=this,(o=document.createElement("a")).href=r.href,o.hostname))==window.location.hostname&&n.lookupRoute("get",a)&&i.targetIsThisWindow(t,"a")?(t.preventDefault(),e.setLocation(a),!1):void 0}})),s._bindings||(s._bindings=0),s._bindings++},unbind:function(){t(window).unbind("hashchange."+this.app.eventNamespace()),t(window).unbind("popstate."+this.app.eventNamespace()),t(document).undelegate("a","click.history-"+this.app.eventNamespace()),i.DefaultLocationProxy._bindings--,i.DefaultLocationProxy._bindings<=0&&(window.clearInterval(i.DefaultLocationProxy._interval),i.DefaultLocationProxy._interval=null)},getLocation:function(){return i.DefaultLocationProxy.fullPath(window.location)},setLocation:function(e){if(/^([^#\/]|$)/.test(e)&&(e=m&&!this.app.disable_push_state?"/"+e:"#!/"+e),e!=this.getLocation()){if(!m||this.app.disable_push_state||!/^\//.test(e))return window.location=e;history.pushState({path:e},window.title,e),this.app.trigger("location-changed")}},_startPolling:function(e){var n=this;if(!i.DefaultLocationProxy._interval){e||(e=10);var s=function(){var e=n.getLocation();"undefined"!=typeof i.DefaultLocationProxy._last_location&&e==i.DefaultLocationProxy._last_location||window.setTimeout(function(){t(window).trigger("hashchange",[!0])},0),i.DefaultLocationProxy._last_location=e};s(),i.DefaultLocationProxy._interval=window.setInterval(s,e)}}}),i.Application=function(e){var t=this;this.routes={},this.listeners=new i.Object({}),this.arounds=[],this.befores=[],this.namespace=(new Date).getTime()+"-"+parseInt(1e3*Math.random(),10),this.context_prototype=function(){i.EventContext.apply(this,arguments)},this.context_prototype.prototype=new i.EventContext,a(e)&&e.apply(this,[this]),this._location_proxy||this.setLocationProxy(new i.DefaultLocationProxy(this,this.run_interval_every)),this.debug&&this.bindToAllEvents(function(e,i){t.log(t.toString(),e.cleaned_type,i||{})})},i.Application.prototype=t.extend({},i.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(e){return e?t(this.element_selector).find(e):t(this.element_selector)},use:function(){var t=o(arguments),n=t.shift(),s=n||"";try{t.unshift(this),"string"==typeof n&&(s="Sammy."+n,n=i[n]),n.apply(this,t)}catch(e){void 0===n?this.error("Plugin Error: called use() but plugin ("+s.toString()+") is not defined",e):a(n)?this.error("Plugin Error",e):this.error("Plugin Error: called use() but '"+s.toString()+"' is not a function",e)}return this},setLocationProxy:function(e){var t=this._location_proxy;this._location_proxy=e,this.isRunning()&&(t&&t.unbind(),this._location_proxy.bind())},log:function(){i.log.apply(i,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(e,i){var r,o,l=this,c=[],u=Array.prototype.slice.call(arguments,2);if(0===u.length&&a(i)&&(u=[i],i=e,e="any"),e=e.toLowerCase(),i.constructor==String){for(s.lastIndex=0;null!==(o=s.exec(i));)c.push(o[1]);i=new RegExp(i.replace(s,n)+"$")}return t.each(u,function(e,t){"string"==typeof t&&(u[e]=l[t])}),r=function(e){var t={verb:e,path:i,callback:u,param_names:c};l.routes[e]=l.routes[e]||[],l.routes[e].push(t)},"any"===e?t.each(this.ROUTE_VERBS,function(e,t){r(t)}):r(e),this},get:p("get"),post:p("post"),put:p("put"),del:p("delete"),any:p("any"),mapRoutes:function(e){var i=this;return t.each(e,function(e,t){i.route.apply(i,t)}),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(e,t,i){var n=this;void 0===i&&(i=t);var s=function(){var e,t,s;e=arguments[0],(s=arguments[1])&&s.context?(t=s.context,delete s.context):t=new n.context_prototype(n,"bind",e.type,s,e.target),e.cleaned_type=e.type.replace(n.eventNamespace(),""),i.apply(t,[e,s])};return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(s),this.isRunning()&&this._listen(e,s),this},trigger:function(e,t){return this.$element().trigger([e,this.eventNamespace()].join("."),[t]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(e,t){return a(e)&&(t=e,e={}),this.befores.push([e,t]),this},after:function(e){return this.bind("event-context-after",e)},around:function(e){return this.arounds.push(e),this},onComplete:function(e){return this._onComplete=e,this},isRunning:function(){return this._running},helpers:function(e){return t.extend(this.context_prototype.prototype,e),this},helper:function(e,t){return this.context_prototype.prototype[e]=t,this},run:function(e){if(this.isRunning())return!1;var n=this;return t.each(this.listeners.toHash(),function(e,i){t.each(i,function(t,i){n._listen(e,i)})}),this.trigger("run",{start_url:e}),this._running=!0,this.last_location=null,/\#(.+)/.test(this.getLocation())||void 0===e||this.setLocation(e),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",function(){n._checkLocation()}),this.bind("submit",function(e){return!i.targetIsThisWindow(e,"form")||!1===n._checkFormSubmission(t(e.target).closest("form"))&&e.preventDefault()}),t(window).bind("unload",function(){n.unload()}),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var e=this;return this.trigger("unload"),this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(e.eventNamespace()),t.each(this.listeners.toHash(),function(i,n){t.each(n,function(t,n){e._unlisten(i,n)})}),this._running=!1,this},destroy:function(){return this.unload(),delete i.apps[this.element_selector],this},bindToAllEvents:function(e){var i=this;return t.each(this.APP_EVENTS,function(t,n){i.bind(n,e)}),t.each(this.listeners.keys(!0),function(n,s){-1==t.inArray(s,i.APP_EVENTS)&&i.bind(s,e)}),this},routablePath:function(e){return e.replace(r,"")},lookupRoute:function(e,t){var i,n,s=this,r=!1,o=0;if("undefined"!=typeof this.routes[e])for(i=this.routes[e].length;o<i;o++)if(n=this.routes[e][o],s.routablePath(t).match(n.path)){r=n;break}return r},runRoute:function(i,n,s,r){var o,a,l,c,h,d,p,f,m=this,g=this.lookupRoute(i,n);if(this.debug&&this.log("runRoute",[i,n].join(" ")),this.trigger("run-route",{verb:i,path:n,params:s}),void 0===s&&(s={}),t.extend(s,this._parseQueryString(n)),g){this.trigger("route-found",{route:g}),null!==(p=g.path.exec(this.routablePath(n)))&&(p.shift(),t.each(p,function(e,t){g.param_names[e]?s[g.param_names[e]]=u(t):(s.splat||(s.splat=[]),s.splat.push(u(t)))})),o=new this.context_prototype(this,i,n,s,r),l=this.arounds.slice(0),c=this.befores.slice(0),d=[o],s.splat&&(d=d.concat(s.splat)),a=function(){for(var e,t,i;c.length>0;)if(h=c.shift(),m.contextMatchesOptions(o,h[0])&&!1===(e=h[1].apply(o,[o])))return!1;return m.last_route=g,o.trigger("event-context-before",{context:o}),"function"==typeof g.callback&&(g.callback=[g.callback]),g.callback&&g.callback.length&&(t=-1,i=function(){t++,g.callback[t]?e=g.callback[t].apply(o,d):m._onComplete&&(m._onComplete,1)&&m._onComplete(o)},d.push(i),i()),o.trigger("event-context-after",{context:o}),e},t.each(l.reverse(),function(e,t){var i=a;a=function(){return t.apply(o,[i])}});try{f=a()}catch(e){this.error(["500 Error",i,n].join(" "),e)}return f}return this.notFound(i,n)},contextMatchesOptions:function(e,i,n){var s=i;if(("string"==typeof s||c(s))&&(s={path:s}),void 0===n&&(n=!0),t.isEmptyObject(s))return!0;if(l(s.path)){var r,o,a,u;for(r=[],o=0,u=s.path.length;o<u;o+=1)a=t.extend({},s,{path:s.path[o]}),r.push(this.contextMatchesOptions(e,a));var h=t.inArray(!0,r)>-1;return n?h:!h}if(s.only)return this.contextMatchesOptions(e,s.only,!0);if(s.except)return this.contextMatchesOptions(e,s.except,!1);var d=!0,p=!0;return s.path&&(c(s.path)||(s.path=new RegExp(s.path.toString()+"$")),d=s.path.test(e.path)),s.verb&&(p="string"==typeof s.verb?s.verb===e.verb:s.verb.indexOf(e.verb)>-1),n?p&&d:!(p&&d)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e,t){var i=this.$element().html(e);return a(t)&&t(e),i},templateCache:function(e,t){return void 0!==t?f[e]=t:f[e]},clearTemplateCache:function(){return f={}},notFound:function(e,t){var i=this.error(["404 Not Found",e,t].join(" "));return"get"!==e||i},error:function(e,t){if(t||(t=new Error),t.message=[e,t.message].join(" "),this.trigger("error",{message:t.message,error:t}),this.raise_errors)throw t;this.log(t.message,t)},_checkLocation:function(){var e,t;return e=this.getLocation(),this.last_location&&"get"==this.last_location[0]&&this.last_location[1]==e||(this.last_location=["get",e],t=this.runRoute("get",e)),t},_getFormVerb:function(e){var i,n,s=t(e);return(n=s.find('input[name="_method"]')).length>0&&(i=n.val()),i||(i=s[0].getAttribute("method")),i&&""!==i||(i="get"),t.trim(i.toString().toLowerCase())},_checkFormSubmission:function(e){var i,n,s,r,o;return this.trigger("check-form-submission",{form:e}),n=(i=t(e)).attr("action")||"",s=this._getFormVerb(i),this.debug&&this.log("_checkFormSubmission",i,n,s),"get"===s?(""!==(r=this._serializeFormParams(i))&&(n+="?"+r),this.setLocation(n),o=!1):(r=t.extend({},this._parseFormParams(i)),o=this.runRoute(s,n,r,e.get(0))),void 0!==o&&o},_serializeFormParams:function(e){var t,i="",n=e.serializeArray();if(n.length>0)for(i=this._encodeFormPair(n[0].name,n[0].value),t=1;t<n.length;t++)i=i+"&"+this._encodeFormPair(n[t].name,n[t].value);return i},_encodeFormPair:function(e,t){return h(e)+"="+h(t)},_parseFormParams:function(e){var t,i={},n=e.serializeArray();for(t=0;t<n.length;t++)i=this._parseParamPair(i,n[t].name,n[t].value);return i},_parseQueryString:function(e){var t,i,n,s,o={};if((t=e.match(r))&&t[1])for(i=t[1].split("&"),s=0;s<i.length;s++)n=i[s].split("="),o=this._parseParamPair(o,u(n[0]),u(n[1]||""));return o},_parseParamPair:function(e,t,i){return"undefined"!=typeof e[t]?l(e[t])?e[t].push(i):e[t]=[e[t],i]:e[t]=i,e},_listen:function(e,t){return this.$element().bind([e,this.eventNamespace()].join("."),t)},_unlisten:function(e,t){return this.$element().unbind([e,this.eventNamespace()].join("."),t)}}),i.RenderContext=function(e){this.event_context=e,this.callbacks=[],this.previous_content=null,this.content=null,this.next_engine=!1,this.waiting=!1},i.RenderContext.prototype=t.extend({},i.Object.prototype,{then:function(e){if(!a(e)){if(!("string"==typeof e&&e in this.event_context))return this;var t=this.event_context[e];e=function(e){return t.apply(this.event_context,[e])}}var i=this;return this.waiting?this.callbacks.push(e):(this.wait(),window.setTimeout(function(){var t=e.apply(i,[i.content,i.previous_content]);!1!==t&&i.next(t)},0)),this},wait:function(){this.waiting=!0},next:function(e){this.waiting=!1,void 0!==e&&(this.previous_content=this.content,this.content=e),this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(e,i,n){var s=this;return this.then(function(){var r,o,l;return a(i)?(n=i,i={}):i=t.extend({},i),n&&this.then(n),"string"==typeof e?(l=e.match(/\.json(\?|$)/)||i.json,r=l?!0===i.cache:!1!==i.cache,s.next_engine=s.event_context.engineFor(e),delete i.cache,delete i.json,i.engine&&(s.next_engine=i.engine,delete i.engine),r&&(o=this.event_context.app.templateCache(e))?o:(this.wait(),t.ajax(t.extend({url:e,data:{},dataType:l?"json":"text",type:"get",success:function(t){r&&s.event_context.app.templateCache(e,t),s.next(t)}},i)),!1)):e.nodeType?e.innerHTML:e.selector?(s.next_engine=e.attr("data-engine"),!1===i.clone?e.remove()[0].innerHTML.toString():e[0].innerHTML.toString()):void 0})},loadPartials:function(e){var t;if(e)for(t in this.partials=this.partials||{},e)!function(t,i){t.load(e[i]).then(function(e){this.partials[i]=e})}(this,t);return this},render:function(e,t,i,n){return a(e)&&!t?this.then(e):(a(t)?(n=i,i=t,t=null):i&&!a(i)&&(n=i,i=null),this.loadPartials(n).load(e).interpolate(t,e).then(i))},partial:function(e,t,i,n){return a(i)?this.render(e,t,n).swap(i):a(t)?this.render(e,{},i).swap(t):this.render(e,t,i).swap()},send:function(){var e=this,t=o(arguments),i=t.shift();return l(t[0])&&(t=t[0]),this.then(function(){return t.push(function(t){e.next(t)}),e.wait(),i.apply(i,t),!1})},collect:function(e,i,n){var s=this,r=function(){a(e)&&(i=e,e=this.content);var n=[],r=!1;return t.each(e,function(e,t){var o=i.apply(s,[e,t]);return o.jquery&&1==o.length&&(o=o[0],r=!0),n.push(o),o}),r?n:n.join("")};return n?r():this.then(r)},renderEach:function(e,i,n,s){return l(i)&&(s=n,n=i,i=null),this.load(e).then(function(r){var o=this;if(n||(n=l(this.previous_content)?this.previous_content:[]),!s)return this.collect(n,function(t,n){var s={},o=this.next_engine||e;return i?s[i]=n:s=n,this.event_context.interpolate(r,s,o)},!0);t.each(n,function(t,n){var a={},l=this.next_engine||e;i?a[i]=n:a=n,s(n,o.event_context.interpolate(r,a,l))})})},interpolate:function(e,t,i){var n=this;return this.then(function(s,r){!e&&r&&(e=r),this.next_engine&&(t=this.next_engine,this.next_engine=!1);var o=n.event_context.interpolate(s,e,t,this.partials);return i?r+o:o})},swap:function(e){return this.then(function(t){return this.event_context.swap(t,e),t}).trigger("changed",{})},appendTo:function(e){return this.then(function(i){t(e).append(i)}).trigger("changed",{})},prependTo:function(e){return this.then(function(i){t(e).prepend(i)}).trigger("changed",{})},replace:function(e){return this.then(function(i){t(e).html(i)}).trigger("changed",{})},trigger:function(e,t){return this.then(function(i){return void 0===t&&(t={content:i}),this.event_context.trigger(e,t),i})}}),i.EventContext=function(e,t,n,s,r){this.app=e,this.verb=t,this.path=n,this.params=new i.Object(s),this.target=r},i.EventContext.prototype=t.extend({},i.Object.prototype,{$element:function(){return this.app.$element(o(arguments).shift())},engineFor:function(e){var t,i=this;return a(e)?e:((t=(e=(e||i.app.template_engine).toString()).match(/\.([^\.\?\#]+)(\?|$)/))&&(e=t[1]),e&&a(i[e])?i[e]:i.app.template_engine?this.engineFor(i.app.template_engine):function(e){return e})},interpolate:function(e,t,i,n){return this.engineFor(i).apply(this,[e,t,n])},render:function(e,t,n,s){return new i.RenderContext(this).render(e,t,n,s)},renderEach:function(e,t,n,s){return new i.RenderContext(this).renderEach(e,t,n,s)},load:function(e,t,n){return new i.RenderContext(this).load(e,t,n)},loadPartials:function(e){return new i.RenderContext(this).loadPartials(e)},partial:function(e,t,n,s){return new i.RenderContext(this).partial(e,t,n,s)},send:function(){var e=new i.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var e,i=o(arguments),n=this.app.getLocation(),s=i.length;if(s>1){for(var r=0,a=[],l=[],c={},u=!1;r<s;r++)"string"==typeof i[r]?a.push(i[r]):(t.extend(c,i[r]),u=!0);if(e=a.join("/"),u){for(var h in c)l.push(this.app._encodeFormPair(h,c[h]));e+="?"+l.join("&")}}else e=i[0];this.trigger("redirect",{to:e}),this.app.last_location=[this.verb,this.path],this.app.setLocation(e),new RegExp(e).test(n)&&this.app.trigger("location-changed")},trigger:function(e,t){return void 0===t&&(t={}),t.context||(t.context=this),this.app.trigger(e,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(e,t){return this.app.swap(e,t)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(e){return t.parseJSON(e)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),i}),function(){var e=[].slice;String.prototype.autoLink=function(){var t,i,n,s,r,o;return r=/(^|[\s\n]|<br\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,0<(s=1<=arguments.length?e.call(arguments,0):[]).length?(n=s[0],i=function(){var e;for(t in e=[],n)o=n[t],"callback"!==t&&e.push(" "+t+"='"+o+"'");return e}().join(""),this.replace(r,function(e,t,s){return""+t+(("function"==typeof n.callback?n.callback(s):void 0)||"<a href='"+s+"'"+i+">"+s+"</a>")})):this.replace(r,"$1<a href='$2'>$2</a>")}}.call(this),
/*! jQuery UI - v1.10.3 - 2013-05-03
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
 * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function i(t,i){var s,r,o,a=t.nodeName.toLowerCase();return"area"===a?(r=(s=t.parentNode).name,!(!t.href||!r||"map"!==s.nodeName.toLowerCase())&&(!!(o=e("img[usemap=#"+r+"]")[0])&&n(o))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s,r,o=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:(s=e.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):s.apply(this,arguments)}),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&0!==s))return s;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(r=e.fn.removeData,function(t){return arguments.length?r.call(this,e.camelCase(t)):r.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,r=e.ui[t].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0||(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(t,i){var n=0,s=Array.prototype.slice,r=t.cleanData;t.cleanData=function(i){for(var n,s=0;null!=(n=i[s]);s++)try{t(n).triggerHandler("remove")}catch(e){}r(i)},t.widget=function(e,i,n){var s,r,o,a,l={},c=e.split(".")[0];e=e.split(".")[1],s=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},r=t[c][e],o=t[c][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,function(e,n){var s,r;t.isFunction(n)?l[e]=(s=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)},function(){var e,t=this._super,i=this._superApply;return this._super=s,this._superApply=r,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):l[e]=n}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:s}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(e){for(var n,r,o=s.call(arguments,1),a=0,l=o.length;a<l;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&r!==i&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,l=s.call(arguments,1),c=this;return o=!a&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,a?this.each(function(){var n,s=t.data(this,r);return s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(n=s[o].apply(s,l))!==s&&n!==i?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,r);e?e.option(o||{})._init():t.data(this,r,new n(o,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var s,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(s=e.split(".")).shift(),s.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)r[s[o]]=r[s[o]]||{},r=r[s[o]];if(e=s.pop(),n===i)return r[e]===i?null:r[e];r[e]=n}else{if(n===i)return this.options[e]===i?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var s,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,o){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?s.delegate(u,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,r,o=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?!0===s||"number"==typeof s?i:s.effect||i:e;"number"==typeof(s=s||{})&&(s={duration:s}),o=!t.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,r=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(s&&!r&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!e.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(n=(i=e(s.containment))[0])&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i)):this.containment=s.containment:this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,s,r,o=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,r=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),s=n.options,r=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i){var n=e(this).data("ui-draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("ui-draggable"),s=this;e.each(n.sortables,function(){var r=!1,o=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),!1!==s&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,s,r,o,a,l,c,u,h,d,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,_=i.offset.top,y=_+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)l=(a=p.snapElements[h].left)+p.snapElements[h].width,u=(c=p.snapElements[h].top)+p.snapElements[h].height,v<a-m||g>l+m||y<c-m||_>u+m||!e.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-y)<=m,s=Math.abs(u-_)<=m,r=Math.abs(a-v)<=m,o=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||s||r||o,"outer"!==f.snapMode&&(n=Math.abs(c-_)<=m,s=Math.abs(u-y)<=m,r=Math.abs(a-g)<=m,o=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(n||s||r||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=n||s||r||o||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e,t,i){return e>t&&e<t+i}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current
;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var s,r=(e.positionAbs||e.position.absolute).left,o=r+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,l=a+e.helperProportions.height,c=i.offset.left,u=c+i.proportions.width,h=i.offset.top,d=h+i.proportions.height;switch(n){case"fit":return c<=r&&o<=u&&h<=a&&l<=d;case"intersect":return c<r+e.helperProportions.width/2&&o-e.helperProportions.width/2<u&&h<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return s=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,t((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,h,i.proportions.height)&&t(s,c,i.proportions.width);case"touch":return(a>=h&&a<=d||l>=h&&l<=d||a<h&&l>d)&&(r>=c&&r<=u||o>=c&&o<=u||r<c&&o>u);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,s,r=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===r[n].element[0]){r[n].proportions.height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions={width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,r,o=e.ui.intersect(t,this,this.options.tolerance),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===s})).length&&((n=e.data(r[0],"ui-droppable")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,s,r=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),(s=e("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(t){var i,n,s,r;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,r),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,r,o=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),s=t(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,s+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,s={},r=this.originalMousePosition,o=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,h=t.pageX-r.left||0,d=t.pageY-r.top||0,p=this._change[o];return!!p&&(i=p.apply(this,[t,h,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==u&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,s,r,o,a,l,c=this.options,u=this;return this._helper&&(s=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,r=n?0:u.sizeDiff.width,o={width:u.helper.width()-r,height:u.helper.height()-s},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,s,r,o,a=this.options;o={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:Infinity,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:Infinity},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),s>o.minHeight&&(o.minHeight=s),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,s=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,s=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&u&&(e.left=l-t.minWidth),s&&u&&(e.left=l-t.maxWidth),a&&h&&(e.top=c-t.minHeight),r&&h&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,r=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,r,o,a,l,c=e(this).data("ui-resizable"),u=c.options,h=c.element,d=u.containment,p=d instanceof e?d.get(0):/parent/.test(d)?h.parent().get(0):d;p&&(c.containerElement=e(p),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){n[e]=t(i.css("padding"+s))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=c.containerOffset,r=c.containerSize.height,o=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:o,l=e.ui.hasScroll(p)?p.scrollHeight:r,c.parentData={element:p,left:s.left,top:s.top,width:a,height:l}))},resize:function(t){var i,n,s,r,o=e(this).data("ui-resizable"),a=o.options,l=o.containerOffset,c=o.position,u=o._aspectRatio||t.shiftKey,h={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),u&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=a.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper,o.offset.left-h.left+o.sizeDiff.width)),n=Math.abs((o._helper?o.offset.top-h.top:o.offset.top-l.top)+o.sizeDiff.height),s=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),s&&r&&(i-=o.parentData.left),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,u&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,s=t.containerPosition,r=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable").options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):e.each(t.alsoResize,function(e){i(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),r={},o=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(s[t]||0)+(a[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,s=t.originalSize,r=t.originalPosition,o=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-s.width)/l)*l,h=Math.round((n.height-s.height)/c)*c,d=s.width+u,p=s.height+h,f=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=a,g&&(d+=l),v&&(p+=c),f&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(o)?(t.size.width=d,t.size.height=p):/^(ne)$/.test(o)?(t.size.width=d,t.size.height=p,t.position.top=r.top-h):/^(sw)$/.test(o)?(t.size.width=d,t.size.height=p,t.position.left=r.left-u):(t.size.width=d,t.size.height=p,t.position.top=r.top-h,t.position.left=r.left-u)}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,s=e.data(this,"selectable-item");if(s)return n=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,r=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;return r>a&&(i=a,a=r,r=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:r,top:o,width:a-r,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>a||i.right<r||i.top>l||i.bottom<o):"fit"===s.tolerance&&(c=i.left>r&&i.right<a&&i.top>o&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,i){return e>t&&e<t+i}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||i(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return n=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===s||e.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),
this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=e.left,o=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>a&&n+c<l,d="y"===this.options.axis||t+u>r&&t+u<o,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=i&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!s&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:s&&("down"===s&&i||"up"===s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,s,r,o=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(s=e(l[i])).length-1;n>=0;n--)(r=e.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,c,u=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(s=e(d[i])).length-1;n>=0;n--)(r=e.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(h.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(o=h[i][1],n=0,c=(a=h[i][0]).length;n<c;n++)(l=e(a[n])).data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,s,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var s,r,o,a,l,c,u,h,d,p,f=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(f&&e.contains(this.containers[s].element[0],f.element[0]))continue;f=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",n,this._uiHash(this)),this.containers[s].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(o=1e4,a=null,l=(p=f.floating||i(this.currentItem))?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)e.contains(this.containers[m].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(p&&!t(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height)||(h=this.items[r].item.offset()[l],d=!1,Math.abs(h-u)>Math.abs(h+this.items[r][c]-u)&&(d=!0,h+=this.items[r][c]),Math.abs(h-u)<o&&(o=Math.abs(h-u),a=this.items[r],this.direction=d?"up":"down")));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,r=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(t,i){var n,s="ui-effects-";t.effects={effect:{}},
/*!
	 * jQuery Color Animations v2.1.2
	 * https://github.com/jquery/jquery-color
	 *
	 * Copyright 2013 jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 *
	 * Date: Wed Jan 16 08:47:09 2013 -0600
	 */
function(t,i){function n(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function s(e){var i=u(),n=i._rgba=[];return e=e.toLowerCase(),m(c,function(t,s){var r,o=s.re.exec(e),a=o&&s.parse(o),l=s.space||"rgba";if(a)return r=i[l](a),i[h[l].cache]=r[h[l].cache],n=i._rgba=r._rgba,!1}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),i):o[e]}function r(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=u.support={},f=t("<p>")[0],m=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,m(h,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(e,r,a,l){if(e===i)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(r),r=i);var c=this,d=t.type(e),p=this._rgba=[];return r!==i&&(e=[e,r,a,l],d="array"),"string"===d?this.parse(s(e)||o._default):"array"===d?(m(h.rgba.props,function(t,i){p[i.idx]=n(e[i.idx],i)}),this):"object"===d?(m(h,e instanceof u?function(t,i){e[i.cache]&&(c[i.cache]=e[i.cache].slice())}:function(i,s){var r=s.cache;m(s.props,function(t,i){if(!c[r]&&s.to){if("alpha"===t||null==e[t])return;c[r]=s.to(c._rgba)}c[r][i.idx]=n(e[t],i,!0)}),c[r]&&t.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,s.from&&(c._rgba=s.from(c[r])))}),this):void 0},is:function(e){var t=u(e),i=!0,n=this;return m(h,function(e,s){var r,o=t[s.cache];return o&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],m(s.props,function(e,t){if(null!=o[t.idx])return i=o[t.idx]===r[t.idx]})),i}),i},_space:function(){var e=[],t=this;return m(h,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=u(e),s=i._space(),r=h[s],o=0===this.alpha()?u("transparent"):this,a=o[r.cache]||r.to(o._rgba),l=a.slice();return i=i[r.cache],m(r.props,function(e,s){var r=s.idx,o=a[r],c=i[r],u=d[s.type]||{};null!==c&&(null===o?l[r]=c:(u.mod&&(c-o>u.mod/2?o+=u.mod:o-c>u.mod/2&&(o-=u.mod)),l[r]=n((c-o)*t+o,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=u(e)._rgba;return u(t.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,h.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,r=e[2]/255,o=e[3],a=Math.max(n,s,r),l=Math.min(n,s,r),c=a-l,u=a+l,h=.5*u;return t=l===a?0:n===a?60*(s-r)/c+360:s===a?60*(r-n)/c+120:60*(n-s)/c+240,i=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(t)%360,i,h,null==o?1:o]},h.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*r(a,o,t+1/3)),Math.round(255*r(a,o,t)),Math.round(255*r(a,o,t-1/3)),s]},m(h,function(e,s){var r=s.props,o=s.cache,a=s.to,c=s.from;u.fn[e]=function(e){if(a&&!this[o]&&(this[o]=a(this._rgba)),e===i)return this[o].slice();var s,l=t.type(e),h="array"===l||"object"===l?e:arguments,d=this[o].slice();return m(r,function(e,t){var i=h["object"===l?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=n(i,t)}),c?((s=u(c(d)))[o]=d,s):u(d)},m(r,function(i,n){u.fn[i]||(u.fn[i]=function(s){var r,o=t.type(s),a="alpha"===i?this._hsla?"hsla":"rgba":e,c=this[a](),u=c[n.idx];return"undefined"===o?u:("function"===o&&(s=s.call(this,u),o=t.type(s)),null==s&&n.empty?this:("string"===o&&(r=l.exec(s))&&(s=u+parseFloat(r[2])*("+"===r[1]?1:-1)),c[n.idx]=s,this[a](c)))})})}),u.hook=function(i){var n=i.split(" ");m(n,function(i,n){t.cssHooks[n]={set:function(i,r){var o,a,l="";if("transparent"!==r&&("string"!==t.type(r)||(o=s(r)))){if(r=u(o||r),!p.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?i.parentNode:i;(""===l||"transparent"===l)&&a&&a.style;)try{l=t.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(l&&"transparent"!==l?l:"_default")}r=r.toRgbaString()}try{i.style[n]=r}catch(e){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(a),t.cssHooks.borderColor={expand:function(e){var t={};return m(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)"string"==typeof s[i=s[n]]&&(r[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(r[i]=s[i]);return r}function n(e,i){var n,s,r={};for(n in i)s=i[n],e[n]!==s&&(o[n]||!t.fx.step[n]&&isNaN(parseFloat(s))||(r[n]=s));return r}var s,r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),t.effects.animateClass=function(i,s,o,a){var l=t.speed(s,o,a);return this.queue(function(){var s,o=t(this),a=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){return{el:t(this),start:e(this)}}),(s=function(){t.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})})(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:(s=t.fn.addClass,function(e,i,n,r){return i?t.effects.animateClass.call(this,{add:e},i,n,r):s.apply(this,arguments)}),removeClass:function(e){return function(i,n,s,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,s,r,o,a){return"boolean"==typeof s||s===i?r?t.effects.animateClass.call(this,s?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},s,r,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,r)}})}(),function(){function n(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function r(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}var o;t.extend(t.effects,{version:"1.10.3",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(s+t[i],e[0].style[t[i]])},restore:function(e,t){var n,r;for(r=0;r<t.length;r++)null!==t[r]&&((n=e.data(s+t[r]))===i&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:i.width(),height:i.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return i.wrap(s),(i[0]===o||t.contains(i[0],o))&&t(o).focus(),s=i.parent(),"static"===i.css("position")?(s.css({position:"relative"}),i.css({position:"relative"})):(t.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),t.each(["top","left","bottom","right"],function(e,t){n[t]=i.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(r),s.css(n).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(r)&&r.call(s[0]),t.isFunction(e)&&e()}var s=t(this),r=i.complete,a=i.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),n()):o.call(s[0],i,n)}var i=n.apply(this,arguments),s=i.mode,r=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):!1===r?this.each(e):this.queue(r||"fx",e)},show:(o=t.fn.show,function(e){if(r(e))return o.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),n={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),t.extend(n,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),t.each(n,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(e){return 1-i(1-e)},t.easing["easeInOut"+e]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}})}(jQuery),function(e){var t=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)):this._activate(t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,s=n.heightStyle,r=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),s=i.next(),r=s.attr("id");n||(n=o+"-header-"+t,i.attr("id",n)),r||(r=o+"-panel-"+t,s.attr("id",r)),i.attr("aria-controls",r),s.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===s?(i=r.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),r=s[0]===n[0],o=r&&i.collapsible,a=o?e():s.next(),l={oldHeader:n,oldPanel:n.next(),newHeader:o?e():s,newPanel:a};t.preventDefault(),r&&!i.collapsible||!1===this._trigger("beforeActivate",t,l)||(i.active=!o&&this.headers.index(s),this.active=r?e():s,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,s){var r,o,a,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),h=this.options.animate||{},d=u&&h.down||h,p=function(){l._toggleComplete(s)};return"number"==typeof d&&(a=d),"string"==typeof d&&(o=d),o=o||d.easing||h.easing,a=a||d.duration||h.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(i,{duration:a,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(n,{duration:a,easing:o,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(r-t.outerHeight()-c),c=0)}})):t.animate(i,a,o,p):e.animate(n,a,o,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),r="textarea"===s,o="input"===s;this.isMultiLine=!!r||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",s);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case r.UP:t=!0,this._keyEvent("previous",s);break;case r.DOWN:t=!0,this._keyEvent("next",s);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case r.TAB:this.menu.active&&this.menu.select(s);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,i,n,s,r="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},c=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,a=this.options,u="checkbox"===this.type||"radio"===this.type,h=u?"":"ui-state-active",d="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(d)}),u&&(this.element.bind("change"+this.eventNamespace,function(){s||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){a.disabled||(s=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){a.disabled||i===e.pageX&&n===e.pageY||(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||s)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||s)return!1;e(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var t=o.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(a.disabled)return!1;e(this).addClass("ui-state-active"),t=this,o.document.one("mouseup",function(){t=null})}).bind("mouseup"+this.eventNamespace,function(){if(a.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(a.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+o+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},
_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(a),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,i){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function r(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(e,i){var n,s,r;s="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(t(e),s)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):s&&this._inlineDatepicker(e,r)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,r,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(s=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:s,title:s}):s)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,r=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},r.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,o){var l,c,u,h,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),(p=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],a,p)),r(p.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+h,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,a);s.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,a);s.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,s){var o,a,l,c,u=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null;o=n||{},"string"==typeof n&&((o={})[n]=s),u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==l&&o.dateFormat!==i&&o.minDate===i&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&o.dateFormat!==i&&o.maxDate===i&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,r=t.datepicker._getInst(e.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv))[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,s[0]),(i=t.datepicker._get(r,"onSelect"))?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);if(t.datepicker._get(s,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(e){var i,n,s,o,a,l,c;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(s=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(r(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),s=n[1],r=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+r>c&&c>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,s,r,o=this._curInst;!o||e&&o!==t.data(e,a)||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),s=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),r=this._getInst(s[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,i,n,s){var r,o=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=t("a",s).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),r=this._getInst(s[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(r).each(function(){t(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var s,r,o,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,y=!1,b=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},w=function(e){var t=b(e),n=new RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),s=i.substring(l).match(n);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},x=function(e,n,s){var r=-1,o=t.map(b(e)?s:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(t.each(o,function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=t[0],l+=n.length,!1}),-1!==r)return r+1;throw"Unknown name at position "+l},E=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<e.length;s++)if(y)"'"!==e.charAt(s)||b("'")?E():y=!1;else switch(e.charAt(s)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":_=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":m=(a=new Date(w("@"))).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":m=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?E():y=!0;break;default:E()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),_>-1)for(g=1,v=_;;){if(v<=(r=this._getDaysInMonth(m,g-1)))break;g++,v-=r}if((a=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",d=!1;if(t)for(n=0;n<e.length;n++)if(d)"'"!==e.charAt(n)||l("'")?h+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":h+=c("d",t.getDate(),2);break;case"D":h+=u("D",t.getDay(),s,r);break;case"o":h+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",t.getMonth()+1,2);break;case"M":h+=u("M",t.getMonth(),o,a);break;case"y":h+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=e.charAt(n)}return h},_possibleChars:function(e){var t,i="",n=!1,s=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return e.settings[t]!==i?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),r=s,o=this._getFormatConfig(e);try{r=this.parseDate(i,n,o)||s}catch(a){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(i,n,s){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=null==n||""===n?s:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),n,t.datepicker._getFormatConfig(i))}catch(e){}for(var s=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(i):null)||new Date,r=s.getFullYear(),o=s.getMonth(),a=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o))}c=l.exec(n)}return new Date(r,o,a)}(n):"number"==typeof n?isNaN(n)?s:r(n):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?s:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,r=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),s===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,r,o,a,l,c,u,h,d,p,f,m,g,v,_,y,b,w,x,E,S,k,T,C,R,P,N,M,O,D,I,L,A,j,z,F,H=new Date,$=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),B=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==q[0]||1!==q[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),K=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,ee=e.drawYear;if(J<0&&(J+=12,ee--),K)for(t=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth()-q[0]*q[1]+1,K.getDate())),t=Q&&t<Q?Q:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=U?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,J+G,1)),this._getFormatConfig(e)):s,r=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",o=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?Z:$,o=U?this.formatDate(o,a,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),_=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),b="",x=0;x<q[0];x++){for(E="",this.maxRows=4,S=0;S<q[1];S++){if(k=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),T=" ui-corner-all",C="",X){if(C+="<div class='ui-datepicker-group",q[1]>1)switch(S){case 0:C+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case q[1]-1:C+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:C+=" ui-datepicker-group-middle",T=""}C+="'>"}for(C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?B?r:n:"")+(/all|right/.test(T)&&0===x?B?n:r:"")+this._generateMonthYearHeader(e,J,ee,Q,K,x>0||S>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",R=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)R+="<th"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P=(w+u)%7]+"'>"+p[P]+"</span></th>";for(C+=R+"</tr></thead><tbody>",N=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,N)),M=(this._getFirstDayOfMonth(ee,J)-u+7)%7,O=Math.ceil((M+N)/7),D=X&&this.maxRows>O?this.maxRows:O,this.maxRows=D,I=this._daylightSavingAdjust(new Date(ee,J,1-M)),L=0;L<D;L++){for(C+="<tr>",A=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(I)+"</td>":"",w=0;w<7;w++)j=g?g.apply(e.input?e.input[0]:null,[I]):[!0,""],F=(z=I.getMonth()!==J)&&!_||!j[0]||Q&&I<Q||K&&I>K,
A+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(I.getTime()===k.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===I.getTime()&&y.getTime()===k.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+j[1]+(I.getTime()===Z.getTime()?" "+this._currentClass:"")+(I.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===$.getTime()?" ui-state-highlight":"")+(I.getTime()===Z.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);C+=A+"</tr>"}++J>11&&(J=0,ee++),E+=C+="</tbody></table>"+(X?"</div>"+(q[0]>0&&S===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=E}return b+=c,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,i,n,s,r,o,a){var l,c,u,h,d,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(r||!g)b+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=s.getMonth())&&(b+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");b+="</select>"}if(_||(y+=b+(!r&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),_&&(y+=(!r&&g&&v?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,r)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&t<i?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),o=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||t.getTime()>=s.getTime())&&(!r||t.getTime()<=r.getTime())&&(!o||t.getFullYear()>=o)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var s,r;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(t.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(r).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(s))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(s,r){n.position=[r.position.left-i.document.scrollLeft(),r.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(r))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,s=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(s))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(s,r){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(r))}}).css("position",r)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var s=this,r=!1,o={};e.each(n,function(e,n){s._setOption(e,n),e in t&&(r=!0),e in i&&(o[e]=n)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,n,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=s.is(":data(ui-draggable)"))&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=s.is(":data(ui-resizable)"))&&!t&&s.resizable("destroy"),n&&"string"==typeof t&&s.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(1===(n=i.split?i.split(" "):[i[0],i[1]]).length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(s[e]=n[e],n[e]=t)}),i={my:n[0]+(s[0]<0?s[0]:"+"+s[0])+" "+n[1]+(s[1]<0?s[1]:"+"+s[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,(t=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(jQuery),function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,s){var r,o,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,n.mode||"hide"),h=n.direction||"up",d=t.test(h),p=d?"height":"width",f=d?"top":"left",m=i.test(h),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=(r=e.effects.createWrapper(l).css({overflow:"hidden"}))[p](),a=parseFloat(r.css(f))||0,g[p]=v?o:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:o+a),v&&(r.css(p,0),m||r.css(f,a+o)),r.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),s()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,i){var n,s,r,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),c="hide"===l,u="show"===l,h=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===h||"down"===h?"top":"left",_="up"===h||"left"===h,y=o.queue(),b=y.length;for((u||c)&&a.push("opacity"),e.effects.save(o,a),o.show(),e.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[v]=0,o.css("opacity",0).css(v,_?2*-d:2*d).animate(r,m,g)),c&&(d/=Math.pow(2,p-1)),(r={})[v]=0,n=0;n<p;n++)(s={})[v]=(_?"-=":"+=")+d,o.animate(s,m,g).animate(r,m,g),d=c?2*d:d/2;c&&((s={opacity:0})[v]=(_?"-=":"+=")+d,o.animate(s,m,g)),o.queue(function(){c&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}),b>1&&y.splice.apply(y,[1,0].concat(y.splice(b,f+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,i){var n,s,r,o=e(this),a=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(o,t.mode||"hide"),c="vertical"===(t.direction||"vertical"),u=c?"height":"width",h=c?"top":"left",d={};e.effects.save(o,a),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=(s="IMG"===o[0].tagName?n:o)[u](),l&&(s.css(u,0),s.css(h,r/2)),d[u]=l?r:0,d[h]=l?0:r/2,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(s,t.mode||"hide"),a="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};e.effects.save(s,r),s.show(),e.effects.createWrapper(s),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(c,"pos"===u?-n:n),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,s.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,i){function n(){_.push(this),_.length===h*d&&s()}function s(){p.css({visibility:"visible"}),e(_).remove(),f||p.hide(),i()}var r,o,a,l,c,u,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=h,p=e(this),f="show"===e.effects.setMode(p,t.mode||"hide"),m=p.show().css("visibility","hidden").offset(),g=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/h),_=[];for(r=0;r<h;r++)for(l=m.top+r*v,u=r-(h-1)/2,o=0;o<d;o++)a=m.left+o*g,c=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:v,left:a+(f?c*g:0),top:l+(f?u*v:0),opacity:f?0:1}).animate({left:a+(f?0:c*g),top:l+(f?0:u*v),opacity:f?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e){e.effects.effect.fade=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e){e.effects.effect.fold=function(t,i){var n,s,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,h=/([0-9]+)%/.exec(u),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(r,o),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],h&&(u=parseInt(h[1],10)/100*s[c?0:1]),l&&n.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?s[0]:u,v[f[1]]=l?s[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,i){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===r&&(o.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,s),i()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,i){var n,s=e(this),r=e.effects.setMode(s,t.mode||"show"),o="show"===r,a="hide"===r,l=o||"hide"===r,c=2*(t.times||5)+(l?1:0),u=t.duration/c,h=0,d=s.queue(),p=d.length;for(!o&&s.is(":visible")||(s.css("opacity",0).show(),h=1),n=1;n<c;n++)s.animate({opacity:h},u,t.easing),h=1-h;s.animate({opacity:h},u,t.easing),s.queue(function(){a&&s.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"hide"),r="hide"===s,o=parseInt(t.percent,10)||150,a=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:r?o:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),s=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==r&&(s.origin=l||["middle","center"],s.restore=!0),s.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},s.fade&&("show"===r&&(s.from.opacity=0,s.to.opacity=1),"hide"===r&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},e.effects.effect.size=function(t,i){var n,s,r,o=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),_=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||y,o.to=t.from||n):(o.from=t.from||("show"===p?y:n),o.to=t.to||("hide"===p?y:n)),r={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},"box"!==m&&"both"!==m||(r.from.y!==r.to.y&&(_=_.concat(h),o.from=e.effects.setTransition(o,h,r.from.y,o.from),o.to=e.effects.setTransition(o,h,r.to.y,o.to)),r.from.x!==r.to.x&&(_=_.concat(d),o.from=e.effects.setTransition(o,d,r.from.x,o.from),o.to=e.effects.setTransition(o,d,r.to.x,o.to))),"content"!==m&&"both"!==m||r.from.y!==r.to.y&&(_=_.concat(u).concat(c),o.from=e.effects.setTransition(o,u,r.from.y,o.from),o.to=e.effects.setTransition(o,u,r.to.y,o.to)),e.effects.save(o,_),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(s=e.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*s.y,o.from.left=(n.outerWidth-o.outerWidth())*s.x,o.to.top=(n.outerHeight-o.to.outerHeight)*s.y,o.to.left=(n.outerWidth-o.to.outerWidth)*s.x),o.css(o.from),"content"!==m&&"both"!==m||(h=h.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(d),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,h,r.from.y,i.from),i.to=e.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,d,r.from.x,i.from),i.to=e.effects.setTransition(i,d,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,_),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),s=e?o.to.left:o.to.top;return"auto"===i?s+"px":n+s+"px"})})),e.effects.removeWrapper(o),i()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(s,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,h=Math.round(t.duration/u),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=s.queue(),_=v.length;for(e.effects.save(s,r),s.show(),e.effects.createWrapper(s),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,s.animate(f,h,t.easing),n=1;n<c;n++)s.animate(m,h,t.easing).animate(g,h,t.easing);s.animate(m,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===o&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(s,t.mode||"show"),a="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};e.effects.save(s,r),s.show(),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(c,u?isNaN(n)?"-"+n:-n:n),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,s.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,i){var n=e(this),s=e(t.to),r="fixed"===s.css("position"),o=e("body"),a=r?o.scrollTop():0,l=r?o.scrollLeft():0,c=s.offset(),u={top:c.top-a,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},h=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){d.remove(),i()})}}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,r,o,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,s=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===s?o=!0:r=s+r,a=new RegExp("^"+i(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),a=new RegExp("^"+i(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus)
;n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),s=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",n.attr("id"))}),(t=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,r,o,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.height(),s<0?this.activeMenu.scrollTop(r+s):s+a>o&&this.activeMenu.scrollTop(r+s-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n-s<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,o=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var i,n,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),i=o.offsetWidth,s.css("overflow","scroll"),i===(n=o.offsetWidth)&&(n=s[0].clientWidth),s.remove(),r=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var r,p,m,g,v,_,y=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),x=(t.collision||"flip").split(" "),E={};return _=s(y),y[0].preventDefault&&(t.at="left top"),p=_.width,m=_.height,g=_.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=h.exec(n[0]),i=h.exec(n[1]),E[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),r=i(E.at,p,m),v.left+=r[0],v.top+=r[1],this.each(function(){var s,c,u=e(this),h=u.outerWidth(),d=u.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),S=h+f+n(this,"marginRight")+w.width,k=d+_+n(this,"marginBottom")+w.height,T=e.extend({},v),C=i(E.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=h:"center"===t.my[0]&&(T.left-=h/2),"bottom"===t.my[1]?T.top-=d:"center"===t.my[1]&&(T.top-=d/2),T.left+=C[0],T.top+=C[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),s={marginLeft:f,marginTop:_},e.each(["left","top"],function(i,n){e.ui.position[x[i]]&&e.ui.position[x[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:s,collisionWidth:S,collisionHeight:k,offset:[r[0]+C[0],r[1]+C[1]],my:t.my,at:t.at,within:b,elem:u})}),t.using&&(c=function(e){var i=g.left-T.left,n=i+p-h,s=g.top-T.top,r=s+m-d,l={target:{element:y,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:h,height:d},horizontal:n<0?"left":i>0?"right":"center",vertical:r<0?"top":s>0?"bottom":"middle"};p<h&&a(i+n)<p&&(l.horizontal="center"),m<d&&a(s+r)<m&&(l.vertical="middle"),o(a(i),a(n))>o(a(s),a(r))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,c=a+t.collisionWidth-r-s;t.collisionWidth>r?l>0&&c<=0?(i=e.left+l+t.collisionWidth-r-s,e.left+=l-i):e.left=c>0&&l<=0?s:l>c?s+r-t.collisionWidth:s:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-a,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,c=a+t.collisionHeight-r-s;t.collisionHeight>r?l>0&&c<=0?(i=e.top+l+t.collisionHeight-r-s,e.top+=l-i):e.top=c>0&&l<=0?s:l>c?s+r-t.collisionHeight:s:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,r=s.offset.left+s.scrollLeft,o=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,h=c+t.collisionWidth-o-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((i=e.left+d+p+f+t.collisionWidth-o-r)<0||i<a(u))&&(e.left+=d+p+f):h>0&&((n=e.left-t.collisionPosition.marginLeft+d+p+f-l)>0||a(n)<h)&&(e.left+=d+p+f)},top:function(e,t){var i,n,s=t.within,r=s.offset.top+s.scrollTop,o=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,h=c+t.collisionHeight-o-l,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];u<0?(n=e.top+d+p+f+t.collisionHeight-o-r,e.top+d+p+f>u&&(n<0||n<a(u))&&(e.top+=d+p+f)):h>0&&(i=e.top-t.collisionPosition.marginTop+d+p+f-l,e.top+d+p+f>h&&(i>0||a(i)<h)&&(e.top+=d+p+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,s,r,o=document.getElementsByTagName("body")[0],a=document.createElement("div");for(r in t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(a),(i=o||document.documentElement).insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=e(a).offset().left,e.support.offsetFractions=s>10&&s<11,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===t)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),t=s.length;t<i;t++)o.push(r);this.handles=s.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,r,o,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-c.values(t));(s>i||s===i&&(t===c._lastChangedValue||c.values(t)===u.min))&&(s=i,r=e(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),a=r.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-r.width()/2,top:t.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&((s=this.values())[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),!1!==r&&this.values(t,i,!0))):i!==this.value()&&!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,s,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<s;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,r,o=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,s,r,o=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),!1===this._start(i,o)))return}switch(r=this.options.step,n=s=this.options.values&&this.options.values.length?this.values(o):this.value(),i.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;s=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;s=this._trimAlignValue(n-r)}this._slide(i,o,s)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var s=i.attr(n);s!==undefined&&s.length&&(t[n]=s)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++s}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var s=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,s){if(e(s).attr("aria-controls")===n)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:s=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),
!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>s&&(t=0),t<0&&(t=s),t}for(var s=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var r,o,a,l=e(s).uniqueId().attr("id"),c=e(s).closest("li"),u=c.attr("aria-controls");n(s)?(r=s.hash,o=t.element.find(t._sanitizeSelector(r))):(r="#"+(a=t._tabId(c)),(o=t.element.find(r)).length||(o=t._createPanel(a)).insertAfter(t.panels[i-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),o.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)!0===t||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget).closest("li"),r=s[0]===n[0],o=r&&i.collapsible,a=o?e():this._getPanelForTab(s),l=n.length?this._getPanelForTab(n):e(),c={oldTab:n,oldPanel:l,newTab:o?e():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!o&&this.tabs.index(s),this.active=r?e():s,this.xhr&&this.xhr.abort(),l.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,c))},_toggle:function(t,i){function n(){r.running=!1,r._trigger("activate",t,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;!1!==n&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(!0!==n){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var s=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),l={tab:r,panel:a};n(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),s._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&s.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(t,i,n){var s=this;return{url:t.attr("href"),beforeSend:function(t,r){return s._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(i,n);-1!==s&&n.splice(s,1),t.removeData("ui-tooltip-id"),(n=e.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;if("disabled"===t)return this[i?"_disable":"_enable"](),void(this.options[t]=i);this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,s=this,r=t?t.type:null;if("string"==typeof n)return this._open(t,e,n);(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&s._delay(function(){t&&(t.type=r),this._open(t,e,i)})}))&&this._open(t,e,i)},_open:function(i,n,s){function r(e){c.of=e,o.is(":hidden")||o.position(c)}var o,a,l,c=e.extend({},this.options.position);s&&((o=this._find(n)).length?o.find(".ui-tooltip-content").html(s):(n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),t(n,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:r}),r(i)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){o.is(":visible")&&(r(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:o}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(o)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)))},close:function(t){var n=this,s=e(t?t.currentTarget:this.element),r=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),r.stop(!0),this._hide(r,this.options.hide,function(){n._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:r}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,s=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),this.tooltips[i]=t,s},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(e){e.tooltipsy=function(t,i){this.options=i,this.$el=e(t),this.title=this.$el.attr("title")||"",this.$el.attr("title",""),this.random=parseInt(1e4*Math.random()),this.ready=!1,this.shown=!1,this.width=0,this.height=0,this.delaytimer=null,this.$el.data("tooltipsy",this),this.init()},e.tooltipsy.prototype={init:function(){var t,i=this,n=i.$el,s=n[0];i.settings=t=e.extend({},i.defaults,i.options),t.delay=+t.delay,"function"==typeof t.content&&i.readify(),t.showEvent===t.hideEvent&&"click"===t.showEvent?n.toggle(function(e){"click"===t.showEvent&&"A"==s.tagName&&e.preventDefault(),t.delay>0?i.delaytimer=window.setTimeout(function(){i.show(e)},t.delay):i.show(e)},function(e){"click"===t.showEvent&&"A"==s.tagName&&e.preventDefault(),window.clearTimeout(i.delaytimer),i.delaytimer=null,i.hide(e)}):n.bind(t.showEvent,function(e){"click"===t.showEvent&&"A"==s.tagName&&e.preventDefault(),i.delaytimer=window.setTimeout(function(){i.show(e)},t.delay||0)}).bind(t.hideEvent,function(e){"click"===t.showEvent&&"A"==s.tagName&&e.preventDefault(),window.clearTimeout(i.delaytimer),i.delaytimer=null,i.hide(e)})},show:function(t){!1===this.ready&&this.readify();var i=this,n=i.settings,s=i.$tipsy,r=i.$el,o=r[0],a=i.offset(o);if(!1===i.shown&&(function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(n.css)>0&&i.$tip.css(n.css),i.width=s.outerWidth(),i.height=s.outerHeight()),"cursor"===n.alignTo&&t)if((l=[t.clientX+n.offset[0],t.clientY+n.offset[1]])[0]+i.width>e(window).width())l[1],l[0];else l[1],l[0];else var l=[n.offset[0]<0?a.left-Math.abs(n.offset[0])-i.width:0===n.offset[0]?a.left-(i.width-r.outerWidth())/2:a.left+r.outerWidth()+n.offset[0],n.offset[1]<0?a.top-Math.abs(n.offset[1])-i.height:0===n.offset[1]?a.top-(i.height-i.$el.outerHeight())/2:a.top+i.$el.outerHeight()+n.offset[1]];s.css({top:l[1]+"px",left:l[0]+"px"}),i.settings.show(t,s.stop(!0,!0))},hide:function(e){var t=this;!1!==t.ready&&(e&&e.relatedTarget===t.$tip[0]?t.$tip.bind("mouseleave",function(e){e.relatedTarget!==t.$el[0]&&t.settings.hide(e,t.$tipsy.stop(!0,!0))}):t.settings.hide(e,t.$tipsy.stop(!0,!0)))},readify:function(){this.ready=!0,this.$tipsy=e('<div id="tooltipsy'+this.random+'" style="position:fixed;z-index:2147483647;display:none">').appendTo("body"),this.$tip=e('<div class="'+this.settings.className+'">').appendTo(this.$tipsy),this.$tip.data("rootel",this.$el);var t=this.$el,i=this.$tip;this.$tip.html(""!=this.settings.content?"string"==typeof this.settings.content?this.settings.content:this.settings.content(t,i):this.title)},offset:function(){return this.$el[0].getBoundingClientRect()},destroy:function(){this.$tipsy&&(this.$tipsy.remove(),e.removeData(this.$el,"tooltipsy"))},defaults:{alignTo:"element",offset:[0,-1],content:"",show:function(e,t){t.fadeIn(100)},hide:function(e,t){t.fadeOut(100)},css:{},className:"tooltipsy",delay:200,showEvent:"mouseenter",hideEvent:"mouseleave"}},e.fn.tooltipsy=function(t){return this.each(function(){new e.tooltipsy(this,t)})}}(jQuery),function(e,t,i,n){"use strict";function s(e,t,i){return setTimeout(c(e,i),t)}function r(e,t,i){return!!Array.isArray(e)&&(o(e,i[t],i),!0)}function o(e,t,i){var s;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==n)for(s=0;s<e.length;)t.call(i,e[s],s,e),s++;else for(s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s,e)}function a(t,i,n){var s="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=e.console&&(e.console.warn||e.console.log);return r&&r.call(e.console,s,n),t.apply(this,arguments)}}function l(e,t,i){var n,s=t.prototype;(n=e.prototype=Object.create(s)).constructor=e,n._super=s,i&&he(n,i)}function c(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return typeof e==fe?e.apply(t&&t[0]||n,t):e}function h(e,t){return e===n?t:e}function d(e,t,i){o(g(t),function(t){e.addEventListener(t,i,!1)})}function p(e,t,i){o(g(t),function(t){e.removeEventListener(t,i,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function v(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function _(e){return Array.prototype.slice.call(e,0)}function y(e,t,i){for(var n=[],s=[],r=0;r<e.length;){var o=t?e[r][t]:e[r];v(s,o)<0&&n.push(e[r]),s[r]=o,r++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function b(e,t){for(var i,s,r=t[0].toUpperCase()+t.slice(1),o=0;o<de.length;){if((s=(i=de[o])?i+r:t)in e)return s;o++}return n}function w(){return be++}function x(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}function E(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&i.handler(t)},this.init()}function S(e){var t=e.options.inputClass;return new(t||(Ee?z:Se?$:xe?W:j))(e,k)}function k(e,t,i){var n=i.pointers.length,s=i.changedPointers.length,r=t&Ne&&n-s==0,o=t&(Oe|De)&&n-s==0;i.isFirst=!!r,i.isFinal=!!o,r&&(e.session={}),i.eventType=t,T(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function T(e,t){var i=e.session,n=t.pointers,s=n.length;i.firstInput||(i.firstInput=P(t)),s>1&&!i.firstMultiple?i.firstMultiple=P(t):1===s&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,a=o?o.center:r.center,l=t.center=N(n);t.timeStamp=ve(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=I(a,l),t.distance=D(a,l),C(i,t),t.offsetDirection=O(t.deltaX,t.deltaY);var c=M(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=ge(c.x)>ge(c.y)?c.x:c.y,t.scale=o?A(o.pointers,n):1,t.rotation=o?L(o.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,R(i,t);var u=e.element;f(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function C(e,t){var i=t.center,n=e.offsetDelta||{},s=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Ne&&r.eventType!==Oe||(s=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=s.x+(i.x-n.x),t.deltaY=s.y+(i.y-n.y)}function R(e,t){var i,s,r,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=De&&(l>Pe||a.velocity===n)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,h=M(l,c,u);s=h.x,r=h.y,i=ge(h.x)>ge(h.y)?h.x:h.y,o=O(c,u),e.lastInterval=t}else i=a.velocity,s=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=i,t.velocityX=s,t.velocityY=r,t.direction=o}function P(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:me(e.pointers[i].clientX),clientY:me(e.pointers[i].clientY)},i++;return{timeStamp:ve(),pointers:t,center:N(t),deltaX:e.deltaX,deltaY:e.deltaY}}function N(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var i=0,n=0,s=0;t>s;)i+=e[s].clientX,n+=e[s].clientY,s++;return{x:me(i/t),y:me(n/t)}}function M(e,t,i){return{x:t/e||0,y:i/e||0}}function O(e,t){return e===t?Ie:ge(e)>=ge(t)?0>e?Le:Ae:0>t?je:ze}function D(e,t,i){i||(i=Be);var n=t[i[0]]-e[i[0]],s=t[i[1]]-e[i[1]];return Math.sqrt(n*n+s*s)}function I(e,t,i){i||(i=Be);var n=t[i[0]]-e[i[0]],s=t[i[1]]-e[i[1]];return 180*Math.atan2(s,n)/Math.PI}function L(e,t){return I(t[1],t[0],We)+I(e[1],e[0],We)}function A(e,t){return D(t[0],t[1],We)/D(e[0],e[1],We)}function j(){this.evEl=Ue,this.evWin=qe,this.pressed=!1,E.apply(this,arguments)}function z(){this.evEl=Xe,this.evWin=Ze,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Ke,this.evWin=Je,this.started=!1,E.apply(this,arguments)}function H(e,t){var i=_(e.touches),n=_(e.changedTouches);return t&(Oe|De)&&(i=y(i.concat(n),"identifier",!0)),[i,n]}function $(){this.evTarget=tt,this.targetIds={},E.apply(this,arguments)}function B(e,t){var i=_(e.touches),n=this.targetIds;if(t&(Ne|Me)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,r,o=_(e.changedTouches),a=[],l=this.target;if(r=i.filter(function(e){return f(e.target,l)}),t===Ne)for(s=0;s<r.length;)n[r[s].identifier]=!0,s++;for(s=0;s<o.length;)n[o[s].identifier]&&a.push(o[s]),t&(Oe|De)&&delete n[o[s].identifier],s++;return a.length?[y(r.concat(a),"identifier",!0),a]:void 0}function W(){E.apply(this,arguments);var e=c(this.handler,this);this.touch=new $(this.manager,e),this.mouse=new j(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function V(e,t){e&Ne?(this.primaryTouch=t.changedPointers[0].identifier,U.call(this,t)):e&(Oe|De)&&U.call(this,t)}function U(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(i);e>-1&&n.splice(e,1)},it)}}function q(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],r=Math.abs(t-s.x),o=Math.abs(i-s.y);if(nt>=r&&nt>=o)return!0}return!1}function Y(e,t){this.manager=e,this.set(t)}function G(e){if(m(e,ct))return ct;var t=m(e,ut),i=m(e,ht);return t&&i?ct:t||i?t?ut:ht:m(e,lt)?lt:at}function X(){if(!rt)return!1;var t={},i=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!i||e.CSS.supports("touch-action",n)}),t}function Z(e){this.options=he({},this.defaults,e||{}),this.id=w(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=pt,this.simultaneous={},this.requireFail=[]}function Q(e){return e&_t?"cancel":e&gt?"end":e&mt?"move":e&ft?"start":""}function K(e){return e==ze?"down":e==je?"up":e==Le?"left":e==Ae?"right":""}function J(e,t){var i=t.manager;return i?i.get(e):e}function ee(){Z.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ie(){ee.apply(this,arguments)}function ne(){Z.apply(this,arguments),this._timer=null,this._input=null}function se(){ee.apply(this,arguments)}function re(){ee.apply(this,arguments)}function oe(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return(t=t||{}).recognizers=h(t.recognizers,ae.defaults.preset),new le(e,t)}function le(e,t){this.options=he({},ae.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=S(this),this.touchAction=new Y(this,this.options.touchAction),ce(this,!0),o(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var i,n=e.element;n.style&&(o(e.options.cssProps,function(s,r){i=b(n.style,r),t?(e.oldCssProps[i]=n.style[i],n.style[i]=s):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={}))}function ue(e,i){var n=t.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var he,de=["","webkit","Moz","MS","ms","o"],pe=t.createElement("div"),fe="function",me=Math.round,ge=Math.abs,ve=Date.now;he="function"!=typeof Object.assign?function(e){if(e===n||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==n&&null!==s)for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])}return t}:Object.assign;var _e=a(function(e,t,i){for(var s=Object.keys(t),r=0;r<s.length;)(!i||i&&e[s[r]]===n)&&(e[s[r]]=t[s[r]]),r++;return e},"extend","Use `assign`."),ye=a(function(e,t){return _e(e,t,!0)},"merge","Use `assign`."),be=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,xe="ontouchstart"in e,Ee=b(e,"PointerEvent")!==n,Se=xe&&we.test(navigator.userAgent),ke="touch",Te="pen",Ce="mouse",Re="kinect",Pe=25,Ne=1,Me=2,Oe=4,De=8,Ie=1,Le=2,Ae=4,je=8,ze=16,Fe=Le|Ae,He=je|ze,$e=Fe|He,Be=["x","y"],We=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Ve={mousedown:Ne,mousemove:Me,mouseup:Oe},Ue="mousedown",qe="mousemove mouseup";l(j,E,{handler:function(e){var t=Ve[e.type];t&Ne&&0===e.button&&(this.pressed=!0),t&Me&&1!==e.which&&(t=Oe),this.pressed&&(t&Oe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ce,srcEvent:e}))}});var Ye={pointerdown:Ne,pointermove:Me,pointerup:Oe,pointercancel:De,pointerout:De},Ge={2:ke,3:Te,4:Ce,5:Re},Xe="pointerdown",Ze="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Xe="MSPointerDown",Ze="MSPointerMove MSPointerUp MSPointerCancel"),l(z,E,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),s=Ye[n],r=Ge[e.pointerType]||e.pointerType,o=r==ke,a=v(t,e.pointerId,"pointerId");s&Ne&&(0===e.button||o)?0>a&&(t.push(e),a=t.length-1):s&(Oe|De)&&(i=!0),0>a||(t[a]=e,this.callback(this.manager,s,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(a,1))}});var Qe={touchstart:Ne,touchmove:Me,touchend:Oe,touchcancel:De},Ke="touchstart",Je="touchstart touchmove touchend touchcancel";l(F,E,{handler:function(e){var t=Qe[e.type];if(t===Ne&&(this.started=!0),this.started){var i=H.call(this,e,t);t&(Oe|De)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ke,srcEvent:e})}}});var et={touchstart:Ne,touchmove:Me,touchend:Oe,touchcancel:De},tt="touchstart touchmove touchend touchcancel";l($,E,{handler:function(e){var t=et[e.type],i=B.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ke,srcEvent:e})}});var it=2500,nt=25;l(W,E,{handler:function(e,t,i){var n=i.pointerType==ke,s=i.pointerType==Ce;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)V.call(this,t,i);else if(s&&q.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var st=b(pe.style,"touchAction"),rt=st!==n,ot="compute",at="auto",lt="manipulation",ct="none",ut="pan-x",ht="pan-y",dt=X();Y.prototype={set:function(e){e==ot&&(e=this.compute()),rt&&this.manager.element.style&&dt[e]&&(this.manager.element.style[st]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return o(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),G(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=m(n,ct)&&!dt[ct],r=m(n,ht)&&!dt[ht],o=m(n,ut)&&!dt[ut];if(s){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}return o&&r?void 0:s||r&&i&Fe||o&&i&He?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var pt=1,ft=2,mt=4,gt=8,vt=gt,_t=16,yt=32;Z.prototype={defaults:{},set:function(e){return he(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(r(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=J(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return r(e,"dropRecognizeWith",this)?this:(e=J(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(r(e,"requireFailure",this))return this;var t=this.requireFail;return-1===v(t,e=J(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(r(e,"dropRequireFailure",this))return this;e=J(e,this);var t=v(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(t,e)}var i=this,n=this.state;gt>n&&t(i.options.event+Q(n)),t(i.options.event),e.additionalEvent&&t(e.additionalEvent),n>=gt&&t(i.options.event+Q(n))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|pt)))return!1;e++}return!0},recognize:function(e){var t=he({},e);return u(this.options.enable,[this,t])?(this.state&(vt|_t|yt)&&(this.state=pt),this.state=this.process(t),void(this.state&(ft|mt|gt|_t)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(){},getTouchAction:function(){},reset:function(){}},l(ee,Z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(ft|mt),s=this.attrTest(e);return n&&(i&De||!s)?t|_t:n||s?i&Oe?t|gt:t&ft?t|mt:ft:yt}}),l(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:$e},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(ht),e&He&&t.push(ut),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,s=e.direction,r=e.deltaX,o=e.deltaY;return s&t.direction||(t.direction&Fe?(s=0===r?Ie:0>r?Le:Ae,i=r!=this.pX,n=Math.abs(e.deltaX)):(s=0===o?Ie:0>o?je:ze,i=o!=this.pY,n=Math.abs(e.deltaY))),e.direction=s,i&&n>t.threshold&&s&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=K(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),l(ie,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),l(ne,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[at]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(Oe|De)&&!r)this.reset();else if(e.eventType&Ne)this.reset(),this._timer=s(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&Oe)return vt;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vt&&(e&&e.eventType&Oe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),l(se,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),l(re,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Fe|He,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(Fe|He)?t=e.overallVelocity:i&Fe?t=e.overallVelocityX:i&He&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&Oe},emit:function(e){
var t=K(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(oe,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ne&&0===this.count)return this.failTimeout();if(n&&r&&i){if(e.eventType!=Oe)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||D(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=vt,this.tryEmit()},t.interval,this),ft):vt}return yt},failTimeout:function(){return this._timer=s(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.8",ae.defaults={domEvents:!1,touchAction:ot,enable:!0,inputTarget:null,inputClass:null,preset:[[se,{enable:!1}],[ie,{enable:!1},["rotate"]],[re,{direction:Fe}],[te,{direction:Fe},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bt=1,wt=2;le.prototype={set:function(e){return he(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?wt:bt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,s=t.curRecognizer;(!s||s&&s.state&vt)&&(s=t.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],t.stopped===wt||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(e),!s&&i.state&(ft|mt|gt)&&(s=t.curRecognizer=i),r++}},get:function(e){if(e instanceof Z)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(r(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(r(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=v(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==n&&t!==n){var i=this.handlers;return o(g(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this}},off:function(e,t){if(e!==n){var i=this.handlers;return o(g(e),function(e){t?i[e]&&i[e].splice(v(i[e],t),1):delete i[e]}),this}},emit:function(e,t){this.options.domEvents&&ue(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},he(ae,{INPUT_START:Ne,INPUT_MOVE:Me,INPUT_END:Oe,INPUT_CANCEL:De,STATE_POSSIBLE:pt,STATE_BEGAN:ft,STATE_CHANGED:mt,STATE_ENDED:gt,STATE_RECOGNIZED:vt,STATE_CANCELLED:_t,STATE_FAILED:yt,DIRECTION_NONE:Ie,DIRECTION_LEFT:Le,DIRECTION_RIGHT:Ae,DIRECTION_UP:je,DIRECTION_DOWN:ze,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:He,DIRECTION_ALL:$e,Manager:le,Input:E,TouchAction:Y,TouchInput:$,MouseInput:j,PointerEventInput:z,TouchMouseInput:W,SingleTouchInput:F,Recognizer:Z,AttrRecognizer:ee,Tap:oe,Pan:te,Swipe:re,Pinch:ie,Rotate:se,Press:ne,on:d,off:p,each:o,merge:ye,extend:_e,assign:he,inherit:l,bindFn:c,prefixed:b}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=ae,"function"==typeof define&&define.amd?define(function(){return ae}):"undefined"!=typeof module&&module.exports?module.exports=ae:e[i]=ae}(window,document,"Hammer");var explore_overlay={callback:null,fadeTime:600,onLoad:null,init:function(e,t,i,n){if(console.log("explore_overlay.init"),t?(t.call(),explore_overlay.callback=t):this.callback=null,n&&(this.onLoad=n),0==$("#explore_overlay").length){var s=mb_utils.getIEVersion().major>1;console.log("isIE: "+s);var r="ring-alt.svg";s&&(r="ring-alt.gif"),$("#page").append("<div id='explore_overlay'><div class='loading'><img src='/assets/public/"+r+"'><p>LOADING</p></div><div class='content'></div></div> ")}console.log("open modal!"),$("#explore_overlay .content").empty(),e+=e.indexOf("?")>=0?"&":"?";var o=(e+="layout=overlay&override_preview=true&overlay=true").split("?");/\/$/.test(o[0])||(o[0]+="/"),e=o.join("?"),$("#explore_overlay .content").append('<iframe src="'+e+'" frameborder=0 width=100% allowfullscreen="true" allow="fullscreen" />').addClass("visible");var a=$(window).height();$("#explore_overlay .content iframe").css({height:a}),explore_overlay.loadModal("",t),i&&(console.log("specialClass: "+i),$("#explore_overlay").addClass(i),$(".overlay_close_button").addClass(i)),$("#explore_overlay .loading").delay(200).fadeIn(),$("#explore_overlay .content iframe").on("load",function(){console.log("load the iframe"),explore_overlay.afterLoad(e)}),$("#explore_overlay").addClass("visible").animate({opacity:1},explore_overlay.fadeTime)},afterLoad:function(e){$("#explore_overlay .loading").fadeOut(),$(".overlay_close_button").addClass("visible").animate({opacity:1},explore_overlay.fadeTime/2),$("#explore_overlay .content").addClass("visible").animate({opacity:1},explore_overlay.fadeTime,function(){"undefined"!=typeof mb_parallax&&mb_parallax.init(!0),"undefined"!=typeof mb_utils&&mb_utils.initExpandableElement(),"object"==typeof ReactRailsUJS&&ReactRailsUJS.mountComponents(),$("body").addClass("overlay_loaded");var t=$("#explore_overlay title").text(),i=e.split("?")[0];console.log("Explore overlay title: "+t),"undefined"!=typeof _sendPageview&&_sendPageview(i,t)}),$(window).on("resize.explore_overlay",function(){var e=$(window).height();$("#explore_overlay .content iframe").css("height",e)})},loadFbFromResources:function(e){var t={category:e};$.getJSON("/api/v1/resources/",t,function(e){var t=[];$.each(e.items,function(e,i){var n={href:i.detail_image,title:i.title,type:"image",resource_id:i.id,description:i.short_description};t.push(n)}),$.fancybox(t,{padding:10,openEffect:"fade",closeEffect:"fade",mouseWheel:!1,theme:"dark",helpers:{thumbs:{source:function(e){return $(e.element).attr("data-thumbnail")}}},beforeLoad:function(){var e=this.title,t="/resources/"+this.resource_id+"/";e+="<div class='addthis_toolbox addthis_default_style'  addthis:url='"+t+"' addthis:title='"+this.title+"' addthis:description='"+this.description+"'>",e+='   <div class="buttons">',e+='     <a class="addthis_button_compact">',e+='       <img src="/assets/share.png">',e+="     </a>",e+='     <a class="button" href="'+t+' " target="_top">',e+="more info",e+="     </a>",e+="   </div>",e+="</div>",this.title=e},afterShow:function(){"undefined"!=typeof addthis&&addthis.toolbox($(".addthis_toolbox").get())}})})},loadModal:function(){console.log("explore overlay: loadModal()");try{window.mb_scroll_position&&window.mb_scroll_position.save()}catch(e){}$("#explore_overlay").scrollTop(0),0==$(".overlay_close_button").length&&$("#explore_overlay").before("<a class='overlay_close_button' href='javascript:void(0)'><div class='close_icon'></div></a>"),$(".overlay_close_button").one("click touchstart",function(e){e.preventDefault(),e.stopPropagation(),explore_overlay.closeModal()}),0==$("#explore_overlay .background_area").length&&$("#explore_overlay").append("<div class='background_area'></div>"),$("#explore_overlay .background_area").one("click",function(){console.log("click background"),explore_overlay.closeModal()}),$("html").addClass("explore_overlay_open"),$("body").addClass("explore_overlay_open"),explore_overlay.onLoad&&"function"==typeof explore_overlay.onLoad&&explore_overlay.onLoad.call()},closeModal:function(){explore_overlay.callback&&(explore_overlay.callback.call(),explore_overlay.callback=null),$(window).off("resize.explore_overlay"),$(".overlay_close_button").animate({opacity:0},explore_overlay.fadeTime/2,"linear",function(){$("#explore_overlay").animate({opacity:0},explore_overlay.fadeTime,function(){if($("#explore_overlay").removeClass("visible"),$("body").removeClass("explore_overlay_open overlay_loaded"),$("html").removeClass("explore_overlay_open overlay_loaded"),$("#explore_overlay .content").removeClass("visible").empty().css("opacity","0"),$(".overlay_close_button").removeClass("visible"),$("#timeline-embed").length)document.getElementById("timeline-embed").scrollIntoView();else try{window.mb_scroll_position&&window.mb_scroll_position.restore()}catch(e){}})})}};!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n=i(2),s=i(13),r=i(4),o=i(8);window.React=n,window.ReactDOM=s,window.createReactClass=r,window.PropTypes=o},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(e){for(var i,o,a=t(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))s.call(i,c)&&(a[c]=i[c]);if(n){o=n(i);for(var u=0;u<o.length;u++)r.call(i,o[u])&&(a[o[u]]=i[o[u]])}}return a}},function(e,t,i){"use strict";e.exports=i(10)},function(e,t,i){"use strict";function n(e){return e}function s(e,t,i){function s(e,t){var i=_.hasOwnProperty(t)?_[t]:null;E.hasOwnProperty(t)&&a("OVERRIDE_BASE"===i,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===i||"DEFINE_MANY_MERGED"===i,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function c(e,i){if(i){a("function"!=typeof i,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(i),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,r=n.__reactAutoBindPairs;for(var o in i.hasOwnProperty(l)&&b.mixins(e,i.mixins),i)if(i.hasOwnProperty(o)&&o!==l){var c=i[o],u=n.hasOwnProperty(o);if(s(u,o),b.hasOwnProperty(o))b[o](e,c);else{var h=_.hasOwnProperty(o);if("function"==typeof c&&!h&&!u&&!1!==i.autobind)r.push(o,c),n[o]=c;else if(u){var f=_[o];a(h&&("DEFINE_MANY_MERGED"===f||"DEFINE_MANY"===f),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,o),"DEFINE_MANY_MERGED"===f?n[o]=d(n[o],c):"DEFINE_MANY"===f&&(n[o]=p(n[o],c))}else n[o]=c}}}}function u(e,t){if(t)for(var i in t){var n=t[i];if(t.hasOwnProperty(i)){if(a(!(i in b),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i),i in e){var s=y.hasOwnProperty(i)?y[i]:null;return a("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i),void(e[i]=d(e[i],n))}e[i]=n}}}function h(e,t){for(var i in a(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(i)&&(a(void 0===e[i],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i),e[i]=t[i]);return e}function d(e,t){return function(){var i=e.apply(this,arguments),n=t.apply(this,arguments);if(null==i)return n;if(null==n)return i;var s={};return h(s,i),h(s,n),s}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){return t.bind(e)}function m(e){for(var t=e.__reactAutoBindPairs,i=0;i<t.length;i+=2){var n=t[i],s=t[i+1];e[n]=f(e,s)}}function g(e){var t=n(function(e,n,s){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=n,this.refs=o,this.updater=s||i,this.state=null;var r=this.getInitialState?this.getInitialState():null;a("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=r});for(var s in t.prototype=new S,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(c.bind(null,t)),c(t,w),c(t,e),c(t,x),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),_)t.prototype[s]||(t.prototype[s]=null);return t}var v=[],_={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},y={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)c(e,t[i])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){u(e,t)},autobind:function(){}},w={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},E={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},S=function(){};return r(S.prototype,e.prototype,E),g}var r=i(1),o=i(5),a=i(6),l="mixins";e.exports=s},function(e,t,i){"use strict";var n=i(2),s=i(3);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var r=(new n.Component).updater;e.exports=s(n.Component,n.isValidElement,r)},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";function t(e,t,n,s,r,o,a,l){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,s,r,o,a,l],h=0;(c=new Error(t.replace(/%s/g,function(){return u[h++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(){};e.exports=t},function(e,t,i){"use strict";function n(){}function s(){}var r=i(9);s.resetWarningCache=n,e.exports=function(){function e(e,t,i,n,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return i.PropTypes=i,i}},function(e,t,i){e.exports=i(7)()},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,i){
/** @license React v16.9.0
	 * react.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
"use strict";function n(e){for(var t=e.message,i="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}function s(e,t,i){this.props=e,this.context=t,this.refs=A,this.updater=i||L}function r(){}function o(e,t,i){this.props=e,this.context=t,this.refs=A,this.updater=i||L}function a(e,t,i){var n=void 0,s={},r=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)$.call(t,n)&&!B.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(1===a)s.children=i;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===s[n]&&(s[n]=a[n]);return{$$typeof:x,type:e,key:r,ref:o,props:s,_owner:H.current}}function l(e,t){return{$$typeof:x,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"==typeof e&&null!==e&&e.$$typeof===x}function u(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function h(e,t,i,n){if(V.length){var s=V.pop();return s.result=e,s.keyPrefix=t,s.func=i,s.context=n,s.count=0,s}return{result:e,keyPrefix:t,func:i,context:n,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>V.length&&V.push(e)}function p(e,t,i,s){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var o=!1;if(null===e)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case x:case E:o=!0}}if(o)return i(s,e,""===t?"."+m(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var l=t+m(r=e[a],a);o+=p(r,l,i,s)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=I&&e[I]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),a=0;!(r=e.next()).done;)o+=p(r=r.value,l=t+m(r,a++),i,s);else if("object"===r)throw i=""+e,n(Error(31),"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,"");return o}function f(e,t,i){return null==e?0:p(e,"",t,i)}function m(e,t){return"object"==typeof e&&null!==e&&null!=e.key?u(e.key):t.toString(36)}function g(e,t){e.func.call(e.context,t,e.count++)}function v(e,t,i){var n=e.result,s=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?_(e,n,i,function(e){return e}):null!=e&&(c(e)&&(e=l(e,s+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(W,"$&/")+"/")+i)),n.push(e))}function _(e,t,i,n,s){var r="";null!=i&&(r=(""+i).replace(W,"$&/")+"/"),f(e,v,t=h(t,r,n,s)),d(t)}function y(){var e=z.current;if(null===e)throw n(Error(321));return e}var b=i(1),w="function"==typeof Symbol&&Symbol["for"],x=w?Symbol["for"]("react.element"):60103,E=w?Symbol["for"]("react.portal"):60106,S=w?Symbol["for"]("react.fragment"):60107,k=w?Symbol["for"]("react.strict_mode"):60108,T=w?Symbol["for"]("react.profiler"):60114,C=w?Symbol["for"]("react.provider"):60109,R=w?Symbol["for"]("react.context"):60110,P=w?Symbol["for"]("react.forward_ref"):60112,N=w?Symbol["for"]("react.suspense"):60113,M=w?Symbol["for"]("react.suspense_list"):60120,O=w?Symbol["for"]("react.memo"):60115,D=w?Symbol["for"]("react.lazy"):60116;w&&Symbol["for"]("react.fundamental"),w&&Symbol["for"]("react.responder");var I="function"==typeof Symbol&&Symbol.iterator,L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A={};s.prototype.isReactComponent={},s.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw n(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},r.prototype=s.prototype;var j=o.prototype=new r;j.constructor=o,b(j,s.prototype),j.isPureReactComponent=!0;var z={current:null},F={suspense:null},H={current:null},$=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0},W=/\/+/g,V=[],U={Children:{map:function(e,t,i){if(null==e)return e;var n=[];return _(e,n,null,t,i),n},forEach:function(e,t,i){return null==e?e:(f(e,g,t=h(null,null,t,i)),void d(t))},count:function(e){return f(e,function(){return null},null)},toArray:function(e){var t=[];return _(e,t,null,function(e){return e}),t},only:function(e){if(!c(e))throw n(Error(143));return e}},createRef:function(){return{current:null}},Component:s,PureComponent:o,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:R,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:C,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:P,render:e}},lazy:function(e){return{$$typeof:D,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:O,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return y().useCallback(e,t)},useContext:function(e,t){return y().useContext(e,t)},useEffect:function(e,t){return y().useEffect(e,t)},useImperativeHandle:function(e,t,i){return y().useImperativeHandle(e,t,i)},useDebugValue:function(){},useLayoutEffect:function(e,t){return y().useLayoutEffect(e,t)},useMemo:function(e,t){return y().useMemo(e,t)},useReducer:function(e,t,i){return y().useReducer(e,t,i)},useRef:function(e){return y().useRef(e)},useState:function(e){return y().useState(e)},Fragment:S,Profiler:T,StrictMode:k,Suspense:N,unstable_SuspenseList:M,createElement:a,cloneElement:function(e,t,i){if(null==e)throw n(Error(267),e);var s=void 0,r=b({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,l=H.current),void 0!==t.key&&(o=""+t.key);var c=void 0;for(s in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)$.call(t,s)&&!B.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==c?c[s]:t[s])}if(1===(s=arguments.length-2))r.children=i;else if(1<s){c=Array(s);for(var u=0;u<s;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:x,type:e.type,key:o,ref:a,props:r,_owner:l}},createFactory:function(e){var t=a.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var i=F.suspense;F.suspense=void 0===t?null:t;try{e()}finally{F.suspense=i}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:z,ReactCurrentBatchConfig:F,ReactCurrentOwner:H,IsSomeRendererActing:{current:!1},assign:b}},q={"default":U},Y=q&&U||q;e.exports=Y["default"]||Y},,function(e,t,i){
/** @license React v16.9.0
	 * react-dom.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
"use strict";function n(e){for(var t=e.message,i="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}function s(){if(as)for(var e in ls){var t=ls[e],i=as.indexOf(e);if(!(-1<i))throw n(Error(96),e);if(!cs[i]){if(!t.extractEvents)throw n(Error(97),e);for(var s in cs[i]=t,i=t.eventTypes){var o=void 0,a=i[s],l=t,c=s;if(us.hasOwnProperty(c))throw n(Error(99),c);us[c]=a;var u=a.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&r(u[o],l,c);o=!0}else a.registrationName?(r(a.registrationName,l,c),o=!0):o=!1;if(!o)throw n(Error(98),s,e)}}}}function r(e,t,i){if(hs[e])throw n(Error(100),e);hs[e]=t,ds[e]=t.eventTypes[i].dependencies}function o(e,t,i){var n=Array.prototype.slice.call(arguments,3);try{t.apply(i,n)}catch(e){this.onError(e)}}function a(){ps=!1,fs=null,o.apply(vs,arguments)}function l(){if(a.apply(this,arguments),ps){if(!ps)throw n(Error(198));var e=fs;ps=!1,fs=null,ms||(ms=!0,gs=e)}}function c(e,t,i){var n=e.type||"unknown-event";e.currentTarget=bs(i),l(n,t,void 0,e),e.currentTarget=null}function u(e,t){if(null==t)throw n(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function h(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}function d(e){if(e){var t=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)c(e,t[n],i[n]);else t&&c(e,t,i);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function p(e){if(null!==e&&(ws=u(ws,e)),e=ws,ws=null,e){if(h(e,d),ws)throw n(Error(95));if(ms)throw e=gs,ms=!1,gs=null,e}}function f(e,t){var i=e.stateNode;if(!i)return null;var s=_s(i);if(!s)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw n(Error(231),t,typeof i);return i}function m(e){if(e[Ss])return e[Ss];for(;!e[Ss];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[Ss]).tag||6===e.tag?e:null}function g(e){return!(e=e[Ss])||5!==e.tag&&6!==e.tag?null:e}function v(e){if(5===e.tag||6===e.tag)return e.stateNode;throw n(Error(33))}function _(e){return e[ks]||null}function y(e){do{e=e["return"]}while(e&&5!==e.tag);return e||null}function b(e,t,i){(t=f(e,i.dispatchConfig.phasedRegistrationNames[t]))&&(i._dispatchListeners=u(i._dispatchListeners,t),i._dispatchInstances=u(i._dispatchInstances,e))}function w(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,i=[];t;)i.push(t),t=y(t);for(t=i.length;0<t--;)b(i[t],"captured",e);for(t=0;t<i.length;t++)b(i[t],"bubbled",e)}}function x(e,t,i){e&&i&&i.dispatchConfig.registrationName&&(t=f(e,i.dispatchConfig.registrationName))&&(i._dispatchListeners=u(i._dispatchListeners,t),i._dispatchInstances=u(i._dispatchInstances,e))}function E(e){e&&e.dispatchConfig.registrationName&&x(e._targetInst,null,e)}function S(e){h(e,w)}function k(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}function T(e){if(Rs[e])return Rs[e];if(!Cs[e])return e;var t,i=Cs[e];for(t in i)if(i.hasOwnProperty(t)&&t in Ps)return Rs[e]=i[t];return e}function C(){if(js)return js;var e,t,i=As,n=i.length,s="value"in Ls?Ls.value:Ls.textContent,r=s.length;for(e=0;e<n&&i[e]===s[e];e++);var o=n-e;for(t=1;t<=o&&i[n-t]===s[r-t];t++);return js=s.slice(e,1<t?1-t:void 0)}function R(){return!0}function P(){return!1}function N(e,t,i,n){for(var s in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=i,e=this.constructor.Interface)e.hasOwnProperty(s)&&((t=e[s])?this[s]=t(i):"target"===s?this.target=n:this[s]=i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?R:P,this.isPropagationStopped=P,this}function M(e,t,i,n){if(this.eventPool.length){var s=this.eventPool.pop();return this.call(s,e,t,i,n),s}return new this(e,t,i,n)}function O(e){if(!(e instanceof this))throw n(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function D(e){e.eventPool=[],e.getPooled=M,e.release=O}function I(e,t){switch(e){case"keyup":return-1!==Hs.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function L(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function A(e,t){switch(e){case"compositionend":return L(t);case"keypress":return 32!==t.which?null:(Ys=!0,Us);case"textInput":return(e=t.data)===Us&&Ys?null:e;default:return null}}function j(e,t){if(Gs)return"compositionend"===e||!$s&&I(e,t)?(e=C(),js=As=Ls=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vs&&"ko"!==t.locale?null:t.data;default:return null}}function z(e){if(e=ys(e)){if("function"!=typeof Zs)throw n(Error(280));var t=_s(e.stateNode);Zs(e.stateNode,e.type,t)}}function F(e){Qs?Ks?Ks.push(e):Ks=[e]:Qs=e}function H(){if(Qs){var e=Qs,t=Ks;if(Ks=Qs=null,z(e),t)for(e=0;e<t.length;e++)z(t[e])}}function $(e,t){return e(t)}function B(e,t,i,n){return e(t,i,n)}function W(){}function V(){null===Qs&&null===Ks||(W(),H())}function U(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!tr[e.type]:"textarea"===t}function q(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Y(e){if(!Ts)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){var t=G(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Z(e){e._valueTracker||(e._valueTracker=X(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=G(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_r&&e[_r]||e["@@iterator"])?e:null}function J(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ar:return"Fragment";case or:return"Portal";case cr:return"Profiler";case lr:return"StrictMode";case fr:return"Suspense";case mr:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case hr:return"Context.Consumer";case ur:return"Context.Provider";case pr:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case gr:return J(e.type);case vr:if(e=1===e._status?e._result:null)return J(e)}return null}function ee(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break e;default:var n=e._debugOwner,s=e._debugSource,r=J(e.type);i=null,n&&(i=J(n.type)),n=r,r="",s?r=" (at "+s.fileName.replace(nr,"")+":"+s.lineNumber+")":i&&(r=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+r}t+=i,e=e["return"]}while(e);return t}function te(e){return!!br.call(xr,e)||!br.call(wr,e)&&(yr.test(e)?xr[e]=!0:(wr[e]=!0,!1))}function ie(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ne(e,t,i,n){if(null==t||ie(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function se(e,t,i,n,s,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r}function re(e){return e[1].toUpperCase()}function oe(e,t,i,n){var s=Er.hasOwnProperty(t)?Er[t]:null;(null!==s?0===s.type:!n&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(ne(t,i,s,n)&&(i=null),n||null===s?te(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=null===i?3!==s.type&&"":i:(t=s.attributeName,n=s.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(s=s.type)||4===s&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}function ae(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function le(e,t){var i=t.checked;return rs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function ce(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=ae(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ue(e,t){null!=(t=t.checked)&&oe(e,"checked",t,!1)}function he(e,t){ue(e,t);var i=ae(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?pe(e,t.type,i):t.hasOwnProperty("defaultValue")&&pe(e,t.type,ae(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function de(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function pe(e,t,i){"number"===t&&e.ownerDocument.activeElement===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}function fe(e,t,i){return(e=N.getPooled(kr.change,e,t,i)).type="change",F(i),S(e),e}function me(e){p(e)}function ge(e){if(Q(v(e)))return e}function ve(e,t){if("change"===e)return t}function _e(){Tr&&(Tr.detachEvent("onpropertychange",ye),Cr=Tr=null)}function ye(e){if("value"===e.propertyName&&ge(Cr))if(e=fe(Cr,e,q(e)),er)p(e);else{er=!0;try{$(me,e)}finally{er=!1,V()}}}function be(e,t,i){"focus"===e?(_e(),Cr=i,(Tr=t).attachEvent("onpropertychange",ye)):"blur"===e&&_e()}function we(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ge(Cr)}function xe(e,t){if("click"===e)return ge(t)}function Ee(e,t){if("input"===e||"change"===e)return ge(t)}function Se(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mr[e])&&!!t[e]}function ke(){return Se}function Te(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function Ce(e,t){if(Te(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Hr.call(t,i[n])||!Te(e[i[n]],t[i[n]]))return!1;return!0}function Re(e,t){return{responder:e,props:t}}function Pe(e){var t=e;if(e.alternate)for(;t["return"];)t=t["return"];else{if(0!=(2&t.effectTag))return 1;for(;t["return"];)if(0!=(2&(t=t["return"]).effectTag))return 1}return 3===t.tag?2:3}function Ne(e){if(2!==Pe(e))throw n(Error(188))}function Me(e){var t=e.alternate;if(!t){if(3===(t=Pe(e)))throw n(Error(188));return 1===t?null:e}for(var i=e,s=t;;){var r=i["return"];if(null===r)break;var o=r.alternate;if(null===o){if(null!==(s=r["return"])){i=s;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return Ne(r),e;if(o===s)return Ne(r),t;o=o.sibling}throw n(Error(188))}if(i["return"]!==s["return"])i=r,s=o;else{for(var a=!1,l=r.child;l;){if(l===i){a=!0,i=r,s=o;break}if(l===s){a=!0,s=r,i=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===i){a=!0,i=o,s=r;break}if(l===s){a=!0,s=o,i=r;break}l=l.sibling}if(!a)throw n(Error(189))}}if(i.alternate!==s)throw n(Error(190))}if(3!==i.tag)throw n(Error(188));return i.stateNode.current===i?e:t}function Oe(e){if(!(e=Me(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function De(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ie(e){var t=e.targetInst,i=t;do{if(!i){e.ancestors.push(i);break}var n;for(n=i;n["return"];)n=n["return"];if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(i),i=m(n)}while(i);for(i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var s=q(e.nativeEvent);n=e.topLevelType;for(var r=e.nativeEvent,o=null,a=0;a<cs.length;a++){var l=cs[a];l&&(l=l.extractEvents(n,t,r,s))&&(o=u(o,l))}p(o)}}function Le(e,t){Ae(t,e,!1)}function Ae(e,t,i){switch(lo(t)){case 0:var n=je.bind(null,t,1);break;case 1:n=ze.bind(null,t,1);break;default:n=Fe.bind(null,t,1)}i?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function je(e,t,i){er||W();var n=Fe,s=er;er=!0;try{B(n,e,t,i)}finally{(er=s)||V()}}function ze(e,t,i){Fe(e,t,i)}function Fe(e,t,i){if(uo){if(null===(t=m(t=q(i)))||"number"!=typeof t.tag||2===Pe(t)||(t=null),co.length){var n=co.pop();n.topLevelType=e,n.nativeEvent=i,n.targetInst=t,e=n}else e={topLevelType:e,nativeEvent:i,targetInst:t,ancestors:[]};try{if(i=e,er)Ie(i,void 0);else{er=!0;try{Js(Ie,i,void 0)}finally{er=!1,V()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>co.length&&co.push(e)}}}function He(e){var t=ho.get(e);return void 0===t&&(t=new Set,ho.set(e,t)),t}function $e(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Be(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function We(e,t){var i,n=Be(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Be(n)}}function Ve(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ve(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ue(){for(var e=window,t=$e();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(e){i=!1}if(!i)break;t=$e((e=t.contentWindow).document)}return t}function qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ye(e,t){var i=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return _o||null==mo||mo!==$e(i)?null:("selectionStart"in(i=mo)&&qe(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vo&&Ce(vo,i)?null:(vo=i,(e=N.getPooled(fo.select,go,e,t)).type="select",e.target=mo,S(e),e))}function Ge(e){var t="";return ss.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function Xe(e,t){return e=rs({children:void 0},t),(t=Ge(t.children))&&(e.children=t),e}function Ze(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+ae(i),t=null,s=0;s<e.length;s++){if(e[s].value===i)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function Qe(e,t){if(null!=t.dangerouslySetInnerHTML)throw n(Error(91));return rs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ke(e,t){var i=t.value;if(null==i){if(i=t.defaultValue,null!=(t=t.children)){if(null!=i)throw n(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw n(Error(93));t=t[0]}i=t}null==i&&(i="")}e._wrapperState={initialValue:ae(i)}}function Je(e,t){var i=ae(t.value),n=ae(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function et(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function tt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?tt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function nt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}function st(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||Eo.hasOwnProperty(e)&&Eo[e]?(""+t).trim():t+"px"}function rt(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),s=st(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,s):e[i]=s}}function ot(e,t){if(t){if(ko[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw n(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw n(Error(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw n(Error(61))}if(null!=t.style&&"object"!=typeof t.style)throw n(Error(62),"")}}function at(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function lt(e,t){var i=He(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=ds[t];for(var n=0;n<t.length;n++){var s=t[n];if(!i.has(s)){switch(s){case"scroll":Ae(e,"scroll",!0);break;case"focus":case"blur":Ae(e,"focus",!0),Ae(e,"blur",!0),i.add("blur"),i.add("focus");break;case"cancel":case"close":Y(s)&&Ae(e,s,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Is.indexOf(s)&&Le(s,e)}i.add(s)}}}function ct(){}function ut(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ht(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function dt(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function pt(e){0>Mo||(e.current=No[Mo],No[Mo]=null,Mo--)}function ft(e,t){No[++Mo]=e.current,e.current=t}function mt(e,t){var i=e.type.contextTypes;if(!i)return Oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in i)r[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function gt(e){return null!=(e=e.childContextTypes)}function vt(e){pt(Io,e),pt(Do,e)}function _t(e){pt(Io,e),pt(Do,e)}function yt(e,t,i){if(Do.current!==Oo)throw n(Error(168));ft(Do,t,e),ft(Io,i,e)}function bt(e,t,i){var s=e.stateNode;if(e=t.childContextTypes,"function"!=typeof s.getChildContext)return i;for(var r in s=s.getChildContext())if(!(r in e))throw n(Error(108),J(t)||"Unknown",r);return rs({},i,s)}function wt(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Oo,Lo=Do.current,ft(Do,t,e),ft(Io,Io.current,e),!0}function xt(e,t,i){var s=e.stateNode;if(!s)throw n(Error(169));i?(t=bt(e,t,Lo),s.__reactInternalMemoizedMergedChildContext=t,pt(Io,e),pt(Do,e),ft(Do,t,e)):pt(Io,e),ft(Io,i,e)}function Et(){switch(Bo()){case Wo:return 99;case Vo:return 98;case Uo:return 97;case qo:return 96;case Yo:return 95;default:throw n(Error(332))}}function St(e){switch(e){case 99:return Wo;case 98:return Vo;case 97:return Uo;case 96:return qo;case 95:return Yo;default:throw n(Error(332))}}function kt(e,t){return e=St(e),Ao(e,t)}function Tt(e,t,i){return e=St(e),jo(e,t,i)}function Ct(e){return null===Zo?(Zo=[e],Qo=jo(Wo,Pt)):Zo.push(e),Go}function Rt(){null!==Qo&&zo(Qo),Pt()}function Pt(){if(!Ko&&null!==Zo){Ko=!0;var e=0;try{var t=Zo;kt(99,function(){for(;e<t.length;e++){var i=t[e];do{i=i(!0)}while(null!==i)}}),Zo=null}catch(t){throw null!==Zo&&(Zo=Zo.slice(e+1)),jo(Wo,Rt),t}finally{Ko=!1}}}function Nt(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function Mt(e,t){if(e&&e.defaultProps)for(var i in t=rs({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}function Ot(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t["default"],e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}function Dt(){sa=na=ia=null}function It(e,t){var i=e.type._context;ft(ta,i._currentValue,e),i._currentValue=t}function Lt(e){var t=ta.current;pt(ta,e),e.type._context._currentValue=t}function At(e,t){for(;null!==e;){var i=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==i&&i.childExpirationTime<t&&(i.childExpirationTime=t);else{if(!(null!==i&&i.childExpirationTime<t))break;i.childExpirationTime=t}e=e["return"]}}function jt(e,t){ia=e,sa=na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Xa=!0),e.firstContext=null)}function zt(e,t){if(sa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(sa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===na){if(null===ia)throw n(Error(308));na=t,ia.dependencies={expirationTime:0,firstContext:t,responders:null}}else na=na.next=t;return e._currentValue}function Ft(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ht(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $t(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Bt(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Wt(e,t){var i=e.alternate;if(null===i){var n=e.updateQueue,s=null;null===n&&(n=e.updateQueue=Ft(e.memoizedState))}else n=e.updateQueue,s=i.updateQueue,null===n?null===s?(n=e.updateQueue=Ft(e.memoizedState),s=i.updateQueue=Ft(i.memoizedState)):n=e.updateQueue=Ht(s):null===s&&(s=i.updateQueue=Ht(n));null===s||n===s?Bt(n,t):null===n.lastUpdate||null===s.lastUpdate?(Bt(n,t),Bt(s,t)):(Bt(n,t),s.lastUpdate=t)}function Vt(e,t){var i=e.updateQueue;null===(i=null===i?e.updateQueue=Ft(e.memoizedState):Ut(e,i)).lastCapturedUpdate?i.firstCapturedUpdate=i.lastCapturedUpdate=t:(i.lastCapturedUpdate.next=t,i.lastCapturedUpdate=t)}function Ut(e,t){var i=e.alternate;return null!==i&&t===i.updateQueue&&(t=e.updateQueue=Ht(t)),t}function qt(e,t,i,n,s,r){switch(i.tag){case 1:return"function"==typeof(e=i.payload)?e.call(r,n,s):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(s="function"==typeof(e=i.payload)?e.call(r,n,s):e))break;return rs({},n,s);case 2:ra=!0}return n}function Yt(e,t,i,n,s){ra=!1;for(var r=(t=Ut(e,t)).baseState,o=null,a=0,l=t.firstUpdate,c=r;null!==l;){var u=l.expirationTime;u<s?(null===o&&(o=l,r=c),a<u&&(a=u)):(wn(u,l.suspenseConfig),c=qt(e,t,l,c,i,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<s?(null===u&&(u=l,null===o&&(r=c)),a<h&&(a=h)):(c=qt(e,t,l,c,i,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(r=c),t.baseState=r,t.firstUpdate=o,t.firstCapturedUpdate=u,e.expirationTime=a,e.memoizedState=c}function Gt(e,t,i){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Xt(t.firstEffect,i),t.firstEffect=t.lastEffect=null,Xt(t.firstCapturedEffect,i),t.firstCapturedEffect=t.lastCapturedEffect=null}function Xt(e,t){for(;null!==e;){var i=e.callback;if(null!==i){e.callback=null;var s=t;if("function"!=typeof i)throw n(Error(191),i);i.call(s)}e=e.nextEffect}}function Zt(e,t,i,n){i=null==(i=i(n,t=e.memoizedState))?t:rs({},t,i),e.memoizedState=i,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=i)}function Qt(e,t,i,n,s,r,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,o):!(t.prototype&&t.prototype.isPureReactComponent&&Ce(i,n)&&Ce(s,r))}function Kt(e,t,i){var n=!1,s=Oo,r=t.contextType;return"object"==typeof r&&null!==r?r=zt(r):(s=gt(t)?Lo:Do.current,r=(n=null!=(n=t.contextTypes))?mt(e,s):Oo),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=la,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function Jt(e,t,i,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function ei(e,t,i,n){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs=aa;var r=t.contextType;"object"==typeof r&&null!==r?s.context=zt(r):(r=gt(t)?Lo:Do.current,s.context=mt(e,r)),null!==(r=e.updateQueue)&&(Yt(e,r,i,s,n),s.state=e.memoizedState),"function"==typeof(r=t.getDerivedStateFromProps)&&(Zt(e,t,r,i),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&la.enqueueReplaceState(s,s.state,null),null!==(r=e.updateQueue)&&(Yt(e,r,i,s,n),s.state=e.memoizedState)),"function"==typeof s.componentDidMount&&(e.effectTag|=4)}function ti(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){i=i._owner;var s=void 0;if(i){if(1!==i.tag)throw n(Error(309));s=i.stateNode}if(!s)throw n(Error(147),e);var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=s.refs;t===aa&&(t=s.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw n(Error(284));if(!i._owner)throw n(Error(290),e)}return e}function ii(e,t){if("textarea"!==e.type)throw n(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ni(e){function t(t,i){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,i){return(e=jn(e,t,i)).index=0,e.sibling=null,e}function o(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.effectTag=2,i):n:(t.effectTag=2,i):i}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Hn(i,e.mode,n))["return"]=e,t):((t=r(t,i,n))["return"]=e,t)}function c(e,t,i,n){return null!==t&&t.elementType===i.type?((n=r(t,i.props,n)).ref=ti(e,t,i),n["return"]=e,n):((n=zn(i.type,i.key,i.props,null,e.mode,n)).ref=ti(e,t,i),n["return"]=e,n)}function u(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=$n(i,e.mode,n))["return"]=e,t):((t=r(t,i.children||[],n))["return"]=e,t)}function h(e,t,i,n,s){return null===t||7!==t.tag?((t=Fn(i,e.mode,n,s))["return"]=e,t):((t=r(t,i,n))["return"]=e,t)}function d(e,t,i){if("string"==typeof t||"number"==typeof t)return(t=Hn(""+t,e.mode,i))["return"]=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case rr:return(i=zn(t.type,t.key,t.props,null,e.mode,i)).ref=ti(e,null,t),i["return"]=e,i;case or:return(t=$n(t,e.mode,i))["return"]=e,t}if(ca(t)||K(t))return(t=Fn(t,e.mode,i,null))["return"]=e,t;ii(e,t)}return null}function p(e,t,i,n){var s=null!==t?t.key:null;if("string"==typeof i||"number"==typeof i)return null!==s?null:l(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case rr:return i.key===s?i.type===ar?h(e,t,i.props.children,n,s):c(e,t,i,n):null;case or:return i.key===s?u(e,t,i,n):null}if(ca(i)||K(i))return null!==s?null:h(e,t,i,n,null);ii(e,i)}return null}function f(e,t,i,n,s){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(i)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case rr:return e=e.get(null===n.key?i:n.key)||null,n.type===ar?h(t,e,n.props.children,s,n.key):c(t,e,n,s);case or:return u(t,e=e.get(null===n.key?i:n.key)||null,n,s)}if(ca(n)||K(n))return h(t,e=e.get(i)||null,n,s,null);ii(t,n)}return null}function m(n,r,a,l){for(var c=null,u=null,h=r,m=r=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(n,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(n,h),r=o(v,r,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return i(n,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(n,a[m],l))&&(r=o(h,r,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=s(n,h);m<a.length;m++)null!==(g=f(h,n,m,a[m],l))&&(e&&null!==g.alternate&&h["delete"](null===g.key?m:g.key),r=o(g,r,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(n,e)}),c}function g(r,a,l,c){var u=K(l);if("function"!=typeof u)throw n(Error(150));if(null==(l=u.call(l)))throw n(Error(151));for(var h=u=null,m=a,g=a=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=p(r,m,_.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(r,m),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y,m=v}if(_.done)return i(r,m),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=d(r,_.value,c))&&(a=o(_,a,g),null===h?u=_:h.sibling=_,h=_);return u}for(m=s(r,m);!_.done;g++,_=l.next())null!==(_=f(m,r,g,_.value,c))&&(e&&null!==_.alternate&&m["delete"](null===_.key?g:_.key),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_);return e&&m.forEach(function(e){return t(r,e)}),u}return function(e,s,o,l){var c="object"==typeof o&&null!==o&&o.type===ar&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case rr:e:{for(u=o.key,c=s;null!==c;){if(c.key===u){if(7===c.tag?o.type===ar:c.elementType===o.type){i(e,c.sibling),(s=r(c,o.type===ar?o.props.children:o.props,l)).ref=ti(e,c,o),s["return"]=e,e=s;break e}i(e,c);break}t(e,c),c=c.sibling}o.type===ar?((s=Fn(o.props.children,e.mode,l,o.key))["return"]=e,e=s):((l=zn(o.type,o.key,o.props,null,e.mode,l)).ref=ti(e,s,o),l["return"]=e,e=l)}return a(e);case or:e:{for(c=o.key;null!==s;){
if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){i(e,s.sibling),(s=r(s,o.children||[],l))["return"]=e,e=s;break e}i(e,s);break}t(e,s),s=s.sibling}(s=$n(o,e.mode,l))["return"]=e,e=s}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==s&&6===s.tag?(i(e,s.sibling),(s=r(s,o,l))["return"]=e,e=s):(i(e,s),(s=Hn(o,e.mode,l))["return"]=e,e=s),a(e);if(ca(o))return m(e,s,o,l);if(K(o))return g(e,s,o,l);if(u&&ii(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,n(Error(152),e.displayName||e.name||"Component")}return i(e,s)}}function si(e){if(e===da)throw n(Error(174));return e}function ri(e,t){ft(ma,t,e),ft(fa,e,e),ft(pa,da,e);var i=t.nodeType;switch(i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:it(null,"");break;default:t=it(t=(i=8===i?t.parentNode:t).namespaceURI||null,i=i.tagName)}pt(pa,e),ft(pa,t,e)}function oi(e){pt(pa,e),pt(fa,e),pt(ma,e)}function ai(e){si(ma.current);var t=si(pa.current),i=it(t,e.type);t!==i&&(ft(fa,e,e),ft(pa,i,e))}function li(e){fa.current===e&&(pt(pa,e),pt(fa,e))}function ci(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child["return"]=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}return null}function ui(){throw n(Error(321))}function hi(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Te(e[i],t[i]))return!1;return!0}function di(e,t,i,s,r,o){if(Pa=o,Na=t,Oa=null!==e?e.memoizedState:null,Ra.current=null===Oa?Wa:Va,t=i(s,r),Fa){do{Fa=!1,$a+=1,Oa=null!==e?e.memoizedState:null,La=Da,ja=Ia=Ma=null,Ra.current=Va,t=i(s,r)}while(Fa);Ha=null,$a=0}if(Ra.current=Ba,(e=Na).memoizedState=Da,e.expirationTime=Aa,e.updateQueue=ja,e.effectTag|=za,e=null!==Ma&&null!==Ma.next,Pa=0,La=Ia=Da=Oa=Ma=Na=null,Aa=0,ja=null,za=0,e)throw n(Error(300));return t}function pi(){Ra.current=Ba,Pa=0,La=Ia=Da=Oa=Ma=Na=null,Aa=0,ja=null,za=0,Fa=!1,Ha=null,$a=0}function fi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ia?Da=Ia=e:Ia=Ia.next=e,Ia}function mi(){if(null!==La)La=(Ia=La).next,Oa=null!==(Ma=Oa)?Ma.next:null;else{if(null===Oa)throw n(Error(310));var e={memoizedState:(Ma=Oa).memoizedState,baseState:Ma.baseState,queue:Ma.queue,baseUpdate:Ma.baseUpdate,next:null};Ia=null===Ia?Da=e:Ia.next=e,Oa=Ma.next}return Ia}function gi(e,t){return"function"==typeof t?t(e):t}function vi(e){var t=mi(),i=t.queue;if(null===i)throw n(Error(311));if(i.lastRenderedReducer=e,0<$a){var s=i.dispatch;if(null!==Ha){var r=Ha.get(i);if(void 0!==r){Ha["delete"](i);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return Te(o,t.memoizedState)||(Xa=!0),t.memoizedState=o,t.baseUpdate===i.last&&(t.baseState=o),i.lastRenderedState=o,[o,s]}}return[t.memoizedState,s]}s=i.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==s&&(s.next=null),s=a.next):s=null!==s?s.next:null,null!==s){var l=r=null,c=s,u=!1;do{var h=c.expirationTime;h<Pa?(u||(u=!0,l=a,r=o),h>Aa&&(Aa=h)):(wn(h,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),a=c,c=c.next}while(null!==c&&c!==s);u||(l=a,r=o),Te(o,t.memoizedState)||(Xa=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=r,i.lastRenderedState=o}return[t.memoizedState,i.dispatch]}function _i(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===ja?(ja={lastEffect:null}).lastEffect=e.next=e:null===(t=ja.lastEffect)?ja.lastEffect=e.next=e:(i=t.next,t.next=e,e.next=i,ja.lastEffect=e),e}function yi(e,t,i,n){var s=fi();za|=e,s.memoizedState=_i(t,i,void 0,void 0===n?null:n)}function bi(e,t,i,n){var s=mi();n=void 0===n?null:n;var r=void 0;if(null!==Ma){var o=Ma.memoizedState;if(r=o.destroy,null!==n&&hi(n,o.deps))return void _i(ba,i,r,n)}za|=e,s.memoizedState=_i(t,i,r,n)}function wi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xi(){}function Ei(e,t,i){if(!(25>$a))throw n(Error(301));var s=e.alternate;if(e===Na||null!==s&&s===Na)if(Fa=!0,e={expirationTime:Pa,suspenseConfig:null,action:i,eagerReducer:null,eagerState:null,next:null},null===Ha&&(Ha=new Map),void 0===(i=Ha.get(t)))Ha.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}else{var r=an(),o=oa.suspense;o={expirationTime:r=ln(r,e,o),suspenseConfig:o,action:i,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)o.next=o;else{var l=a.next;null!==l&&(o.next=l),a.next=o}if(t.last=o,0===e.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=s(c,i);if(o.eagerReducer=s,o.eagerState=u,Te(u,c))return}catch(e){}cn(e,r)}}function Si(e,t){var i=In(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i["return"]=e,i.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function ki(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ti(e){if(Ya){var t=qa;if(t){var i=t;if(!ki(e,t)){if(!(t=dt(i.nextSibling))||!ki(e,t))return e.effectTag|=2,Ya=!1,void(Ua=e);Si(Ua,i)}Ua=e,qa=dt(t.firstChild)}else e.effectTag|=2,Ya=!1,Ua=e}}function Ci(e){for(e=e["return"];null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e["return"];Ua=e}function Ri(e){if(e!==Ua)return!1;if(!Ya)return Ci(e),Ya=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ht(t,e.memoizedProps))for(t=qa;t;)Si(e,t),t=dt(t.nextSibling);return Ci(e),qa=Ua?dt(e.stateNode.nextSibling):null,!0}function Pi(){qa=Ua=null,Ya=!1}function Ni(e,t,i,n){t.child=null===e?ha(t,null,i,n):ua(t,e.child,i,n)}function Mi(e,t,i,n,s){i=i.render;var r=t.ref;return jt(t,s),n=di(e,t,i,n,r,s),null===e||Xa?(t.effectTag|=1,Ni(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=s&&(e.expirationTime=0),Bi(e,t,s))}function Oi(e,t,i,n,s,r){if(null===e){var o=i.type;return"function"!=typeof o||Ln(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=zn(i.type,null,n,null,t.mode,r)).ref=t.ref,e["return"]=t,t.child=e):(t.tag=15,t.type=o,Di(e,t,o,n,s,r))}return o=e.child,s<r&&(s=o.memoizedProps,(i=null!==(i=i.compare)?i:Ce)(s,n)&&e.ref===t.ref)?Bi(e,t,r):(t.effectTag|=1,(e=jn(o,n,r)).ref=t.ref,e["return"]=t,t.child=e)}function Di(e,t,i,n,s,r){return null!==e&&Ce(e.memoizedProps,n)&&e.ref===t.ref&&(Xa=!1,s<r)?Bi(e,t,r):Li(e,t,i,n,r)}function Ii(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.effectTag|=128)}function Li(e,t,i,n,s){var r=gt(i)?Lo:Do.current;return r=mt(t,r),jt(t,s),i=di(e,t,i,n,r,s),null===e||Xa?(t.effectTag|=1,Ni(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=s&&(e.expirationTime=0),Bi(e,t,s))}function Ai(e,t,i,n,s){if(gt(i)){var r=!0;wt(t)}else r=!1;if(jt(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Kt(t,i,n,s),ei(t,i,n,s),n=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=i.contextType;"object"==typeof c&&null!==c?c=zt(c):c=mt(t,c=gt(i)?Lo:Do.current);var u=i.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==n||l!==c)&&Jt(t,o,n,c),ra=!1;var d=t.memoizedState;l=o.state=d;var p=t.updateQueue;null!==p&&(Yt(t,p,n,o,s),l=t.memoizedState),a!==n||d!==l||Io.current||ra?("function"==typeof u&&(Zt(t,i,u,n),l=t.memoizedState),(a=ra||Qt(t,i,a,n,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):("function"==typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,a=t.memoizedProps,o.props=t.type===t.elementType?a:Mt(t.type,a),l=o.context,"object"==typeof(c=i.contextType)&&null!==c?c=zt(c):c=mt(t,c=gt(i)?Lo:Do.current),(h="function"==typeof(u=i.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==n||l!==c)&&Jt(t,o,n,c),ra=!1,l=t.memoizedState,d=o.state=l,null!==(p=t.updateQueue)&&(Yt(t,p,n,o,s),d=t.memoizedState),a!==n||l!==d||Io.current||ra?("function"==typeof u&&(Zt(t,i,u,n),d=t.memoizedState),(u=ra||Qt(t,i,a,n,l,d,c))?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return ji(e,t,i,n,r,s)}function ji(e,t,i,n,s,r){Ii(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return s&&xt(t,i,!1),Bi(e,t,r);n=t.stateNode,Ga.current=t;var a=o&&"function"!=typeof i.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=ua(t,e.child,null,r),t.child=ua(t,null,a,r)):Ni(e,t,a,r),t.memoizedState=n.state,s&&xt(t,i,!0),t.child}function zi(e){var t=e.stateNode;t.pendingContext?yt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yt(e,t.context,!1),ri(e,t.containerInfo)}function Fi(e,t,i){var n,s=t.mode,r=t.pendingProps,o=ya.current,a=null,l=!1;if((n=0!=(64&t.effectTag))||(n=0!=(o&_a)&&(null===e||null!==e.memoizedState)),n?(a=Za,l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=va),ft(ya,o&=ga,t),null===e)if(l){if(r=r.fallback,(e=Fn(null,s,0,null))["return"]=t,0==(2&t.mode))for(l=null!==t.memoizedState?t.child.child:t.child,e.child=l;null!==l;)l["return"]=e,l=l.sibling;(i=Fn(r,s,i,null))["return"]=t,e.sibling=i,s=e}else s=i=ha(t,null,r.children,i);else{if(null!==e.memoizedState)if(s=(o=e.child).sibling,l){if(r=r.fallback,(i=jn(o,o.pendingProps,0))["return"]=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==o.child)for(i.child=l;null!==l;)l["return"]=i,l=l.sibling;(r=jn(s,r,s.expirationTime))["return"]=t,i.sibling=r,s=i,i.childExpirationTime=0,i=r}else s=i=ua(t,o.child,r.children,i);else if(o=e.child,l){if(l=r.fallback,(r=Fn(null,s,0,null))["return"]=t,r.child=o,null!==o&&(o["return"]=r),0==(2&t.mode))for(o=null!==t.memoizedState?t.child.child:t.child,r.child=o;null!==o;)o["return"]=r,o=o.sibling;(i=Fn(l,s,i,null))["return"]=t,r.sibling=i,i.effectTag|=2,s=r,r.childExpirationTime=0}else i=s=ua(t,o,r.children,i);t.stateNode=e.stateNode}return t.memoizedState=a,t.child=s,i}function Hi(e,t,i,n,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:i,tailExpiration:0,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.last=n,r.tail=i,r.tailExpiration=0,r.tailMode=s)}function $i(e,t,i){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(Ni(e,t,n.children,i),0!=((n=ya.current)&_a))n=n&ga|_a,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<i&&(e.expirationTime=i);var o=e.alternate;null!==o&&o.expirationTime<i&&(o.expirationTime=i),At(e["return"],i)}}else if(null!==e.child){e.child["return"]=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e["return"]||e["return"]===t)break e;e=e["return"]}e.sibling["return"]=e["return"],e=e.sibling}n&=ga}if(ft(ya,n,t),0==(2&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;null!==i;)null!==(n=i.alternate)&&null===ci(n)&&(s=i),i=i.sibling;null===(i=s)?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Hi(t,!1,s,i,r);break;case"backwards":for(i=null,s=t.child,t.child=null;null!==s;){if(null!==(n=s.alternate)&&null===ci(n)){t.child=s;break}n=s.sibling,s.sibling=i,i=s,s=n}Hi(t,!0,i,null,r);break;case"together":Hi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<i)return null;if(null!==e&&t.child!==e.child)throw n(Error(153));if(null!==t.child){for(i=jn(e=t.child,e.pendingProps,e.expirationTime),t.child=i,i["return"]=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=jn(e,e.pendingProps,e.expirationTime))["return"]=t;i.sibling=null}return t.child}function Wi(e){e.effectTag|=4}function Vi(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ui(e){switch(e.tag){case 1:gt(e.type)&&vt(e);var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(oi(e),_t(e),0!=(64&(t=e.effectTag)))throw n(Error(285));return e.effectTag=-2049&t|64,e;case 5:return li(e),null;case 13:return pt(ya,e),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return pt(ya,e),null;case 4:return oi(e),null;case 10:return Lt(e),null;default:return null}}function qi(e,t){return{value:e,source:t,stack:ee(t)}}function Yi(e,t){var i=t.source,n=t.stack;null===n&&null!==i&&(n=ee(i)),null!==i&&J(i.type),t=t.value,null!==e&&1===e.tag&&J(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Gi(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Pn(e,t)}}function Xi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Pn(e,t)}else t.current=null}function Zi(e,t,i){if(null!==(i=null!==(i=i.updateQueue)?i.lastEffect:null)){var n=i=i.next;do{if((n.tag&e)!==ba){var s=n.destroy;n.destroy=void 0,void 0!==s&&s()}(n.tag&t)!==ba&&(s=n.create,n.destroy=s()),n=n.next}while(n!==i)}}function Qi(e,t){switch("function"==typeof $l&&$l(e),e.tag){case 0:case 11:case 14:case 15:var i=e.updateQueue;if(null!==i&&null!==(i=i.lastEffect)){var n=i.next;kt(97<t?97:t,function(){var t=n;do{var i=t.destroy;if(void 0!==i){var s=e;try{i()}catch(e){Pn(s,e)}}t=t.next}while(t!==n)})}break;case 1:Xi(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&Gi(e,t);break;case 5:Xi(e);break;case 4:tn(e,t)}}function Ki(e,t){for(var i=e;;)if(Qi(i,t),null!==i.child&&4!==i.tag)i.child["return"]=i,i=i.child;else{if(i===e)break;for(;null===i.sibling;){if(null===i["return"]||i["return"]===e)return;i=i["return"]}i.sibling["return"]=i["return"],i=i.sibling}}function Ji(e){return 5===e.tag||3===e.tag||4===e.tag}function en(e){e:{for(var t=e["return"];null!==t;){if(Ji(t)){var i=t;break e}t=t["return"]}throw n(Error(160))}switch(t=i.stateNode,i.tag){case 5:var s=!1;break;case 3:case 4:t=t.containerInfo,s=!0;break;default:throw n(Error(161))}16&i.effectTag&&(nt(t,""),i.effectTag&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i["return"]||Ji(i["return"])){i=null;break e}i=i["return"]}for(i.sibling["return"]=i["return"],i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue t;if(null===i.child||4===i.tag)continue t;i.child["return"]=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break e}}for(var r=e;;){var o=5===r.tag||6===r.tag;if(o||20===r.tag){var a=o?r.stateNode:r.stateNode.instance;if(i)if(s){var l=a;a=i,8===(o=t).nodeType?o.parentNode.insertBefore(l,a):o.insertBefore(l,a)}else t.insertBefore(a,i);else s?(8===(l=t).nodeType?(o=l.parentNode).insertBefore(a,l):(o=l).appendChild(a),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=ct)):t.appendChild(a)}else if(4!==r.tag&&null!==r.child){r.child["return"]=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r["return"]||r["return"]===e)return;r=r["return"]}r.sibling["return"]=r["return"],r=r.sibling}}function tn(e,t){for(var i=e,s=!1,r=void 0,o=void 0;;){if(!s){s=i["return"];e:for(;;){if(null===s)throw n(Error(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s["return"]}s=!0}if(5===i.tag||6===i.tag)if(Ki(i,t),o){var a=r,l=i.stateNode;8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)}else r.removeChild(i.stateNode);else if(20===i.tag)l=i.stateNode.instance,Ki(i,t),o?8===(a=r).nodeType?a.parentNode.removeChild(l):a.removeChild(l):r.removeChild(l);else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child["return"]=i,i=i.child;continue}}else if(Qi(i,t),null!==i.child){i.child["return"]=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i["return"]||i["return"]===e)return;4===(i=i["return"]).tag&&(s=!1)}i.sibling["return"]=i["return"],i=i.sibling}}function nn(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Zi(xa,Ea,t);break;case 1:break;case 5:var i=t.stateNode;if(null!=i){var s=t.memoizedProps,r=null!==e?e.memoizedProps:s;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(i[ks]=s,"input"===e&&"radio"===s.type&&null!=s.name&&ue(i,s),at(e,r),t=at(e,s),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?rt(i,l):"dangerouslySetInnerHTML"===a?xo(i,l):"children"===a?nt(i,l):oe(i,a,l,t)}switch(e){case"input":he(i,s);break;case"textarea":Je(i,s);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!s.multiple,null!=(e=s.value)?Ze(i,!!s.multiple,e,!1):t!==!!s.multiple&&(null!=s.defaultValue?Ze(i,!!s.multiple,s.defaultValue,!0):Ze(i,!!s.multiple,s.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw n(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(i=t,null===t.memoizedState?s=!1:(s=!0,i=t.child,Sl=ea()),null!==i)e:for(e=i;;){if(5===e.tag)o=e.stateNode,s?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=st("display",r));else if(6===e.tag)e.stateNode.nodeValue=s?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling)["return"]=e,e=o;continue}if(null!==e.child){e.child["return"]=e,e=e.child;continue}}if(e===i)break e;for(;null===e.sibling;){if(null===e["return"]||e["return"]===i)break e;e=e["return"]}e.sibling["return"]=e["return"],e=e.sibling}sn(t);break;case 19:sn(t);break;case 17:case 20:break;default:throw n(Error(163))}}function sn(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new tl),t.forEach(function(t){var n=Mn.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))})}}function rn(e,t,i){(i=$t(i,null)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Cl||(Cl=!0,Rl=n),Yi(e,t)},i}function on(e,t,i){(i=$t(i,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var s=t.value;i.payload=function(){return Yi(e,t),n(s)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(i.callback=function(){"function"!=typeof n&&(null===Pl?Pl=new Set([this]):Pl.add(this),Yi(e,t));var i=t.stack;this.componentDidCatch(t.value,{componentStack:null!==i?i:""})}),i}function an(){return(ml&(ll|cl))!==ol?1073741821-(ea()/10|0):0!==jl?jl:jl=1073741821-(ea()/10|0)}function ln(e,t,i){if(0==(2&(t=t.mode)))return 1073741823;var s=Et();if(0==(4&t))return 99===s?1073741823:1073741822;if((ml&ll)!==ol)return _l;if(null!==i)e=1073741821-25*(1+((1073741821-e+(0|i.timeoutMs||5e3)/10)/25|0));else switch(s){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw n(Error(326))}return null!==gl&&e===_l&&--e,e}function cn(e,t){if(50<Ll)throw Ll=0,Al=null,n(Error(185));if(null!==(e=un(e,t))){e.pingTime=0;var i=Et();if(1073741823===t)if((ml&al)!==ol&&(ml&(ll|cl))===ol)for(var s=bn(e,1073741823,!0);null!==s;)s=s(!0);else hn(e,99,1073741823),ml===ol&&Rt();else hn(e,i,t);(4&ml)===ol||98!==i&&99!==i||(null===Il?Il=new Map([[e,t]]):(void 0===(i=Il.get(e))||i>t)&&Il.set(e,t))}}function un(e,t){e.expirationTime<t&&(e.expirationTime=t);var i=e.alternate;null!==i&&i.expirationTime<t&&(i.expirationTime=t);var n=e["return"],s=null;if(null===n&&3===e.tag)s=e.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==i&&i.childExpirationTime<t&&(i.childExpirationTime=t),null===n["return"]&&3===n.tag){s=n.stateNode;break}n=n["return"]}return null!==s&&(t>s.firstPendingTime&&(s.firstPendingTime=t),0===(e=s.lastPendingTime)||t<e)&&(s.lastPendingTime=t),s}function hn(e,t,i){if(e.callbackExpirationTime<i){var n=e.callbackNode;null!==n&&n!==Go&&zo(n),e.callbackExpirationTime=i,1073741823===i?e.callbackNode=Ct(dn.bind(null,e,bn.bind(null,e,i))):(n=null,1!==i&&(n={timeout:10*(1073741821-i)-ea()}),e.callbackNode=Tt(t,dn.bind(null,e,bn.bind(null,e,i)),n))}}function dn(e,t,i){var n=e.callbackNode,s=null;try{return null!==(s=t(i))?dn.bind(null,e,s):null}finally{null===s&&n===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function pn(){(ml&(1|ll|cl))===ol&&(mn(),Tn())}function fn(e,t){var i=e.firstBatch;return!!(null!==i&&i._defer&&i._expirationTime>=t)&&(Tt(97,function(){return i._onComplete(),null}),!0)}function mn(){if(null!==Il){var e=Il;Il=null,e.forEach(function(e,t){Ct(bn.bind(null,t,e))}),Rt()}}function gn(e,t){var i=ml;ml|=1;try{return e(t)}finally{(ml=i)===ol&&Rt()}}function vn(e,t,i,n){var s=ml;ml|=4;try{return kt(98,e.bind(null,t,i,n))}finally{(ml=s)===ol&&Rt()}}function _n(e,t){var i=ml;ml&=-2,ml|=al;try{return e(t)}finally{(ml=i)===ol&&Rt()}}function yn(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,Po(i)),null!==vl)for(i=vl["return"];null!==i;){var n=i;switch(n.tag){case 1:var s=n.type.childContextTypes;null!=s&&vt(n);break;case 3:oi(n),_t(n);break;case 5:li(n);break;case 4:oi(n);break;case 13:case 19:pt(ya,n);break;case 10:Lt(n)}i=i["return"]}gl=e,vl=jn(e.current,null,t),_l=t,yl=ul,wl=bl=1073741823,xl=null,El=!1}function bn(e,t,i){if((ml&(ll|cl))!==ol)throw n(Error(327));if(e.firstPendingTime<t)return null;if(i&&e.finishedExpirationTime===t)return Sn.bind(null,e);if(Tn(),e!==gl||t!==_l)yn(e,t);else if(yl===pl)if(El)yn(e,t);else{var s=e.lastPendingTime;if(s<t)return bn.bind(null,e,s)}if(null!==vl){s=ml,ml|=ll;var r=sl.current;if(null===r&&(r=Ba),sl.current=Ba,i){if(1073741823!==t){var o=an();if(o<t)return ml=s,Dt(),sl.current=r,bn.bind(null,e,o)}}else jl=0;for(;;)try{if(i)for(;null!==vl;)vl=xn(vl);else for(;null!==vl&&!Fo();)vl=xn(vl);break}catch(i){if(Dt(),pi(),null===(o=vl)||null===o["return"])throw yn(e,t),ml=s,i;e:{var a=e,l=o["return"],c=o,u=i,h=_l;if(c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var d=u,p=0!=(ya.current&va);u=l;do{var f;if((f=13===u.tag)&&(null!==u.memoizedState?f=!1:f=void 0!==(f=u.memoizedProps).fallback&&(!0!==f.unstable_avoidThisFallback||!p)),f){if(null===(l=u.updateQueue)?((l=new Set).add(d),u.updateQueue=l):l.add(d),0==(2&u.mode)){u.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((h=$t(1073741823,null)).tag=2,Wt(c,h))),c.expirationTime=1073741823;break e}c=a,a=h,null===(p=c.pingCache)?(p=c.pingCache=new il,l=new Set,p.set(d,l)):void 0===(l=p.get(d))&&(l=new Set,p.set(d,l)),l.has(a)||(l.add(a),c=Nn.bind(null,c,d,a),d.then(c,c)),u.effectTag|=2048,u.expirationTime=h;break e}u=u["return"]}while(null!==u);u=Error((J(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ee(c))}yl!==fl&&(yl=hl),u=qi(u,c),c=l;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=h,Vt(c,h=rn(c,u,h));break e;case 1:if(d=u,a=c.type,l=c.stateNode,0==(64&c.effectTag)&&("function"==typeof a.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===Pl||!Pl.has(l)))){c.effectTag|=2048,c.expirationTime=h,Vt(c,h=on(c,d,h));break e}}c=c["return"]}while(null!==c)}vl=En(o)}if(ml=s,Dt(),sl.current=r,null!==vl)return bn.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,fn(e,t))return null;switch(gl=null,yl){case ul:throw n(Error(328));case hl:return(s=e.lastPendingTime)<t?bn.bind(null,e,s):i?Sn.bind(null,e):(yn(e,t),Ct(bn.bind(null,e,t)),null);case dl:return 1073741823===bl&&!i&&10<(i=Sl+kl-ea())?El?(yn(e,t),bn.bind(null,e,t)):(s=e.lastPendingTime)<t?bn.bind(null,e,s):(e.timeoutHandle=Ro(Sn.bind(null,e),i),null):Sn.bind(null,e);case pl:if(!i){if(El)return yn(e,t),bn.bind(null,e,t);if((i=e.lastPendingTime)<t)return bn.bind(null,e,i);if(1073741823!==wl?i=10*(1073741821-wl)-ea():1073741823===bl?i=0:(i=10*(1073741821-bl)-5e3,0>(i=(s=ea())-i)&&(i=0),(t=10*(1073741821-t)-s)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nl(i/1960))-i)&&(i=t)),10<i)return e.timeoutHandle=Ro(Sn.bind(null,e),i),null}return Sn.bind(null,e);case fl:return!i&&1073741823!==bl&&null!==xl&&(s=bl,0>=(t=0|(r=xl).busyMinDurationMs)?t=0:(i=0|r.busyDelayMs,t=(s=ea()-(10*(1073741821-s)-(0|r.timeoutMs||5e3)))<=i?0:i+t-s),10<t)?(e.timeoutHandle=Ro(Sn.bind(null,e),t),null):Sn.bind(null,e);default:throw n(Error(329))}}function wn(e,t){e<bl&&1<e&&(bl=e),null!==t&&e<wl&&1<e&&(wl=e,xl=t)}function xn(e){var t=Fl(e.alternate,e,_l);return e.memoizedProps=e.pendingProps,null===t&&(t=En(e)),rl.current=null,t}function En(e){vl=e;do{var t=vl.alternate;if(e=vl["return"],0==(1024&vl.effectTag)){e:{var i=t,s=_l,r=(t=vl).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:gt(t.type)&&vt(t);break;case 3:oi(t),_t(t),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==i&&null!==i.child||(Ri(t),t.effectTag&=-3),Ka(t);break;case 5:li(t),s=si(ma.current);var o=t.type;if(null!==i&&null!=t.stateNode)Ja(i,t,o,r,s),i.ref!==t.ref&&(t.effectTag|=128);else if(r){var a=si(pa.current);if(Ri(t)){r=void 0,o=(i=t).stateNode;var l=i.type,c=i.memoizedProps;switch(o[Ss]=i,o[ks]=c,l){case"iframe":case"object":case"embed":Le("load",o);break;case"video":case"audio":for(var u=0;u<Is.length;u++)Le(Is[u],o);break;case"source":Le("error",o);break;case"img":case"image":case"link":Le("error",o),Le("load",o);break;case"form":Le("reset",o),Le("submit",o);break;case"details":Le("toggle",o);break;case"input":ce(o,c),Le("invalid",o),lt(s,"onChange");break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Le("invalid",o),lt(s,"onChange");break;case"textarea":Ke(o,c),Le("invalid",o),lt(s,"onChange")}for(r in ot(l,c),u=null,c)c.hasOwnProperty(r)&&(a=c[r],"children"===r?"string"==typeof a?o.textContent!==a&&(u=["children",a]):"number"==typeof a&&o.textContent!==""+a&&(u=["children",""+a]):hs.hasOwnProperty(r)&&null!=a&&lt(s,r));switch(l){case"input":Z(o),de(o,c,!0);break;case"textarea":Z(o),et(o,c);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(o.onclick=ct)}s=u,i.updateQueue=s,null!==s&&Wi(t)}else{c=o,i=r,l=t,u=9===s.nodeType?s:s.ownerDocument,a===bo.html&&(a=tt(c)),a===bo.html?"script"===c?((c=u.createElement("div")).innerHTML="<script></script>",u=c.removeChild(c.firstChild)):"string"==typeof i.is?u=u.createElement(c,{is:i.is}):(u=u.createElement(c),"select"===c&&(c=u,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):u=u.createElementNS(a,c),(c=u)[Ss]=l,c[ks]=i,Qa(i=c,t,!1,!1),l=i;var h=s,d=at(o,r);switch(o){case"iframe":case"object":case"embed":Le("load",l),s=r;break;case"video":case"audio":for(s=0;s<Is.length;s++)Le(Is[s],l);s=r;break;case"source":Le("error",l),s=r;break;case"img":case"image":case"link":Le("error",l),Le("load",l),s=r;break;case"form":Le("reset",l),Le("submit",l),s=r;break;case"details":Le("toggle",l),s=r;break;case"input":ce(l,r),s=le(l,r),Le("invalid",l),lt(h,"onChange");break;case"option":s=Xe(l,r);break;case"select":l._wrapperState={wasMultiple:!!r.multiple},s=rs({},r,{value:void 0}),Le("invalid",l),lt(h,"onChange");break;case"textarea":Ke(l,r),s=Qe(l,r),Le("invalid",l),lt(h,"onChange");break;default:s=r}ot(o,s),c=void 0,u=o,a=l;var p=s;for(c in p)if(p.hasOwnProperty(c)){var f=p[c];"style"===c?rt(a,f):"dangerouslySetInnerHTML"===c?null!=(f=f?f.__html:void 0)&&xo(a,f):"children"===c?"string"==typeof f?("textarea"!==u||""!==f)&&nt(a,f):"number"==typeof f&&nt(a,""+f):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(hs.hasOwnProperty(c)?null!=f&&lt(h,c):null!=f&&oe(a,c,f,d))}switch(o){case"input":Z(l),de(l,r,!1);break;case"textarea":Z(l),et(l,r);break;case"option":null!=r.value&&l.setAttribute("value",""+ae(r.value));break;case"select":s=l,l=r,s.multiple=!!l.multiple,null!=(c=l.value)?Ze(s,!!l.multiple,c,!1):null!=l.defaultValue&&Ze(s,!!l.multiple,l.defaultValue,!0);break;default:"function"==typeof s.onClick&&(l.onclick=ct)}ut(o,r)&&Wi(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw n(Error(166));break;case 6:if(i&&null!=t.stateNode)el(i,t,i.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw n(Error(166));i=si(ma.current),si(pa.current),Ri(t)?(s=t.stateNode,i=t.memoizedProps,s[Ss]=t,s.nodeValue!==i&&Wi(t)):(s=t,(i=(9===i.nodeType?i:i.ownerDocument).createTextNode(r))[Ss]=t,s.stateNode=i)}break;case 11:break;case 13:if(pt(ya,t),r=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s;break e}s=null!==r,r=!1,null===i?Ri(t):(r=null!==(o=i.memoizedState),s||null===o||null!==(o=i.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=o,o.nextEffect=l):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),s&&!r&&0!=(2&t.mode)&&(null===i&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(ya.current&va)?yl===ul&&(yl=dl):yl!==ul&&yl!==dl||(yl=pl)),(s||r)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:oi(t),Ka(t);break;case 10:Lt(t);break;case 9:case 14:break;case 17:gt(t.type)&&vt(t);break;case 18:break;case 19:if(pt(ya,t),null===(r=t.memoizedState))break;if(o=0!=(64&t.effectTag),null===(l=r.rendering)){if(o)Vi(r,!1);else if(yl!==ul||null!==i&&0!=(64&i.effectTag))for(i=t.child;null!==i;){if(null!==(l=ci(i))){for(t.effectTag|=64,Vi(r,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),t.firstEffect=t.lastEffect=null,i=t.child;null!==i;)o=s,(r=i).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(l=r.alternate)?(r.childExpirationTime=0,r.expirationTime=o,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=l.childExpirationTime,r.expirationTime=l.expirationTime,r.child=l.child,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,o=l.dependencies,r.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),i=i.sibling;ft(ya,ya.current&ga|_a,t),t=t.child;break e}i=i.sibling}}else{if(!o)if(null!==(i=ci(l))){if(t.effectTag|=64,o=!0,Vi(r,!0),null===r.tail&&"hidden"===r.tailMode){null!==(s=i.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null);break}}else ea()>r.tailExpiration&&1<s&&(t.effectTag|=64,o=!0,Vi(r,!1),t.expirationTime=t.childExpirationTime=s-1);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=r.last)?s.sibling=l:t.child=l,r.last=l)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=ea()+500),s=r.tail,r.rendering=s,r.tail=s.sibling,r.lastEffect=t.lastEffect,s.sibling=null,i=ya.current,ft(ya,i=o?i&ga|_a:i&ga,t),t=s;break e}break;case 20:break;default:throw n(Error(156))}t=null}if(s=vl,1===_l||1!==s.childExpirationTime){for(i=0,r=s.child;null!==r;)(o=r.expirationTime)>i&&(i=o),(l=r.childExpirationTime)>i&&(i=l),r=r.sibling
;s.childExpirationTime=i}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=vl.firstEffect),null!==vl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=vl.firstEffect),e.lastEffect=vl.lastEffect),1<vl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=vl:e.firstEffect=vl,e.lastEffect=vl))}else{if(null!==(t=Ui(vl,_l)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=vl.sibling))return t;vl=e}while(null!==vl);return yl===ul&&(yl=fl),null}function Sn(e){var t=Et();return kt(99,kn.bind(null,e,t)),null!==Ml&&Tt(97,function(){return Tn(),null}),null}function kn(e,t){if(Tn(),(ml&(ll|cl))!==ol)throw n(Error(327));var i=e.finishedWork,s=e.finishedExpirationTime;if(null===i)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,i===e.current)throw n(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var r=i.expirationTime,o=i.childExpirationTime;if(r=o>r?o:r,e.firstPendingTime=r,r<e.lastPendingTime&&(e.lastPendingTime=r),e===gl&&(vl=gl=null,_l=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){o=ml,ml|=cl,rl.current=null,To=uo;var a=Ue();if(qe(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{var c=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,m=0,g=0,v=a,_=null;t:for(;;){for(var y;v!==l||0!==u&&3!==v.nodeType||(p=d+u),v!==h||0!==c&&3!==v.nodeType||(f=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)_=v,v=y;for(;;){if(v===a)break t;if(_===l&&++m===u&&(p=d),_===h&&++g===c&&(f=d),null!==(y=v.nextSibling))break;_=(v=_).parentNode}v=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;Co={focusedElem:a,selectionRange:l},uo=!1,Tl=r;do{try{for(;null!==Tl;){if(0!=(256&Tl.effectTag)){var b=Tl.alternate;switch((a=Tl).tag){case 0:case 11:case 15:Zi(wa,ba,a);break;case 1:if(256&a.effectTag&&null!==b){var w=b.memoizedProps,x=b.memoizedState,E=a.stateNode,S=E.getSnapshotBeforeUpdate(a.elementType===a.type?w:Mt(a.type,w),x);E.__reactInternalSnapshotBeforeUpdate=S}break;case 3:case 5:case 6:case 4:case 17:break;default:throw n(Error(163))}}Tl=Tl.nextEffect}}catch(e){if(null===Tl)throw n(Error(330));Pn(Tl,e),Tl=Tl.nextEffect}}while(null!==Tl);Tl=r;do{try{for(b=t;null!==Tl;){var k=Tl.effectTag;if(16&k&&nt(Tl.stateNode,""),128&k){var T=Tl.alternate;if(null!==T){var C=T.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(14&k){case 2:en(Tl),Tl.effectTag&=-3;break;case 6:en(Tl),Tl.effectTag&=-3,nn(Tl.alternate,Tl);break;case 4:nn(Tl.alternate,Tl);break;case 8:tn(w=Tl,b),w["return"]=null,w.child=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null;var R=w.alternate;null!==R&&(R["return"]=null,R.child=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null)}Tl=Tl.nextEffect}}catch(e){if(null===Tl)throw n(Error(330));Pn(Tl,e),Tl=Tl.nextEffect}}while(null!==Tl);if(C=Co,T=Ue(),k=C.focusedElem,b=C.selectionRange,T!==k&&k&&k.ownerDocument&&Ve(k.ownerDocument.documentElement,k)){null!==b&&qe(k)&&(T=b.start,void 0===(C=b.end)&&(C=T),"selectionStart"in k?(k.selectionStart=T,k.selectionEnd=Math.min(C,k.value.length)):(C=(T=k.ownerDocument||document)&&T.defaultView||window).getSelection&&(C=C.getSelection(),w=k.textContent.length,R=Math.min(b.start,w),b=void 0===b.end?R:Math.min(b.end,w),!C.extend&&R>b&&(w=b,b=R,R=w),w=We(k,R),x=We(k,b),w&&x&&(1!==C.rangeCount||C.anchorNode!==w.node||C.anchorOffset!==w.offset||C.focusNode!==x.node||C.focusOffset!==x.offset)&&((T=T.createRange()).setStart(w.node,w.offset),C.removeAllRanges(),R>b?(C.addRange(T),C.extend(x.node,x.offset)):(T.setEnd(x.node,x.offset),C.addRange(T))))),T=[];for(C=k;C=C.parentNode;)1===C.nodeType&&T.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<T.length;k++)(C=T[k]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Co=null,uo=!!To,To=null,e.current=i,Tl=r;do{try{for(k=s;null!==Tl;){var P=Tl.effectTag;if(36&P){var N=Tl.alternate;switch(C=k,(T=Tl).tag){case 0:case 11:case 15:Zi(Sa,ka,T);break;case 1:var M=T.stateNode;if(4&T.effectTag)if(null===N)M.componentDidMount();else{var O=T.elementType===T.type?N.memoizedProps:Mt(T.type,N.memoizedProps);M.componentDidUpdate(O,N.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var D=T.updateQueue;null!==D&&Gt(T,D,M,C);break;case 3:var I=T.updateQueue;if(null!==I){if(R=null,null!==T.child)switch(T.child.tag){case 5:R=T.child.stateNode;break;case 1:R=T.child.stateNode}Gt(T,I,R,C)}break;case 5:var L=T.stateNode;null===N&&4&T.effectTag&&(C=L,ut(T.type,T.memoizedProps)&&C.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw n(Error(163))}}if(128&P){var A=Tl.ref;if(null!==A){var j=Tl.stateNode;switch(Tl.tag){case 5:var z=j;break;default:z=j}"function"==typeof A?A(z):A.current=z}}512&P&&(Nl=!0),Tl=Tl.nextEffect}}catch(e){if(null===Tl)throw n(Error(330));Pn(Tl,e),Tl=Tl.nextEffect}}while(null!==Tl);Tl=null,Xo(),ml=o}else e.current=i;if(Nl)Nl=!1,Ml=e,Dl=s,Ol=t;else for(Tl=r;null!==Tl;)t=Tl.nextEffect,Tl.nextEffect=null,Tl=t;if(0!==(t=e.firstPendingTime)?hn(e,P=Nt(P=an(),t),t):Pl=null,"function"==typeof Hl&&Hl(i.stateNode,s),1073741823===t?e===Al?Ll++:(Ll=0,Al=e):Ll=0,Cl)throw Cl=!1,e=Rl,Rl=null,e;return(ml&al)!==ol?null:(Rt(),null)}function Tn(){if(null===Ml)return!1;var e=Ml,t=Dl,i=Ol;return Ml=null,Dl=0,Ol=90,kt(97<i?97:i,Cn.bind(null,e,t))}function Cn(e){if((ml&(ll|cl))!==ol)throw n(Error(331));var t=ml;for(ml|=cl,e=e.current.firstEffect;null!==e;){try{var i=e;if(0!=(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:Zi(Ca,ba,i),Zi(ba,Ta,i)}}catch(t){if(null===e)throw n(Error(330));Pn(e,t)}i=e.nextEffect,e.nextEffect=null,e=i}return ml=t,Rt(),!0}function Rn(e,t,i){Wt(e,t=rn(e,t=qi(i,t),1073741823)),null!==(e=un(e,1073741823))&&hn(e,99,1073741823)}function Pn(e,t){if(3===e.tag)Rn(e,e,t);else for(var i=e["return"];null!==i;){if(3===i.tag){Rn(i,e,t);break}if(1===i.tag){var n=i.stateNode;if("function"==typeof i.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Pl||!Pl.has(n))){Wt(i,e=on(i,e=qi(t,e),1073741823)),null!==(i=un(i,1073741823))&&hn(i,99,1073741823);break}}i=i["return"]}}function Nn(e,t,i){var n=e.pingCache;null!==n&&n["delete"](t),gl===e&&_l===i?yl===pl||yl===dl&&1073741823===bl&&ea()-Sl<kl?yn(e,_l):El=!0:e.lastPendingTime<i||(0!==(t=e.pingTime)&&t<i||(e.pingTime=i,e.finishedExpirationTime===i&&(e.finishedExpirationTime=0,e.finishedWork=null),hn(e,t=Nt(t=an(),i),i)))}function Mn(e,t){var i=e.stateNode;null!==i&&i["delete"](t),i=Nt(i=an(),t=ln(i,e,null)),null!==(e=un(e,t))&&hn(e,i,t)}function On(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var i=t.inject(e);Hl=function(e){try{t.onCommitFiberRoot(i,e,void 0,64==(64&e.current.effectTag))}catch(e){}},$l=function(e){try{t.onCommitFiberUnmount(i,e)}catch(e){}}}catch(e){}return!0}function Dn(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this["return"]=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function In(e,t,i,n){return new Dn(e,t,i,n)}function Ln(e){return!(!(e=e.prototype)||!e.isReactComponent)}function An(e){if("function"==typeof e)return Ln(e)?1:0;if(null!=e){if((e=e.$$typeof)===pr)return 11;if(e===gr)return 14}return 2}function jn(e,t){var i=e.alternate;return null===i?((i=In(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function zn(e,t,i,s,r,o){var a=2;if(s=e,"function"==typeof e)Ln(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ar:return Fn(i.children,r,o,t);case dr:a=8,r|=7;break;case lr:a=8,r|=1;break;case cr:return(e=In(12,i,t,8|r)).elementType=cr,e.type=cr,e.expirationTime=o,e;case fr:return(e=In(13,i,t,r)).type=fr,e.elementType=fr,e.expirationTime=o,e;case mr:return(e=In(19,i,t,r)).elementType=mr,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ur:a=10;break e;case hr:a=9;break e;case pr:a=11;break e;case gr:a=14;break e;case vr:a=16,s=null;break e}throw n(Error(130),null==e?e:typeof e,"")}return(t=In(a,i,t,r)).elementType=e,t.type=s,t.expirationTime=o,t}function Fn(e,t,i,n){return(e=In(7,e,n,t)).expirationTime=i,e}function Hn(e,t,i){return(e=In(6,e,null,t)).expirationTime=i,e}function $n(e,t,i){return(t=In(4,null!==e.children?e.children:[],e.key,t)).expirationTime=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bn(e,t,i){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function Wn(e,t,i){return e=new Bn(e,t,i),t=In(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function Vn(e,t,i,s,r,o){var a=t.current;e:if(i){t:{if(2!==Pe(i=i._reactInternalFiber)||1!==i.tag)throw n(Error(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l["return"]}while(null!==l);throw n(Error(171))}if(1===i.tag){var c=i.type;if(gt(c)){i=bt(i,c,l);break e}}i=l}else i=Oo;return null===t.context?t.context=i:t.pendingContext=i,t=o,(r=$t(s,r)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Wt(a,r),cn(a,s),s}function Un(e,t,i,n){var s=t.current,r=an(),o=oa.suspense;return Vn(e,t,i,s=ln(r,s,o),o,n)}function qn(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yn(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:or,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}function Gn(e){var t=1073741821-25*(1+((1073741821-an()+500)/25|0));t<=zl&&--t,this._expirationTime=zl=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Xn(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Zn(e,t,i){this._internalRoot=Wn(e,t,i)}function Qn(e,t){this._internalRoot=Wn(e,2,t)}function Kn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jn(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var i;i=e.lastChild;)e.removeChild(i);return new Zn(e,0,t)}function es(e,t,i,n,s){var r=i._reactRootContainer,o=void 0;if(r){if(o=r._internalRoot,"function"==typeof s){var a=s;s=function(){var e=qn(o);a.call(e)}}Un(t,o,e,s)}else{if(r=i._reactRootContainer=Jn(i,n),o=r._internalRoot,"function"==typeof s){var l=s;s=function(){var e=qn(o);l.call(e)}}_n(function(){Un(t,o,e,s)})}return qn(o)}function ts(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kn(t))throw n(Error(200));return Yn(e,t,null,i)}function is(e,t){if(!Kn(e))throw n(Error(299),"unstable_createRoot");return new Qn(e,null!=t&&!0===t.hydrate)}function ns(e,t){if(!Kn(e))throw n(Error(299),"unstable_createRoot");return new Zn(e,1,null!=t&&!0===t.hydrate)}var ss=i(2),rs=i(1),os=i(16);if(!ss)throw n(Error(227));var as=null,ls={},cs=[],us={},hs={},ds={},ps=!1,fs=null,ms=!1,gs=null,vs={onError:function(e){ps=!0,fs=e}},_s=null,ys=null,bs=null,ws=null,xs={injectEventPluginOrder:function(e){if(as)throw n(Error(101));as=Array.prototype.slice.call(e),s()},injectEventPluginsByName:function(e){var t,i=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!ls.hasOwnProperty(t)||ls[t]!==r){if(ls[t])throw n(Error(102),t);ls[t]=r,i=!0}}i&&s()}},Es=Math.random().toString(36).slice(2),Ss="__reactInternalInstance$"+Es,ks="__reactEventHandlers$"+Es,Ts=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),Cs={animationend:k("Animation","AnimationEnd"),animationiteration:k("Animation","AnimationIteration"),animationstart:k("Animation","AnimationStart"),transitionend:k("Transition","TransitionEnd")},Rs={},Ps={};Ts&&(Ps=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);var Ns=T("animationend"),Ms=T("animationiteration"),Os=T("animationstart"),Ds=T("transitionend"),Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ls=null,As=null,js=null;rs(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=R)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=R)},persist:function(){this.isPersistent=R},isPersistent:P,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=P,this._dispatchInstances=this._dispatchListeners=null}}),N.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},N.extend=function(e){function t(){}function i(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var s=new t;return rs(s,i.prototype),i.prototype=s,i.prototype.constructor=i,i.Interface=rs({},n.Interface,e),i.extend=n.extend,D(i),i},D(N);var zs=N.extend({data:null}),Fs=N.extend({data:null}),Hs=[9,13,27,32],$s=Ts&&"CompositionEvent"in window,Bs=null;Ts&&"documentMode"in document&&(Bs=document.documentMode);var Ws=Ts&&"TextEvent"in window&&!Bs,Vs=Ts&&(!$s||Bs&&8<Bs&&11>=Bs),Us=String.fromCharCode(32),qs={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ys=!1,Gs=!1,Xs={eventTypes:qs,extractEvents:function(e,t,i,n){var s=void 0,r=void 0;if($s)e:{switch(e){case"compositionstart":s=qs.compositionStart;break e;case"compositionend":s=qs.compositionEnd;break e;case"compositionupdate":s=qs.compositionUpdate;break e}s=void 0}else Gs?I(e,i)&&(s=qs.compositionEnd):"keydown"===e&&229===i.keyCode&&(s=qs.compositionStart);return s?(Vs&&"ko"!==i.locale&&(Gs||s!==qs.compositionStart?s===qs.compositionEnd&&Gs&&(r=C()):(As="value"in(Ls=n)?Ls.value:Ls.textContent,Gs=!0)),s=zs.getPooled(s,t,i,n),r?s.data=r:null!==(r=L(i))&&(s.data=r),S(s),r=s):r=null,(e=Ws?A(e,i):j(e,i))?((t=Fs.getPooled(qs.beforeInput,t,i,n)).data=e,S(t)):t=null,null===r?t:null===t?r:[r,t]}},Zs=null,Qs=null,Ks=null,Js=$,er=!1,tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ir=ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ir.hasOwnProperty("ReactCurrentDispatcher")||(ir.ReactCurrentDispatcher={current:null}),ir.hasOwnProperty("ReactCurrentBatchConfig")||(ir.ReactCurrentBatchConfig={suspense:null});var nr=/^(.*)[\\\/]/,sr="function"==typeof Symbol&&Symbol["for"],rr=sr?Symbol["for"]("react.element"):60103,or=sr?Symbol["for"]("react.portal"):60106,ar=sr?Symbol["for"]("react.fragment"):60107,lr=sr?Symbol["for"]("react.strict_mode"):60108,cr=sr?Symbol["for"]("react.profiler"):60114,ur=sr?Symbol["for"]("react.provider"):60109,hr=sr?Symbol["for"]("react.context"):60110,dr=sr?Symbol["for"]("react.concurrent_mode"):60111,pr=sr?Symbol["for"]("react.forward_ref"):60112,fr=sr?Symbol["for"]("react.suspense"):60113,mr=sr?Symbol["for"]("react.suspense_list"):60120,gr=sr?Symbol["for"]("react.memo"):60115,vr=sr?Symbol["for"]("react.lazy"):60116;sr&&Symbol["for"]("react.fundamental"),sr&&Symbol["for"]("react.responder");var _r="function"==typeof Symbol&&Symbol.iterator,yr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,br=Object.prototype.hasOwnProperty,wr={},xr={},Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Er[e]=new se(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Er[t]=new se(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Er[e]=new se(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Er[e]=new se(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Er[e]=new se(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Er[e]=new se(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Er[e]=new se(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Er[e]=new se(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Er[e]=new se(e,5,!1,e.toLowerCase(),null,!1)});var Sr=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sr,re);Er[t]=new se(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sr,re);Er[t]=new se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sr,re);Er[t]=new se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Er[e]=new se(e,1,!1,e.toLowerCase(),null,!1)}),Er.xlinkHref=new se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Er[e]=new se(e,1,!1,e.toLowerCase(),null,!0)});var kr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Tr=null,Cr=null,Rr=!1;Ts&&(Rr=Y("input")&&(!document.documentMode||9<document.documentMode));var Pr={eventTypes:kr,_isInputEventSupported:Rr,extractEvents:function(e,t,i,n){var s=t?v(t):window,r=void 0,o=void 0,a=s.nodeName&&s.nodeName.toLowerCase();return"select"===a||"input"===a&&"file"===s.type?r=ve:U(s)?Rr?r=Ee:(r=we,o=be):(a=s.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(r=xe),r&&(r=r(e,t))?fe(r,i,n):(o&&o(e,s,t),void("blur"===e&&(e=s._wrapperState)&&e.controlled&&"number"===s.type&&pe(s,"number",s.value)))}},Nr=N.extend({view:null,detail:null}),Mr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Or=0,Dr=0,Ir=!1,Lr=!1,Ar=Nr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ke,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Or;return Or=e.screenX,Ir?"mousemove"===e.type?e.screenX-t:0:(Ir=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Dr;return Dr=e.screenY,Lr?"mousemove"===e.type?e.screenY-t:0:(Lr=!0,0)}}),jr=Ar.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:zr,extractEvents:function(e,t,i,n){var s="mouseover"===e||"pointerover"===e,r="mouseout"===e||"pointerout"===e;if(s&&(i.relatedTarget||i.fromElement)||!r&&!s)return null;if(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,r?(r=t,t=(t=i.relatedTarget||i.toElement)?m(t):null):r=null,r===t)return null;var o=void 0,a=void 0,l=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(o=Ar,a=zr.mouseLeave,l=zr.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=jr,a=zr.pointerLeave,l=zr.pointerEnter,c="pointer");var u=null==r?s:v(r);if(s=null==t?s:v(t),(e=o.getPooled(a,r,i,n)).type=c+"leave",e.target=u,e.relatedTarget=s,(i=o.getPooled(l,t,i,n)).type=c+"enter",i.target=s,i.relatedTarget=u,n=t,r&&n)e:{for(s=n,c=0,o=t=r;o;o=y(o))c++;for(o=0,l=s;l;l=y(l))o++;for(;0<c-o;)t=y(t),c--;for(;0<o-c;)s=y(s),o--;for(;c--;){if(t===s||t===s.alternate)break e;t=y(t),s=y(s)}t=null}else t=null;for(s=t,t=[];r&&r!==s&&(null===(c=r.alternate)||c!==s);)t.push(r),r=y(r);for(r=[];n&&n!==s&&(null===(c=n.alternate)||c!==s);)r.push(n),n=y(n);for(n=0;n<t.length;n++)x(t[n],"bubbled",e);for(n=r.length;0<n--;)x(r[n],"captured",i);return[e,i]}},Hr=Object.prototype.hasOwnProperty;new Map,new Map,new Set,new Map;for(var $r=N.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Br=N.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wr=Nr.extend({relatedTarget:null}),Vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qr=Nr.extend({key:function(e){if(e.key){var t=Vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=De(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ur[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ke,charCode:function(e){return"keypress"===e.type?De(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?De(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Yr=Ar.extend({dataTransfer:null}),Gr=Nr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ke}),Xr=N.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Zr=Ar.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Qr=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ns,"animationEnd",2],[Ms,"animationIteration",2],[Os,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Ds,"transitionEnd",2],["waiting","waiting",2]],Kr={},Jr={},eo=0;eo<Qr.length;eo++){var to=Qr[eo],io=to[0],no=to[1],so=to[2],ro="on"+(no[0].toUpperCase()+no.slice(1)),oo={phasedRegistrationNames:{bubbled:ro,captured:ro+"Capture"},dependencies:[io],eventPriority:so};Kr[no]=oo,Jr[io]=oo}var ao={eventTypes:Kr,getEventPriority:function(e){return void 0!==(e=Jr[e])?e.eventPriority:2},extractEvents:function(e,t,i,n){var s=Jr[e];if(!s)return null;switch(e){case"keypress":if(0===De(i))return null;case"keydown":case"keyup":e=qr;break;case"blur":case"focus":e=Wr;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Gr;break;case Ns:case Ms:case Os:e=$r;break;case Ds:e=Xr;break;case"scroll":e=Nr;break;case"wheel":e=Zr;break;case"copy":case"cut":case"paste":e=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=N}return S(t=e.getPooled(s,t,i,n)),t}},lo=ao.getEventPriority,co=[],uo=!0,ho=new("function"==typeof WeakMap?WeakMap:Map),po=Ts&&"documentMode"in document&&11>=document.documentMode,fo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},mo=null,go=null,vo=null,_o=!1,yo={eventTypes:fo,extractEvents:function(e,t,i,n){var s,r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(s=!r)){e:{r=He(r),s=ds.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break e}r=!0}s=!r}if(s)return null;switch(r=t?v(t):window,e){case"focus":(U(r)||"true"===r.contentEditable)&&(mo=r,go=t,vo=null);break;case"blur":vo=go=mo=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":return _o=!1,Ye(i,n);case"selectionchange":if(po)break;case"keydown":case"keyup":return Ye(i,n)}return null}};xs.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_s=_,ys=g,bs=v,xs.injectEventPluginsByName({SimpleEventPlugin:ao,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Pr,SelectEventPlugin:yo,BeforeInputEventPlugin:Xs});var bo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},wo=void 0,xo=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,i,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,n,s)})}:e}(function(e,t){if(e.namespaceURI!==bo.svg||"innerHTML"in e)e.innerHTML=t;else{for((wo=wo||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Eo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},So=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(e){So.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eo[t]=Eo[e]})});var ko=rs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),To=null,Co=null,Ro="function"==typeof setTimeout?setTimeout:void 0,Po="function"==typeof clearTimeout?clearTimeout:void 0;new Set;var No=[],Mo=-1,Oo={},Do={current:Oo},Io={current:!1
},Lo=Oo,Ao=os.unstable_runWithPriority,jo=os.unstable_scheduleCallback,zo=os.unstable_cancelCallback,Fo=os.unstable_shouldYield,Ho=os.unstable_requestPaint,$o=os.unstable_now,Bo=os.unstable_getCurrentPriorityLevel,Wo=os.unstable_ImmediatePriority,Vo=os.unstable_UserBlockingPriority,Uo=os.unstable_NormalPriority,qo=os.unstable_LowPriority,Yo=os.unstable_IdlePriority,Go={},Xo=void 0!==Ho?Ho:function(){},Zo=null,Qo=null,Ko=!1,Jo=$o(),ea=1e4>Jo?$o:function(){return $o()-Jo},ta={current:null},ia=null,na=null,sa=null,ra=!1,oa=ir.ReactCurrentBatchConfig,aa=(new ss.Component).refs,la={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Pe(e)},enqueueSetState:function(e,t,i){e=e._reactInternalFiber;var n=an(),s=oa.suspense;(s=$t(n=ln(n,e,s),s)).payload=t,null!=i&&(s.callback=i),Wt(e,s),cn(e,n)},enqueueReplaceState:function(e,t,i){e=e._reactInternalFiber;var n=an(),s=oa.suspense;(s=$t(n=ln(n,e,s),s)).tag=1,s.payload=t,null!=i&&(s.callback=i),Wt(e,s),cn(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var i=an(),n=oa.suspense;(n=$t(i=ln(i,e,n),n)).tag=2,null!=t&&(n.callback=t),Wt(e,n),cn(e,i)}},ca=Array.isArray,ua=ni(!0),ha=ni(!1),da={},pa={current:da},fa={current:da},ma={current:da},ga=1,va=1,_a=2,ya={current:0},ba=0,wa=2,xa=4,Ea=8,Sa=16,ka=32,Ta=64,Ca=128,Ra=ir.ReactCurrentDispatcher,Pa=0,Na=null,Ma=null,Oa=null,Da=null,Ia=null,La=null,Aa=0,ja=null,za=0,Fa=!1,Ha=null,$a=0,Ba={readContext:zt,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useResponder:ui},Wa={readContext:zt,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:zt,useEffect:function(e,t){return yi(516,Ca|Ta,e,t)},useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,yi(4,xa|ka,wi.bind(null,t,e),i)},useLayoutEffect:function(e,t){return yi(4,xa|ka,e,t)},useMemo:function(e,t){var i=fi();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=fi();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ei.bind(null,Na,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:function(e){var t=fi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e}).dispatch=Ei.bind(null,Na,e),[t.memoizedState,e]},useDebugValue:xi,useResponder:Re},Va={readContext:zt,useCallback:function(e,t){var i=mi();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&hi(t,n[1])?n[0]:(i.memoizedState=[e,t],e)},useContext:zt,useEffect:function(e,t){return bi(516,Ca|Ta,e,t)},useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,bi(4,xa|ka,wi.bind(null,t,e),i)},useLayoutEffect:function(e,t){return bi(4,xa|ka,e,t)},useMemo:function(e,t){var i=mi();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&hi(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)},useReducer:vi,useRef:function(){return mi().memoizedState},useState:function(e){return vi(gi,e)},useDebugValue:xi,useResponder:Re},Ua=null,qa=null,Ya=!1,Ga=ir.ReactCurrentOwner,Xa=!1,Za={},Qa=void 0,Ka=void 0,Ja=void 0,el=void 0;Qa=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(20===i.tag)e.appendChild(i.stateNode.instance);else if(4!==i.tag&&null!==i.child){i.child["return"]=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i["return"]||i["return"]===t)return;i=i["return"]}i.sibling["return"]=i["return"],i=i.sibling}},Ka=function(){},Ja=function(e,t,i,n,s){var r=e.memoizedProps;if(r!==n){var o=t.stateNode;switch(si(pa.current),e=null,i){case"input":r=le(o,r),n=le(o,n),e=[];break;case"option":r=Xe(o,r),n=Xe(o,n),e=[];break;case"select":r=rs({},r,{value:void 0}),n=rs({},n,{value:void 0}),e=[];break;case"textarea":r=Qe(o,r),n=Qe(o,n),e=[];break;default:"function"!=typeof r.onClick&&"function"==typeof n.onClick&&(o.onclick=ct)}ot(i,n),o=i=void 0;var a=null;for(i in r)if(!n.hasOwnProperty(i)&&r.hasOwnProperty(i)&&null!=r[i])if("style"===i){var l=r[i];for(o in l)l.hasOwnProperty(o)&&(a||(a={}),a[o]="")}else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(hs.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in n){var c=n[i];if(l=null!=r?r[i]:void 0,n.hasOwnProperty(i)&&c!==l&&(null!=c||null!=l))if("style"===i)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(a||(a={}),a[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(a||(a={}),a[o]=c[o])}else a||(e||(e=[]),e.push(i,a)),a=c;else"dangerouslySetInnerHTML"===i?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(i,""+c)):"children"===i?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(i,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(hs.hasOwnProperty(i)?(null!=c&&lt(s,i),e||l===c||(e=[])):(e=e||[]).push(i,c))}a&&(e=e||[]).push("style",a),s=e,(t.updateQueue=s)&&Wi(t)}},el=function(e,t,i,n){i!==n&&Wi(t)};var tl="function"==typeof WeakSet?WeakSet:Set,il="function"==typeof WeakMap?WeakMap:Map,nl=Math.ceil,sl=ir.ReactCurrentDispatcher,rl=ir.ReactCurrentOwner,ol=0,al=8,ll=16,cl=32,ul=0,hl=1,dl=2,pl=3,fl=4,ml=ol,gl=null,vl=null,_l=0,yl=ul,bl=1073741823,wl=1073741823,xl=null,El=!1,Sl=0,kl=500,Tl=null,Cl=!1,Rl=null,Pl=null,Nl=!1,Ml=null,Ol=90,Dl=0,Il=null,Ll=0,Al=null,jl=0,zl=0,Fl=void 0;Fl=function(e,t,i){var s=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||Io.current)Xa=!0;else if(s<i){switch(Xa=!1,t.tag){case 3:zi(t),Pi();break;case 5:if(ai(t),4&t.mode&&1!==i&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gt(t.type)&&wt(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:It(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(s=t.child.childExpirationTime)&&s>=i?Fi(e,t,i):(ft(ya,ya.current&ga,t),null!==(t=Bi(e,t,i))?t.sibling:null);ft(ya,ya.current&ga,t);break;case 19:if(s=t.childExpirationTime>=i,0!=(64&e.effectTag)){if(s)return $i(e,t,i);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),ft(ya,ya.current,t),!s)return null}return Bi(e,t,i)}}else Xa=!1;switch(t.expirationTime=0,t.tag){case 2:if(s=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=mt(t,Do.current),jt(t,i),r=di(null,t,s,e,r,i),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,pi(),gt(s)){var o=!0;wt(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var a=s.getDerivedStateFromProps;"function"==typeof a&&Zt(t,s,a,e),r.updater=la,t.stateNode=r,r._reactInternalFiber=t,ei(t,s,e,i),t=ji(null,t,s,!0,o,i)}else t.tag=0,Ni(null,t,r,i),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=Ot(r),t.type=r,o=t.tag=An(r),e=Mt(r,e),o){case 0:t=Li(null,t,r,e,i);break;case 1:t=Ai(null,t,r,e,i);break;case 11:t=Mi(null,t,r,e,i);break;case 14:t=Oi(null,t,r,Mt(r.type,e),s,i);break;default:throw n(Error(306),r,"")}return t;case 0:return s=t.type,r=t.pendingProps,Li(e,t,s,r=t.elementType===s?r:Mt(s,r),i);case 1:return s=t.type,r=t.pendingProps,Ai(e,t,s,r=t.elementType===s?r:Mt(s,r),i);case 3:if(zi(t),null===(s=t.updateQueue))throw n(Error(282));return r=null!==(r=t.memoizedState)?r.element:null,Yt(t,s,t.pendingProps,null,i),(s=t.memoizedState.element)===r?(Pi(),t=Bi(e,t,i)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(qa=dt(t.stateNode.containerInfo.firstChild),Ua=t,r=Ya=!0),r?(t.effectTag|=2,t.child=ha(t,null,s,i)):(Ni(e,t,s,i),Pi()),t=t.child),t;case 5:return ai(t),null===e&&Ti(t),s=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,ht(s,r)?a=null:null!==o&&ht(s,o)&&(t.effectTag|=16),Ii(e,t),4&t.mode&&1!==i&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ni(e,t,a,i),t=t.child),t;case 6:return null===e&&Ti(t),null;case 13:return Fi(e,t,i);case 4:return ri(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ua(t,null,s,i):Ni(e,t,s,i),t.child;case 11:return s=t.type,r=t.pendingProps,Mi(e,t,s,r=t.elementType===s?r:Mt(s,r),i);case 7:return Ni(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ni(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,It(t,o=r.value),null!==a){var l=a.value;if(0===(o=Te(l,o)?0:0|("function"==typeof s._calculateChangedBits?s._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!Io.current){t=Bi(e,t,i);break e}}else for(null!==(l=t.child)&&(l["return"]=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===s&&0!=(u.observedBits&o)){1===l.tag&&((u=$t(i,null)).tag=2,Wt(l,u)),l.expirationTime<i&&(l.expirationTime=i),null!==(u=l.alternate)&&u.expirationTime<i&&(u.expirationTime=i),At(l["return"],i),c.expirationTime<i&&(c.expirationTime=i);break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a["return"]=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l["return"]=a["return"],a=l;break}a=a["return"]}l=a}}Ni(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,s=(o=t.pendingProps).children,jt(t,i),s=s(r=zt(r,o.unstable_observedBits)),t.effectTag|=1,Ni(e,t,s,i),t.child;case 14:return o=Mt(r=t.type,t.pendingProps),Oi(e,t,r,o=Mt(r.type,o),s,i);case 15:return Di(e,t,t.type,t.pendingProps,s,i);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Mt(s,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gt(s)?(e=!0,wt(t)):e=!1,jt(t,i),Kt(t,s,r,i),ei(t,s,r,i),ji(null,t,s,!0,e,i);case 19:return $i(e,t,i)}throw n(Error(156))};var Hl=null,$l=null;Zs=function(e,t,i){switch(t){case"input":if(he(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=_(s);if(!r)throw n(Error(90));Q(s),he(s,r)}}}break;case"textarea":Je(e,i);break;case"select":null!=(t=i.value)&&Ze(e,!!i.multiple,t,!1)}},Gn.prototype.render=function(e){if(!this._defer)throw n(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,i=this._expirationTime,s=new Xn;return Vn(e,t,null,i,null,s._onCommit),s},Gn.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Gn.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw n(Error(251));if(this._hasChildren){var i=this._expirationTime;if(t!==this){this._hasChildren&&(i=this._expirationTime=t._expirationTime,this.render(this._children));for(var s=null,r=t;r!==this;)s=r,r=r._next;if(null===s)throw n(Error(251));s._next=r._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=i,(ml&(ll|cl))!==ol)throw n(Error(253));Ct(bn.bind(null,e,t)),Rt(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Gn.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Xn.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Xn.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)throw n(Error(191),i);i()}}},Qn.prototype.render=Zn.prototype.render=function(e,t){var i=this._internalRoot,n=new Xn;return null!==(t=void 0===t?null:t)&&n.then(t),Un(e,i,null,n._onCommit),n},Qn.prototype.unmount=Zn.prototype.unmount=function(e){var t=this._internalRoot,i=new Xn;return null!==(e=void 0===e?null:e)&&i.then(e),Un(null,t,null,i._onCommit),i},Qn.prototype.createBatch=function(){var e=new Gn(this),t=e._expirationTime,i=this._internalRoot,n=i.firstBatch;if(null===n)i.firstBatch=e,e._next=null;else{for(i=null;null!==n&&n._expirationTime>=t;)i=n,n=n._next;e._next=n,null!==i&&(i._next=e)}return e},$=gn,B=vn,W=pn,Js=function(e,t){var i=ml;ml|=2;try{return e(t)}finally{(ml=i)===ol&&Rt()}};var Bl={createPortal:ts,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw n(Error(188));throw n(Error(268),Object.keys(e))}e=null===(e=Oe(t))?null:e.stateNode}return e},hydrate:function(e,t,i){if(!Kn(t))throw n(Error(200));return es(null,e,t,!0,i)},render:function(e,t,i){if(!Kn(t))throw n(Error(200));return es(null,e,t,!1,i)},unstable_renderSubtreeIntoContainer:function(e,t,i,s){if(!Kn(i))throw n(Error(200));if(null==e||void 0===e._reactInternalFiber)throw n(Error(38));return es(e,t,i,!1,s)},unmountComponentAtNode:function(e){if(!Kn(e))throw n(Error(40));return!!e._reactRootContainer&&(_n(function(){es(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ts.apply(void 0,arguments)},unstable_batchedUpdates:gn,unstable_interactiveUpdates:function(e,t,i,n){return pn(),vn(e,t,i,n)},unstable_discreteUpdates:vn,unstable_flushDiscreteUpdates:pn,flushSync:function(e,t){if((ml&(ll|cl))!==ol)throw n(Error(187));var i=ml;ml|=1;try{return kt(99,e.bind(null,t))}finally{ml=i,Rt()}},unstable_createRoot:is,unstable_createSyncRoot:ns,unstable_flushControlled:function(e){var t=ml;ml|=1;try{kt(99,e)}finally{(ml=t)===ol&&Rt()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[g,v,_,xs.injectEventPluginsByName,us,S,function(e){h(e,E)},F,H,Fe,p,Tn,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;On(rs({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Oe(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:m,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var Wl={"default":Bl},Vl=Wl&&Bl||Wl;e.exports=Vl["default"]||Vl},function(e,t,i){"use strict";function n(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),e.exports=i(12)},,function(e,t){
/** @license React v0.15.0
	 * scheduler.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
"use strict";function i(e,t){var i=e.next;if(i===e)L=null;else{e===L&&(L=i);var n=e.previous;n.next=i,i.previous=n}e.next=e.previous=null,i=e.callback,n=z;var s=j;z=e.priorityLevel,j=e;try{var r=e.expirationTime<=t;switch(z){case 1:var o=i(r);break;case 2:case 3:case 4:o=i(r);break;case 5:o=i(r)}}catch(e){throw e}finally{z=n,j=s}if("function"==typeof o)if(t=e.expirationTime,e.callback=o,null===L)L=e.next=e.previous=e;else{o=null,r=L;do{if(t<=r.expirationTime){o=r;break}r=r.next}while(r!==L);null===o?o=L:o===L&&(L=e),(t=o.previous).next=o.previous=e,e.next=o,e.previous=t}}function n(e){if(null!==A&&A.startTime<=e)do{var t=A,i=t.next;if(t===i)A=null;else{A=i;var n=t.previous;n.next=i,i.previous=n}t.next=t.previous=null,a(t,t.expirationTime)}while(null!==A&&A.startTime<=e)}function s(e){$=!1,n(e),H||(null!==L?(H=!0,l(r)):null!==A&&c(s,A.startTime-e))}function r(e,r){H=!1,$&&($=!1,u()),n(r),F=!0;try{if(e){if(null!==L)do{i(L,r),n(r=t.unstable_now())}while(null!==L&&!h())}else for(;null!==L&&L.expirationTime<=r;)i(L,r),n(r=t.unstable_now());return null!==L||(null!==A&&c(s,A.startTime-r),!1)}finally{F=!1}}function o(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function a(e,t){if(null===L)L=e.next=e.previous=e;else{var i=null,n=L;do{if(t<n.expirationTime){i=n;break}n=n.next}while(n!==L);null===i?i=L:i===L&&(L=e),(t=i.previous).next=i.previous=e,e.next=i,e.previous=t}}Object.defineProperty(t,"__esModule",{value:!0});var l=void 0,c=void 0,u=void 0,h=void 0,d=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var p=null,f=null,m=function(){if(null!==p)try{var e=t.unstable_now();p(!0,e),p=null}catch(e){throw setTimeout(m,0),e}};t.unstable_now=function(){return Date.now()},l=function(e){null!==p?setTimeout(l,0,e):(p=e,setTimeout(m,0))},c=function(e,t){f=setTimeout(e,t)},u=function(){clearTimeout(f)},h=function(){return!1},d=t.unstable_forceFrameRate=function(){}}else{var g=window.performance,v=window.Date,_=window.setTimeout,y=window.clearTimeout,b=window.requestAnimationFrame,w=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof w&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"==typeof g&&"function"==typeof g.now?function(){return g.now()}:function(){return v.now()};var x=!1,E=null,S=-1,k=-1,T=33.33,C=-1,R=-1,P=0,N=!1;h=function(){return t.unstable_now()>=P},d=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(T=Math.floor(1e3/e),N=!0):(T=33.33,N=!1)};var M=function(){if(null!==E){var e=t.unstable_now(),i=0<P-e;try{E(i,e)||(E=null)}catch(e){throw D.postMessage(null),e}}},O=new MessageChannel,D=O.port2;O.port1.onmessage=M;var I=function(e){if(null===E)R=C=-1,x=!1;else{x=!0,b(function(e){y(S),I(e)});var i=function(){P=t.unstable_now()+T/2,M(),S=_(i,3*T)};if(S=_(i,3*T),-1!==C&&.1<e-C){var n=e-C;!N&&-1!==R&&n<T&&R<T&&(8.33>(T=n<R?R:n)&&(T=8.33)),R=n}C=e,P=e+T,D.postMessage(null)}};l=function(e){E=e,x||(x=!0,b(function(e){I(e)}))},c=function(e,i){k=_(function(){e(t.unstable_now())},i)},u=function(){y(k),k=-1}}var L=null,A=null,j=null,z=3,F=!1,H=!1,$=!1,B=d;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=z;z=e;try{return t()}finally{z=i}},t.unstable_next=function(e){switch(z){case 1:case 2:case 3:var t=3;break;default:t=z}var i=z;z=t;try{return e()}finally{z=i}},t.unstable_scheduleCallback=function(e,i,n){var h=t.unstable_now();if("object"==typeof n&&null!==n){var d=n.delay;d="number"==typeof d&&0<d?h+d:h,n="number"==typeof n.timeout?n.timeout:o(e)}else n=o(e),d=h;if(e={callback:i,priorityLevel:e,startTime:d,expirationTime:n=d+n,next:null,previous:null},d>h){if(n=d,null===A)A=e.next=e.previous=e;else{i=null;var p=A;do{if(n<p.startTime){i=p;break}p=p.next}while(p!==A);null===i?i=A:i===A&&(A=e),(n=i.previous).next=i.previous=e,e.next=i,e.previous=n}null===L&&A===e&&($?u():$=!0,c(s,d-h))}else a(e,n),H||F||(H=!0,l(r));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===L?L=null:e===A&&(A=null);else{e===L?L=t:e===A&&(A=t);var i=e.previous;i.next=t,t.previous=i}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=z;return function(){var i=z;z=t;try{return e.apply(this,arguments)}finally{z=i}}},t.unstable_getCurrentPriorityLevel=function(){return z},t.unstable_shouldYield=function(){var e=t.unstable_now();return n(e),null!==j&&null!==L&&L.startTime<=e&&L.expirationTime<j.expirationTime||h()},t.unstable_requestPaint=B,t.unstable_continueExecution=function(){H||F||(H=!0,l(r))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return L}},function(e,t,i){"use strict";e.exports=i(15)}]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["react","react-dom","react-dom/server"],t):"object"==typeof exports?exports.ReactRailsUJS=t(require("react"),require("react-dom"),require("react-dom/server")):e.ReactRailsUJS=t(e.React,e.ReactDOM,e.ReactDOMServer)}(this,function(__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_5__){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(module,exports){var topLevel="undefined"==typeof window?this:window;module.exports=function(className){var constructor;return constructor=topLevel[className],constructor||(constructor=eval(className)),constructor&&constructor["default"]&&(constructor=constructor["default"]),constructor}},function(e,t,i){var n=i(7),s=i(8),r=i(9),o=i(11),a=i(10);e.exports=function(e){e.handleEvent&&("undefined"!=typeof Turbolinks&&"undefined"!=typeof Turbolinks.EVENTS&&a.teardown(e),r.teardown(e),o.teardown(e),s.teardown(e),n.teardown(e)),"addEventListener"in window?(e.handleEvent=function(e,t){document.addEventListener(e,t)},e.removeEvent=function(e,t){document.removeEventListener(e,t)}):(e.handleEvent=function(e,t){window.attachEvent(e,t)},e.removeEvent=function(e,t){window.detachEvent(e,t)}),"undefined"!=typeof Turbolinks&&Turbolinks.supported?"undefined"!=typeof Turbolinks.EVENTS?a.setup(e):"undefined"!=typeof Turbolinks.controller?r.setup(e):o.setup(e):"undefined"!=typeof $&&"function"==typeof $.pjax?s.setup(e):n.setup(e)}},function(e,t,i){var n=i(0),s=i(12);e.exports=function(e){var t=s(e);return function(e){var i;try{i=t(e)}catch(s){try{i=n(e)}catch(r){console.error(s),console.error(r)}}return i}}},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_5__},function(e,t,i){var n=i(3),s=i(4),r=i(5),o=i(1),a=i(0),l=i(2),c={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RENDER_ATTR:"data-hydrate",CACHE_ID_ATTR:"data-react-cache-id",TURBOLINKS_PERMANENT_ATTR:"data-turbolinks-permanent",jQuery:"undefined"!=typeof window&&"undefined"!=typeof window.jQuery&&window.jQuery,components:{},findDOMNodes:function(e){var t,i,n=c.CLASS_NAME_ATTR;switch(typeof e){case"undefined":t="["+n+"]",i=document;break;case"object":t="["+n+"]",i=e;break;case"string":t=e+"["+n+"], "+e+" ["+n+"]",i=document}return c.jQuery?c.jQuery(t,i):i.querySelectorAll(t)},getConstructor:a,useContext:function(e){this.getConstructor=l(e)},serverRender:function(e,t,i){var s=this.getConstructor(t),o=n.createElement(s,i);return r[e](o)},mountComponents:function(e){for(var t=c,i=t.findDOMNodes(e),r=0;r<i.length;++r){var o=i[r],a=o.getAttribute(t.CLASS_NAME_ATTR),l=t.getConstructor(a),u=o.getAttribute(t.PROPS_ATTR),h=u&&JSON.parse(u),d=o.getAttribute(t.RENDER_ATTR),p=o.getAttribute(t.CACHE_ID_ATTR),f=o.hasAttribute(t.TURBOLINKS_PERMANENT_ATTR);if(!l){var m="Cannot find component: '"+a+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+m+" for element","font-weight: bold","",o),new Error(m+". Make sure your component is available to render.")}var g=this.components[p];g===undefined&&(g=n.createElement(l,h),f&&(this.components[p]=g)),g=d&&"function"==typeof s.hydrate?s.hydrate(g,o):s.render(g,o)}},unmountComponents:function(e){for(var t=c.findDOMNodes(e),i=0;i<t.length;++i){var n=t[i];s.unmountComponentAtNode(n)}},detectEvents:function(){o(this)},handleMount:function(e){var t=undefined;e&&e.target&&(t=e.target),c.mountComponents(t)},handleUnmount:function(e){var t=undefined;e&&e.target&&(t=e.target),c.unmountComponents(t)}};"undefined"!=typeof window&&c.detectEvents(),self.ReactRailsUJS=c,e.exports=c},function(e){e.exports={setup:function(e){"addEventListener"in window?e.handleEvent("DOMContentLoaded",e.handleMount):e.handleEvent("onload",e.handleMount)},teardown:function(e){e.removeEvent("DOMContentLoaded",e.handleMount),e.removeEvent("onload",e.handleMount)}}},function(e){e.exports={setup:function(e){e.handleEvent("ready",e.handleMount),e.handleEvent("pjax:end",e.handleMount),e.handleEvent("pjax:beforeReplace",e.handleUnmount)},teardown:function(e){e.removeEvent("ready",e.handleMount),e.removeEvent("pjax:end",e.handleMount),e.removeEvent("pjax:beforeReplace",e.handleUnmount)}}},function(e){e.exports={setup:function(e){e.handleEvent("turbolinks:load",e.handleMount),e.handleEvent("turbolinks:before-render",e.handleUnmount)},teardown:function(e){e.removeEvent("turbolinks:load",e.handleMount),e.removeEvent("turbolinks:before-render",e.handleUnmount)}}},function(e){e.exports={setup:function(e){e.handleEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)},teardown:function(e){e.removeEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.removeEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)}}},function(e){e.exports={setup:function(e){Turbolinks.pagesCached(0),e.handleEvent("page:change",e.handleMount),e.handleEvent("page:receive",e.handleUnmount)},teardown:function(e){e.removeEvent("page:change",e.handleMount),e.removeEvent("page:receive",e.handleUnmount)}}},function(e){e.exports=function(e){return function(t){var i=t.split("."),n=i.shift(),s=i,r=e("./"+n);return s.forEach(function(e){r=r[e]}),r.__esModule&&(r=r["default"]),r}}}])}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ReactGA=e()}}(function(){return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return s(i||e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t){"use strict";function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e){for(var t,r,o=i(e),a=1;a<arguments.length;a++){for(var l in t=Object(arguments[a]))n.call(t,l)&&(o[l]=t[l]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(t);for(var c=0;c<r.length;c++)s.call(t,r[c])&&(o[r[c]]=t[r[c]])}}return o}},{}],2:[function(e,t){(function(i){var n="undefined"!=typeof window?window.React:void 0!==i?i.React:null,s=e("object-assign"),r="_blank",o=createReactClass({displayName:"OutboundLink",propTypes:{eventLabel:PropTypes.string.isRequired},statics:{trackLink:function(){console.warn("ga tracking not enabled")}},handleClick:function(e){e.preventDefault();var t=this.props,i={label:t.eventLabel};o.trackLink(i,function(){t.target===r?window.open(t.to,r):window.location.href=t.to}),t.onClick&&t.onClick(e)},render:function(){var e=s({},this.props,{href:this.props.to,onClick:this.handleClick});return delete e.eventLabel,n.createElement("a",e)}});t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":1}],3:[function(e,t){var i=e("./utils/format"),n=e("./utils/removeLeadingSlash"),s=e("./utils/trim"),r=e("./utils/console/warn"),o=e("./utils/console/log"),a=!1,l=!0,c=function(e){return i(e,l)},u={initialize:function(e,t){return e?(t&&(t.debug&&!0===t.debug&&(a=!0),!1===t.titleCase&&(l=!1)),function(e,t,i,n,s,r,o){e.GoogleAnalyticsObject=s,e[s]=e[s]||function(){(e[s].q=e[s].q||[]).push(arguments)},e[s].l=1*new Date,r=t.createElement(i),o=t.getElementsByTagName(i)[0],r.async=1,r.src=n,o.parentNode.insertBefore(r,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),void(t&&t.gaOptions?ga("create",e,t.gaOptions):ga("create",e,"auto"))):void r("gaTrackingID is required in initialize()")},ga:function(){return arguments.length>0?(ga.apply(this,arguments),void(a&&(o("called ga('arguments');"),o("with arguments: "+JSON.stringify([].slice.apply(arguments)))))):ga},set:function(e){if("function"==typeof ga){if(!e)return void r("`fieldsObject` is required in .set()");if("object"!=typeof e)return void r("Expected `fieldsObject` arg to be an Object");0===Object.keys(e).length&&r("empty `fieldsObject` given to .set()"),ga("set",e),a&&(o("called ga('set', fieldsObject);"),o("with fieldsObject: "+JSON.stringify(e)))}},send:function(e){"function"==typeof ga&&(ga("send",e),a&&(o("called ga('send', fieldObject);"),o("with fieldObject: "+JSON.stringify(e))))},pageview:function(e){return e?""===(e=s(e))?void r("path cannot be an empty string in .pageview()"):void("function"==typeof ga&&(ga("send","pageview",e),a&&(o("called ga('send', 'pageview', path);"),o("with path: "+e)))):void r("path is required in .pageview()")},modalview:function(e){if(e)if(e=s(e),""!==(e=n(e))){if("function"==typeof ga){var t="/modal/"+(e=s(e));ga("send","pageview",t),a&&(o("called ga('send', 'pageview', path);"),o("with path: "+t))}}else r("modalName cannot be an empty string or a single / in .modalview()");else r("modalName is required in .modalview(modalName)")},timing:function(e){if("function"==typeof ga){if(!(e&&e.category&&e.variable&&e.value&&"number"==typeof e.value))return void r("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number");var t={hitType:"timing",timingCategory:c(e.category),timingVar:c(e.variable),timingValue:e.value};e.label&&(t.timingLabel=c(e.label)),this.send(t)}},event:function(e){if("function"==typeof ga){if(!e||!e.category||!e.action)return void r("args.category AND args.action are required in event()");var t={hitType:"event",eventCategory:c(e.category),eventAction:c(e.action)};e.label&&(t.eventLabel=c(e.label)),e.value&&("number"!=typeof e.value?r("Expected `args.value` arg to be a Number."):t.eventValue=e.value),e.nonInteraction&&("boolean"!=typeof e.nonInteraction?r("`args.nonInteraction` must be a boolean."):t.nonInteraction=e.nonInteraction),e.transport&&("string"!=typeof e.transport?r("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(e.transport)&&r("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),t.transport=e.transport)),this.send(t)}},exception:function(e){if("function"==typeof ga){var t={hitType:"exception"};e.description&&(t.exDescription=c(e.description)),"undefined"!=typeof e.fatal&&("boolean"!=typeof e.fatal?r("`args.fatal` must be a boolean."):t.exFatal=e.fatal),this.send(t)}},plugin:{require:function(e,t){return"function"==typeof ga?e?""===(e=s(e))?void r("`name` cannot be an empty string in .require()"):t?"object"!=typeof t?void r("Expected `options` arg to be an Object"):(0===Object.keys(t).length&&r("Empty `options` given to .require()"),ga("require",e,t),void(a&&o("called ga('require', '"+e+"', "+JSON.stringify(t)+");"))):(ga("require",e),void(a&&o("called ga('require', '"+e+"');"))):void r("`name` is required in .require()"):void 0},execute:function(){var e,t,i=Array.prototype.slice.call(arguments),n=i[0],s=i[1];if(3===i.length?e=i[2]:(t=i[2],e=i[3]),"function"==typeof ga)if("string"!=typeof n)r("Expected `pluginName` arg to be a String.");else if("string"!=typeof s)r("Expected `action` arg to be a String.");else{var l=n+":"+s;e=e||null,t&&e?(ga(l,t,e),a&&(o("called ga('"+l+"');"),o('actionType: "'+t+'" with payload: '+JSON.stringify(e)))):e?(ga(l,e),a&&(o("called ga('"+l+"');"),o("with payload: "+JSON.stringify(e)))):(ga(l),a&&o("called ga('"+l+"');"))}}},outboundLink:function(e,t){if("function"==typeof t)if("function"==typeof ga){if(!e||!e.label)return void r("args.label is required in outboundLink()");var i={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:c(e.label)},n=!1,s=setTimeout(function(){n=!0,t()},250),o=function(){clearTimeout(s),n||t()};i.hitCallback=o,this.send(i)}else setTimeout(t,0);else r("hitCallback function is required")}},h=e("./components/OutboundLink");h.origTrackLink=h.trackLink,h.trackLink=u.outboundLink.bind(u),u.OutboundLink=h,t.exports=u},{"./components/OutboundLink":2,"./utils/console/log":4,"./utils/console/warn":5,"./utils/format":6,"./utils/removeLeadingSlash":8,"./utils/trim":10}],4:[function(e,t){function i(e){console.info("[react-ga]",e)}t.exports=i},{}],5:[function(e,t){function i(e){console.warn("[react-ga]",e)}t.exports=i},{}],6:[function(e,t){function i(e,t){return n(e)?(r("This arg looks like an email address, redacting."),o):t?s(e):e}var n=e("./mightBeEmail"),s=e("./toTitleCase"),r=e("./console/warn"),o="REDACTED (Potential Email Address)";t.exports=i},{"./console/warn":5,"./mightBeEmail":7,"./toTitleCase":9}],7:[function(e,t){function i(e){return/[^@]+@[^@]+/.test(e)}t.exports=i},{}],8:[function(e,t){function i(e){return"/"===e.substring(0,1)&&(e=e.substring(1)),e}t.exports=i},{}],9:[function(e,t){function i(e){var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return(e=n(e)).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,i,n){return i>0&&i+e.length!==n.length&&e.search(t)>-1&&":"!==n.charAt(i-2)&&("-"!==n.charAt(i+e.length)||"-"===n.charAt(i-1))&&n.charAt(i-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})}var n=e("./trim");t.exports=i},{"./trim":10}],10:[function(e,t){function i(e){return e.replace(/^\s+|\s+$/g,"")}t.exports=i},{}]},{},[3])(3)});var react_utils={humanize:function(e){return e.toString().toLowerCase().replace(/[_-]/g," ").replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}};Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,s=arguments[1],r=0;r<n;r++)if(t=i[r],e.call(s,t,r,i))return t;return undefined}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,s=arguments[1],r=0;r<n;r++)if(t=i[r],e.call(s,t,r,i))return r;return-1},enumerable:!1,configurable:!1,writable:!1});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Article=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"getOptions",value:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}}},{key:"render",value:function(){var e=window[this.props.list_item+"Detail"],t=window[this.props.list_item+"Sidebar"];return React.createElement("article",{className:"grid_list_slide"},React.createElement(e,_extends({item:this.props.article,hide_detail:this.props.hide_detail,change_title:this.props.change_title,options:this.getOptions(),images_loaded:this.props.images_loaded},this.props)),this.props.detail_image_loaded?React.createElement(t,_extends({item:this.props.article,initial_items:this.props.initial_items,images_loaded:this.props.images_loaded},this.props,{"class":"grid_list_sidebar"})):null)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},ArticleNav=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var i=this.getScrollValue();this.state={scroll_value:i,detail_centered:!0}}return _inherits(t,e),_createClass(t,[{key:"getScrollValue",value:function(){var e=$("section.main_feature").length>0?$("section.main_feature"):$(".custom_banner_container"),t=0,i=0;return this.props.options&&"undefined"!=this.props.options.custom_scroll&&(i=parseFloat(this.props.options.custom_scroll),isNaN(i)&&(i=.6),e.length&&(t=(e[0].offsetHeight-$("nav.site_nav")[0].offsetHeight)*i)),t}},{key:"componentDidMount",value:function(){var e=this;"undefined"!=this.props.options.custom_scroll&&1==this.props.options.custom_scroll&&window.addEventListener("resize",function(){e.setState({scroll_value:e.getScrollValue()},function(){console.log("resizing")})})}},{key:"onClickPreviousItem",value:function(e){var t=this;this.state.detail_centered&&function(){t.setState({detail_centered:!1});var i=t;e.preventDefault(),t.slidePrev(function(){i.props.selected_item(i.props.previous_item,function(){i.slideFromLeft()})}),t.state.scroll_value?$("html, body").animate({scrollTop:t.state.scroll_value+"px"},700):window.scroll(0,0)}()}},{key:"onClickNextItem",value:function(e){var t=this;this.state.detail_centered&&function(){t.setState({detail_centered:!1});var i=t;e.preventDefault(),t.slideNext(function(){i.props.selected_item(i.props.next_item,function(){i.slideFromRight()})}),t.state.scroll_value?$("html, body").animate({scrollTop:t.state.scroll_value+"px"},700):window.scroll(0,0)}()}},{key:"slideFromRight",value:function(){var e=this;$("article.grid_list_slide").css({left:"25%",opacity:0});var t=setInterval(function(){e.props.detail_image_loaded&&(clearInterval(t),$("article.grid_list_slide").animate({left:"0",opacity:1},200,function(){e.setState({detail_centered:!0})}))},20);setTimeout(function(){var e=$(".detail_loading");e.length>0&&e.spin(main.spinner_opts)},2e3)}},{key:"slideFromLeft",value:function(){var e=this;$("article.grid_list_slide").css({left:"-25%",opacity:0});var t=setInterval(function(){e.props.detail_image_loaded&&(clearInterval(t),$("article.grid_list_slide").animate({left:"0",opacity:1},200,function(){e.setState({detail_centered:!0})}))},20);setTimeout(function(){var e=$(".detail_loading");e.length>0&&e.spin(main.spinner_opts)},2e3)}},{key:"slideNext",value:function(e){$("article.grid_list_slide").animate({left:"-25%",opacity:0},200,e)}},{key:"slidePrev",value:function(e){$("article.grid_list_slide").animate({left:"25%",opacity:0},200,e)}},{key:"getPreviousHTML",value:function(){var e=this,t=e.props.previous_item;if(t){var i=t.list_image_src;return"undefined"!=typeof e.props.options&&e.props.options.external_asset_url&&(i=e.props.options.external_asset_url+i),React.createElement("a",{onClick:function(t){e.onClickPreviousItem(t)},href:"#",className:"article_nav_block prev"},React.createElement("div",{className:"link_box"},React.createElement("img",{src:"/assets/arrow_left.jpg",alt:"Previous Article"})),React.createElement("div",{className:"article_details",id:"prev_details"},React.createElement("div",{className:"preview_image"},React.createElement("img",{alt:t.job_title,src:i})),React.createElement("div",{className:"title"},t.name)))}return null}},{key:"getNextHTML",value:function(){var e=this,t=e.props.next_item;if(t){var i=t.list_image_src;return"undefined"!=typeof e.props.options&&e.props.options.external_asset_url&&(i=e.props.options.external_asset_url+i),React.createElement("a",{onClick:function(t){e.onClickNextItem(t)},href:"#",className:"article_nav_block next"},React.createElement("div",{className:"link_box"},React.createElement("img",{src:"/assets/arrow_right.jpg",alt:"Next Article"})),React.createElement("div",{className:"article_details",id:"next_details"},React.createElement("div",{className:"preview_image"},React.createElement("img",{alt:t.job_title,src:i})),React.createElement("div",{className:"title"},t.name)))}return null}},{key:"render",value:function(){return React.createElement("div",{className:"article_nav"},this.getNextHTML(),this.getPreviousHTML())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},BrowseHappier=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"getIEVersion",value:function(){var e=navigator.userAgent,t=/MSIE\s?(\d+)(?:\.(\d+))?/i,i=e.match(t);return null!=i?{major:i[1],minor:i[2]}:e.indexOf("Trident/")>0?{major:11,minor:0}:e.indexOf("Edge/")>0?{major:12,minor:0}:{major:"-1",minor:"-1"}}},{key:"shouldBH",value:function(e){return!(!this.props.lt||!this.props.gt)&&(e.major<this.props.lt&&e.major>this.props.gt)}},{key:"render",value:function(){var e=this.getIEVersion();return this.shouldBH(e)?React.createElement("p",{className:"browsehappy"},"You are using an ",React.createElement("strong",null,"outdated")," browser. Please ",React.createElement("a",{href:"http://browsehappy.com/"},"upgrade your browser")," to improve your experience."):null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Carousel=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.carousel=null}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this.props.show?this.props.show:1,t=!!this.props.infinite&&this.props.infinite,i=!!this.props.autoplay&&this.props.autoplay,n=this.props.scroll?this.props.scroll:1,s=!!this.props.center&&this.props.center,r=this.props.initial?this.props.initial:0,o=this.props.responsive?this.props.responsive:[{}],a=!!this.props.arrows&&this.props.arrows;this.props.fancybox_yt&&$(document).ready(function(){var e={rel:"peopleprofiles",current:"",iframe:!0,width:"80%",height:"80%",maxWidth:"960px",maxHeight:"540px",reposition:!0},t={rel:"peopleprofiles",current:"",iframe:!0,width:"95%",height:"53%",maxWidth:"960px",maxHeight:"540px",reposition:!0};window.innerHeight>window.innerWidth?$(".video_cbx2").colorbox(t,function(){$("#colorbox").addClass("cboxTransparentTheme")}):$(".video_cbx2").colorbox(e,function(){$("#colorbox").addClass("cboxTransparentTheme")}),$(window).resize(function(){window.innerHeight>window.innerWidth?$.colorbox.resize({width:window.innerWidth>parseInt(t.maxWidth)?t.maxWidth:t.width,height:window.innerHeight>parseInt(t.maxHeight)?t.maxHeight:t.height}):$.colorbox.resize({width:window.innerWidth>parseInt(e.maxWidth)?e.maxWidth:e.width,height:window.innerHeight>parseInt(e.maxHeight)?e.maxHeight:e.height})})}),this.carousel=$("#"+this.props.carousel_id).slick({accessibility:!0,adaptiveHeight:!1,autoplay:i,autoplaySpeed:5e3,arrows:a,centerMode:s,centerPadding:"0",cssEase:"ease",dots:!1,draggable:!0,fade:!1,focusOnSelect:!1,easing:"linear",edgeFriction:.15,infinite:t,initialSlide:r,mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:o,slide:"",slidesToShow:e,slidesToScroll:n,speed:300,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!0,vertical:!1,verticalSwiping:!1,rtl:!1}),$(window).resize()}},{key:"componentWillUnmount",value:function(){this.carousel.slick("unslick")}},{key:"buildSlide",value:function(e){return this.props.fancybox_yt?React.createElement("div",{key:e.id,className:"slide"},React.createElement("a",{href:e.embed_video,className:"video_cbx2","data-fancybox-group":"videos",title:e.title+": "+e.body,rel:"peopleprofiles"},React.createElement("div",{className:"image_container"},React.createElement("img",{src:e.image_src,alt:e.alt_text}),React.createElement("img",{src:"/assets/yt_play_button.png",alt:"",className:"youtube_play_button"}))),React.createElement("div",{className:"slide_description"},React.createElement("h3",{dangerouslySetInnerHTML:{__html:e.title}}),React.createElement("p",{className:"description_body",dangerouslySetInnerHTML:{__html:e.body}}))):React.createElement("div",{key:e.id,className:"slide"},React.createElement("a",{href:e.link},React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"rollover_description"},e.body,React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{alt:"More",src:"/assets/overlay-arrow.png"}))),React.createElement("img",{src:e.image_src,alt:e.alt_text}))),React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.link},e.title)))}},{key:"render",value:function(){this.props.slides;var e=this;return React.createElement("div",{id:this.props.carousel_id,className:"detail_carousel"},this.props.slides.map(function(t){return e.buildSlide(t)}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){
return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},CheckboxList=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={truncation:this.props.more_less,items:this.props.items,search_regex:null}}return _inherits(t,e),_createClass(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.items!==this.state.items){var i=e.items;this.props.filterable&&null!=this.state.search_regex&&(i=i.filter(function(e){return"string"!=typeof e.value?t.state.search_regex.test(e.label):t.state.search_regex.test(e.value)})),this.setState({items:i})}}},{key:"makeId",value:function(e){var t=this.props.delimiter?this.props.delimiter:"-";return this.props.form_section+t+e.toLowerCase().replace(/\W/g,t)}},{key:"formatText",value:function(e){return"sentence"==this.props.text_format?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"none"==this.props.text_format?e:this.titleize(e)}},{key:"blurOnEnter",value:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())}},{key:"titleize",value:function(e){var t=e.split(/[\W^-]/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}},{key:"changeTruncation",value:function(e){(e&&e.preventDefault(),!this.state.truncation&&this.state.items.length>20)&&document.getElementById("form_section_"+this.props.form_section).scrollIntoView(!0);this.setState({truncation:!this.state.truncation})}},{key:"filterCheckboxes",value:function(e){var t=e.target.value;if(""==t)this.setState({items:this.props.items,search_regex:null});else{var i=new RegExp(t,"i"),n=this.props.items.filter(function(e){return"string"!=typeof e.value?i.test(e.label):i.test(e.value)});this.setState({items:n,search_regex:i})}}},{key:"getShowAll",value:function(){var e=this;return this.props.show_all?React.createElement("li",null,React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:0==this.props.checked_items.length,name:"show_all",value:"",onChange:function(t){e.clearItems(t.target)}}),React.createElement("span",{className:"label_text"},"Show all"))):null}},{key:"clearItems",value:function(){var e=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this.props.clear_items(this.props.form_section),this.props.filterable&&null!=e){this.setState({search_regex:null},function(){$(e).parents("fieldset").find('input[type="text"]').val("")})}}},{key:"whenClicked",value:function(e){this.props.when_clicked&&this.props.when_clicked(e)}},{key:"isChecked",value:function(e){return this.props.checked_items.indexOf(e)>-1}},{key:"render",value:function(){var e=this,t=this.props.form_section;t+=this.state.truncation?" truncated":" expanded";var i=e.props.show_min?e.props.show_min:7;return React.createElement("fieldset",{className:t+" facet_section",id:"form_section_"+e.props.form_section},e.props.filterable?React.createElement("input",{className:"search_field wide filter_"+e.props.form_section,onChange:function(t){e.filterCheckboxes(t)},type:"text",placeholder:this.props.placeholder?this.props.placeholder:"filter targets",onKeyUp:this.blurOnEnter}):"",React.createElement("ul",null,this.getShowAll(),e.state.items.map(function(t,n){if("**"==t.value)return React.createElement("li",{className:n>=i?"truncatable ":"",key:"li_"+n},React.createElement("h5",{className:"facet_kicker",key:e.makeId(t.label)},t.label));var s=t.label.split(/[\(\)]/),r=e.props.checkbox_class?e.props.checkbox_class:"";return React.createElement("li",{className:"facetitem "+(n>=i?"truncatable ":"")+r,key:"li_"+n,id:e.makeId(t.label)},React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:e.isChecked(t.value),name:e.makeId(t.label),value:t.value,onChange:function(t){e.whenClicked(t)}}),React.createElement("span",null,e.formatText(s[0])),t.targetCount&&e.props.show_count?React.createElement("span",{className:"facetitemcount target_count"},"\t("+(e.props.formatNumber?e.props.formatNumber(t.targetCount):t.targetCount)+")"):"",s.length>1?React.createElement("div",{className:"has_tooltip",title:e.titleize(s[1])}):""))})),this.props.more_less&&this.state.items.length>(this.props.show_min?this.props.show_min:7)?React.createElement("a",{href:"#more-options",className:"truncation_toggle",onClick:function(t){e.changeTruncation(t)}}):"")}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},CherTools=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={open:!0,visible:!1},this.scroll_fn=null}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e,t=this;this.props.share&&(e=t,t.scroll_fn=$(window).scroll(function(){e.state.visible||$(window).scrollTop()/($(document).height()-$(window).height())>.2&&e.setState({visible:!0},function(){$(".wasnt_it_good").show(500)})}))}},{key:"openWindow",value:function(e){var t=undefined,i=undefined,n=undefined,s=undefined;n=(t=window.innerWidth/2)/2,s=(i=window.innerHeight/2)/2,window.open(e,"pop","width="+t+", height="+i+", left="+n+", top="+s+", scrollbars=no")}},{key:"getShareOption",value:function(e,t){var i=this;return"Facebook"==e[0]?React.createElement("div",{key:t,className:"facebook",onClick:function(){i.shareFb()}}):"Twitter"==e[0]?React.createElement("div",{key:t,className:"twitter",onClick:function(){i.shareTwitter()}}):"Pinterest"==e[0]?React.createElement("div",{key:t,className:"pinterest",onClick:function(){i.sharePinterest()}}):"Email"==e[0]?React.createElement("div",{key:t,className:"email",onClick:function(){i.shareEmail()}}):void console.log("Share not implemented.",e)}},{key:"shareFb",value:function(){var e=this.getShareDetails();"undefined"!=typeof gas&&gas("send","event","share","facebook",e[0]);var t=document.head.querySelector("meta[property='fb:app_id']").getAttribute("content");if(t){var i="https://www.facebook.com/dialog/share?app_id="+t+"&display=popup&href="+encodeURIComponent(e[0]);this.openWindow(i)}else this.openWindow("https://www.facebook.com/sharer/sharer.php?u="+e[0])}},{key:"shareTwitter",value:function(){var e=this.getShareDetails();"undefined"!=typeof gas&&gas("send","event","share","twitter",e[0]);var t={text:e[1]+" -> "+e[2],url:e[0]};this.openWindow("https://twitter.com/intent/tweet?"+$.param(t))}},{key:"sharePinterest",value:function(){var e=this.getShareDetails();"undefined"!=typeof gas&&gas("send","event","share","pinterest",e[0]);var t=this.props.share_image?this.props.share_image:document.head.querySelector("meta[property='og:image']").getAttribute("content"),i="http://pinterest.com/pin/create/button/?url="+e[0]+"&media="+encodeURIComponent(t)+"&description="+encodeURIComponent(e[1]);this.openWindow(i)}},{key:"shareEmail",value:function(){var e=this.getShareDetails(),t=encodeURIComponent(e[1]),i=""+encodeURIComponent(e[0]);document.location="mailto:?subject="+t+"&body="+i}},{key:"getShareDetails",value:function(){var e=undefined,t=document.head.querySelector("meta[property='og:url']");e=this.props.url?this.props.url:t?t.getAttribute("content"):window.location.protocol+"//"+window.location.host+"/"+window.location.pathname+window.location.search;var i=undefined,n=document.head.querySelector("meta[property='og:title']");i=this.props.share_text?this.props.share_text:n?n.getAttribute("content"):document.title;var s=undefined,r=document.head.querySelector("meta[name='description']");return r&&(s=r.getAttribute("content")),[e,i,s]}},{key:"follow",value:function(e){"undefined"!=typeof gas&&gas("send","event","follow",e[0].toLowerCase());window.open(e[1],"_blank")}},{key:"getFollowOption",value:function(e,t){var i=this;return React.createElement("div",{key:t,className:e[0].toLowerCase()+" icon",onClick:function(){i.follow(e)},style:{cursor:"pointer"}},React.createElement("img",{src:e[2],alt:"Follow on "+e[0]}))}},{key:"getNavTitle",value:function(){if(this.props.title&&""!==this.props.title)return React.createElement("div",{className:"nav_title"},this.props.title)}},{key:"toggleOpen",value:function(){this.setState({open:!this.state.open}),$(".i_found_someone").toggle(300)}},{key:"render",value:function(){var e=this,t=this;return this.props.share?React.createElement("div",{className:"wasnt_it_good "+(this.state.open?"all":"nothing")},React.createElement("div",{className:"i_found_someone"},this.props.share.map(function(e,i){return t.getShareOption(e,i)})),React.createElement("div",{className:"where_do_you_go "+(this.state.open?"open":"closed"),onClick:function(){return e.toggleOpen()}},React.createElement("span",{className:"icon arrow_down"}))):this.props.follow?React.createElement("div",{className:"social_icons paradise_is_here"},t.getNavTitle(),this.props.follow.map(function(e,i){return t.getFollowOption(e,i)})):void 0}}]),t}(React.Component),ComponentGallery=createReactClass({responsive_options:[{title:"mobile",width:"360px"},{title:"tablet",width:"800px"},{title:"desktop",width:"1200px"}],template_options:[{title:"Content Page",url_param:"template=content_page"},{title:"Feature",url_param:"template=feature"},{title:"Grid List",url_param:"template=grid_list_page"},{title:"Homepage",url_param:"template=homepage"},{title:"Overlay",url_param:"template=overlay"},{title:"Full Width",url_param:"template=full_width"}],getInitialState:function(){return{iframe_w:this.props.responsive?this.responsive_options[2].width:"100%",iframe_src:this.props.items.length>0?this.formatSrc(this.props.items[0].id):null,code:this.props.items.length>0?this.props.items[0].code:null,id:this.props.items.length>0?this.props.items[0].id:null,responsive_input:""}},changeWidth:function(e){this.setState({iframe_w:e})},changeResponsive:function(e){var t=e.currentTarget.value;this.setState({iframe_w:t+"px",responsive_input:t})},getResponsiveOptions:function(){var e=this;if(!this.props.responsive)return null;var t,i=(t=e,{v:React.createElement("div",{className:"responsive"},React.createElement("h2",null," Responsive options "),React.createElement("div",{className:"responsive_options"},e.responsive_options.map(function(e,i){return React.createElement("a",{key:"ro_"+i,onClick:function(){t.changeWidth(e.width)}},e.title)}),React.createElement("input",{type:"number",value:e.state.responsive_input,min:320,onChange:e.changeResponsive})))});return"object"==typeof i?i.v:void 0},formatSrc:function(e){return"/mbcms/component_gallery_items/"+this.props.parent_id+"/"+e},changeSrc:function(e,t){this.setState({iframe_src:this.formatSrc(e),code:t,id:e})},changeTemplate:function(e){var t=this.formatSrc(this.state.id)+"?"+e;this.setState({iframe_src:t})},getTemplateOptions:function(){var e=this;return React.createElement("div",{className:"templates"},React.createElement("h2",null,"Templates"),React.createElement("div",{className:"variation_options"},this.template_options.map(function(t,i){return React.createElement("a",{key:"t_"+i,onClick:function(){e.changeTemplate(t.url_param)}},t.title)})))},getVariations:function(){var e=this;if(!(this.props.items.length>0))return null;var t,i=(t=e,{v:React.createElement("div",{className:"variations"},React.createElement("h2",null,"Variations"),React.createElement("div",{className:"variation_options"},e.props.items.map(function(e,i){return React.createElement("a",{key:"v_"+i,onClick:function(){t.changeSrc(e.id,e.code)}},e.title)})))});return"object"==typeof i?i.v:void 0},render:function(){return React.createElement("div",{className:"component_gallery"},this.getResponsiveOptions(),this.getTemplateOptions(),this.getVariations(),React.createElement("div",{className:"demo"},React.createElement("iframe",{src:this.state.iframe_src,width:this.state.iframe_w,scrolling:!0})),React.createElement("div",{className:"code"},React.createElement("h2",null,"Code"),React.createElement("textarea",{readOnly:!0,value:this.state.code,rows:5,style:{width:"50%"}})))}}),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Countdown=function(t){function i(e){_classCallCheck(this,i),_get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e),this.state={countdown_html:"",completed:!1}}return _inherits(i,t),_createClass(i,[{key:"componentWillMount",value:function(){this.props.date&&this.startCounting()}},{key:"getDateLabel",value:function(){if(this.props.date&&this.props.show_date&&this.props.date_label)return React.createElement("div",{className:"date_label_container"},React.createElement("span",{className:"countdown_date_label",dangerouslySetInnerHTML:{__html:this.props.date_label+":"}}),React.createElement("span",{className:"countdown_end"},this.props.formatted_date));if(this.props.date_start&&this.props.show_date){var e=moment(this.props.date_start).utc(),t=moment(this.props.date_end).utc(),i=e.format("MMM. D, YYYY"),n=t.format("MMM. D, YYYY");return React.createElement("div",{className:"date_label_container"},React.createElement("span",{className:"historic_clock_date_start"},i),"\xa0\u2014\xa0",React.createElement("span",{className:"historic_clock_date_end"},n))}return null}},{key:"getDate",value:function(){if(this.props.show_date&&this.props.date)return null;if(this.props.date_start){var e=moment(this.props.date_start).utc(),t=moment(this.props.date_end).utc(),i=moment.duration(t.diff(e)),n=this.pad2(i.get("years")),s=this.pad2(i.get("months")),r=this.pad2(i.get("days")),o=this.pad2(i.get("hours")),a=this.pad2(i.get("minutes")),l=this.pad2(i.get("seconds"));return console.log(n),React.createElement("div",{className:"clock_time"},n?React.createElement("div",{className:"time_years unit"},n,React.createElement("span",{className:"time_label"},"yrs")):null,n||s?React.createElement("div",{className:"time_years unit"},s,React.createElement("span",{className:"time_label"},"mos")):null,n||s||r?React.createElement("div",{className:"time_years unit"},r,React.createElement("span",{className:"time_label"},"days")):null,n||s||r||o?React.createElement("div",{className:"time_years unit"},o,React.createElement("span",{className:"time_label"},"hrs")):null,n||s||r||o||a?React.createElement("div",{className:"time_years unit"},a,React.createElement("span",{className:"time_label"},"mins")):null,React.createElement("div",{className:"time_years unit"},l,React.createElement("span",{className:"time_label"},"secs")))}return null}},{key:"startCounting",value:function(){var t=this;setInterval(function(){try{if(!t.state.completed){var i=new Date(t.props.date),n=t.props.count_up,s=new Date;if(s<i||n){var r;Math.abs(i.getTime()-s.getTime());r=n?moment.preciseDiff(s,i,!0):moment.preciseDiff(i,s,!0),year_day="<div class='time_years unit'>"+t.pad2(r.years)+"<span class='time_label'>yrs</span></div>",year_day+="<div class='time_months unit'>"+t.pad2(r.months)+"<span class='time_label'>mos</span></div>",year_day+="<div class='time_days unit'>"+t.pad2(r.days)+"<span class='time_label'>days</span></div>",t.setState({countdown_html:year_day+"<div class='time_hours unit'>"+t.pad2(r.hours)+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+t.pad2(r.minutes)+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+t.pad2(r.seconds)+"<span class='time_label'>secs</span></div></div>"})}else t.setState({countdown_html:"<div class='completed'>COMPLETED</div>",completed:!0})}}catch(e){console.log("error in countdown: "+e.message)}},1e3)}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"render",value:function(){return React.createElement("div",{className:this.props.date?"countdown":"historic_clock"},React.createElement("div",{className:"dividing_line_container line_top"},this.props.subtitle?React.createElement("div",{className:"counter_subtitle"},React.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.subtitle}})):React.createElement("hr",null)),React.createElement("span",{className:"time_and_label_container"},React.createElement("div",{className:"countdown_header"},React.createElement("div",{className:"countdown_title"},this.props.title),this.getDateLabel()),this.getDate(),React.createElement("div",{className:"countdown_time",dangerouslySetInnerHTML:{__html:this.state.countdown_html}})),React.createElement("div",{className:"dividing_line_container line_bottom"},React.createElement("hr",null)))}}]),i}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},DateFilter=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"initListeners",value:function(e){var t=this.props.datepicker_class,i=this;$("input."+t).datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,showOn:e||this.props.readonly?"both":"button",buttonImage:"/assets/calendar_icon.png",buttonImageOnly:!1,buttonText:"calendar",beforeShow:function(e){return $("#ui-datepicker-div").wrap("<div class='datepicker_mask'></div>"),i.attachClickOutsideCloser(),i.onBeforeDatepickerShow(t,e)},onChangeMonthYear:function(e,t,i){setTimeout(function(){var e=$(i).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:function(){$.datepicker._clearDate(i.input)}}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1)},onClose:function(e,t){$("#ui-datepicker-div").unwrap(),""==this.value?this.setAttribute("placeholder",i.props.placeholder):this.setAttribute("placeholder",""),i.props.closeDatePicker&&i.props.closeDatePicker(e,t,this)}})}},{key:"updateMinMaxValue",value:function(e){return console.log(e,this.props.min_date,this.props.max_date),{minDate:this.props.min_date,maxDate:this.props.max_date}}},{key:"onBeforeDatepickerShow",value:function(e,t){var i=this;return this.props.clear&&setTimeout(function(){var e=$(t).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:i.props.clear}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1),this.updateMinMaxValue(e)}},{key:"attachClickOutsideCloser",value:function(){if(this.props.onBlur){var e=this;$(document).off("**").on("click touchstart",function(t){var i=$(t.target);i.hasClass("hasDatepicker")||i.hasClass("ui-datepicker")||i.hasClass("ui-icon")||i.hasClass("ui-datepicker-current")||i.hasClass("ui-datepicker-next")||i.hasClass("ui-datepicker-prev")||$(i).parents(".ui-datepicker").length||($(".hasDatepicker").datepicker("hide"),e.props.onBlur())})}}},{key:"componentDidMount",value:function(){var e=mb_utils.mobileAndTabletCheck();this.initListeners(e),this.disableKeyboard(e)}},{key:"disableKeyboard",value:function(e){e&&$(".calendar_input_binder input").attr("readonly",!0)}},{key:"render",value:function(){return React.createElement("div",{className:"date_option_wrapper"},React.createElement("div",{className:"calendar_input_binder"},React.createElement("label",{className:"preposition"},this.props.preposition),React.createElement("label",{className:"preposition_small"},this.props.preposition_small),React.createElement("input",{className:this.props.datepicker_class,name:this.props.input_name,type:"text",placeholder:""==this.props.date_value?this.props.placeholder:"",value:this.props.date_value,onChange:this.props.changeValue,onKeyPress:this.props.onKeyPress,readOnly:this.props.readonly})))}}]),t}(React.Component),DocumentListItem=createReactClass({render:function(){var e=this.props.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:e.url},"/assets/public/missing.png"!=e.list_image?React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.list_image})):null,React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url,target:e.link?"_blank":""},e.title)),React.createElement("div",{className:"article_teaser_body"},React.createElement("div",{className:"document_description"},e.year?React.createElement("span",{className:"document_year"},e.year," | "):null,e.authors.length>0?React.createElement("span",{className:"document_authors"},"PI: ",e.authors.map(function(e,t){return React.createElement("span",null,t>0?", ":null,React.createElement("a",{key:e.name,className:"document_author",href:e.link},e.name))})):null,React.createElement("div",{className:"document_summary"},e.short_description," "),e.file?React.createElement("a",{className:"document_file_link",href:e.file},e.file_info):null))))}}),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},ESPublicationListItem=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.props.item,t=e.citation?e.citation.autoLink():"",i=!(!this.props.options||!this.props.options.use_publication_year)&&this.props.options.use_publication_year;return React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"list_text full_width_text"},i?React.createElement("div",{className:"content_year"},e.publication_year):null,e.link?React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.link,target:"_blank"},e.title)):React.createElement("div",{className:"content_title"},e.title),React.createElement("div",{className:"article_teaser_body"},React.createElement("div",{className:"citation"},React.createElement("span",{dangerouslySetInnerHTML:{__html:t}})))))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},EventDetail=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var i=[],n=[];this.props.item.documents&&this.props.item.documents.map(function(e){"Presentations"==e.type?i.push(e):n.push(e)}),this.tabs=[],null!=this.props.item.body&&""!=this.props.item.body&&this.tabs.push("Details"),i.length>0&&this.tabs.push("Presentations"),1==this.props.item.registration_status&&this.tabs.push("Register"),this.state={tab_name:this.tabs[0],presentations:i,documents:n}}return _inherits(t,e),_createClass(t,[{key:"changeTab",value:function(e){this.setState({tab_name:e})}},{key:"changeSelectTab",value:function(e){this.setState({tab_name:e.currentTarget.value})}},{key:"getNav",value:function(){var e=this,t=this;return React.createElement("nav",{className:"event_detail_nav"},React.createElement("div",{className:"desktop_event_detail_nav"},this.tabs.map(function(t,i){return React.createElement("li",{key:"tab_"+i,onClick:function(){e.changeTab(t)},className:t==e.state.tab_name?"current":""},t)})),React.createElement("div",{className:"mobile_event_detail_nav"},React.createElement("select",{className:"nav_list",onChange:function(t){e.changeSelectTab(t)},value:t.state.tab_name},t.tabs.map(function(e,i){return React.createElement("option",{key:"tab_"+i,value:e,className:e==t.state.tab_name?"current":""},e)}))))}},{key:"getDocuments",value:function(){return this.state.documents.length>0?React.createElement("aside",{className:"boxed"},React.createElement("h2",{className:"sidebar_title"},"Downloads"),React.createElement("ul",null,this.state.documents.map(function(e,t){return React.createElement("li",{key:t},React.createElement("a",{href:e.url},e.title),React.createElement("p",{className:"document_description"},e.short_description))}))):null}},{key:"getDetail",value:function(){return React.createElement("div",{className:"event_detail_container"},React.createElement("h2",{className:"event_detail_header"},"About the Meeting"),React.createElement("div",{className:"clearfix",id:"primary_column"},React.createElement("div",{className:"wysiwyg_content"},React.createElement("div",{className:"event_body",dangerouslySetInnerHTML:{__html:this.props.detail.body}}))),React.createElement("div",{className:"",id:"secondary_column"},React.createElement("div",{className:"event_sidebar_body",dangerouslySetInnerHTML:{__html:this.props.detail.sidebar}}),this.getDocuments()))}},{key:"getPresentations",value:function(){return React.createElement(EventPresentations,{items:this.state.presentations})}},{key:"getRegister",value:function(){return React.createElement(EventRegistration,{event_id:this.props.item.id,authenticity_token:this.props.authenticity_token,recaptcha:this.props.recaptcha,item:this.props.item})}},{key:"getDetailsForTab",value:function(){switch(console.log("get details for tab",this.state.tab_name),this.state.tab_name){case"Details":return this.getDetail();case"Presentations":return this.getPresentations();case"Register":return this.getRegister();default:return console.error("Unexpected state of tabs. ",this.state.tab_name),null}}},{key:"render",value:function(){return React.createElement("div",{className:"event_detail"},this.getNav(),this.getDetailsForTab())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},EventListItem=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"dateRange",value:function(e,t){var i=["January","February","March","April","May","June","July","August","September","October","November","December"];e=new Date(Date.parse(e)),t=new Date(Date.parse(t));return(e=i[e.getUTCMonth()]+" "+e.getUTCDate()+", "+e.getUTCFullYear())==(t=i[t.getUTCMonth()]+" "+t.getUTCDate()+", "+t.getUTCFullYear())?e:e+" - "+t}},{key:"render",value:function(){var e=this.props.item;return React.createElement("div",{className:"list_content event_list_item image_and_description_container"},React.createElement("a",{href:e.url,target:"_self"},e.list_image_url?React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.list_image_url,alt:e.title})):null,React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"+(e.list_image_url?"":" full_width_text")},React.createElement("div",{className:"date"},this.dateRange(e.start_date,e.end_date)),React.createElement("h3",{className:"list_title"},React.createElement("a",{href:e.link,target:"_self"},e.title)),e.location?React.createElement("p",null,"Location: ",e.location):null,React.createElement("a",{className:"list_link",href:e.link,target:"_self"},"view details \u203a")))}}]),t}(React.Component),EventPresentationListItem=function(e){var t=e.item,i=new Date(t.created_at);return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:t.url},"/assets/public/missing.png"!=t.list_image?React.createElement("div",{className:"list_image"},React.createElement("img",{src:t.list_image,alt:t.title})):null,React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,t.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:t.url,download:!0},t.title)),React.createElement("div",{className:"article_teaser_body"},React.createElement("div",{className:"document_description"},React.createElement("div",{className:"document_date"},i.getUTCMonth()+1+"/"+i.getUTCDate()+"/"+i.getUTCFullYear()),React.createElement("div",{className:"document_authors"},t.author),React.createElement("a",{className:"document_file_link",href:t.url,download:!0},t.file_info)))))},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},EventPresentations=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={search:"",filtered_items:this.props.items,sort:"title_asc"}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.filterItems()}},{key:"filterItems",value:function(){var e=this.filterBySearch();e=this.sortFilteredItems(e),this.setState({filtered_items:e})}},{key:"sortFilteredItems",value:function(e){var t=this;return e.sort(function(e,i){return"title_asc"==t.state.sort?e.title>i.title?1:e.title<i.title?-1:0:"author_asc"==t.state.sort?e.contributors>i.contributors?1:e.contributors<i.contributors?-1:0:(console.error("SORT undefined for ",t.state.sort),0)})}},{key:"filterBySearch",value:function(){var e=this.state.search.toLowerCase();return""==e?this.props.items:this.props.items.filter(function(t){var i=t.title.toLowerCase().indexOf(e)>-1,n=t.contributors.toLowerCase().indexOf(e)>-1,s=t.short_description.toLowerCase().indexOf(e)>-1;return i||n||s})}},{key:"search",
value:function(e){var t=this;console.log("search",e.currentTarget.value),this.setState({search:e.currentTarget.value},function(){t.filterItems()})}},{key:"sort",value:function(e){var t=this;console.log("sort",e.currentTarget.value),this.setState({sort:e.currentTarget.value},function(){t.filterItems()})}},{key:"submitSearch",value:function(e){e.preventDefault(),console.log("search")}},{key:"getFilterBar",value:function(){var e=this;return React.createElement("section",{className:"filter_bar"},React.createElement("div",{className:"section_search"},React.createElement("div",{className:"search_binder"},React.createElement("input",{className:"search_field",name:"search",placeholder:"search",type:"text",value:this.state.search,onKeyDown:function(t){e.search(t)},onChange:function(t){e.search(t)}}),React.createElement("input",{className:"search_submit",type:"submit",value:"",onClick:function(t){e.submitSearch(t)}})),React.createElement("select",{id:"sort",name:"sort",className:"filter",onChange:function(t){e.sort(t)},value:this.state.sort},React.createElement("option",{value:"title_asc"},"Title A-Z"),React.createElement("option",{value:"author_asc"},"Author A-Z"))))}},{key:"render",value:function(){return React.createElement("section",{className:"list_view"},this.getFilterBar(),React.createElement("ul",{className:"item_list"},this.state.filtered_items.map(function(e){return React.createElement(EventPresentationListItem,{item:e,key:"presentation_"+e.id})})),0==this.state.filtered_items.length?"No results":"")}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},EventRegistration=function(t){function i(e){_classCallCheck(this,i),_get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e),this.state={error:""},this.months=["January","February","March","April","May","June","July","August","September","October","November","December"]}return _inherits(i,t),_createClass(i,[{key:"componentDidMount",value:function(){$.getScript("https://www.google.com/recaptcha/api.js?onload=recaptchaLoaded&render=onload")}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("submit form");var i=this.checkFeedbackForm(),n=i[0],s=i[1];if(n)this.setState({error:""},function(){t.submitEventForm()});else{for(var r="<div id='result'><strong>Please fill in the following fields: </strong><ul class ='error_list'>",o=0;o<s.length;o++)r+="<li class = 'error_list_item'>"+mb_utils.humanize(s[o])+"</li>";r+="</ul><br/></div>",this.setState({error:r},function(){$("body, html").animate({scrollTop:0})})}}},{key:"checkFeedbackForm",value:function(){console.log("Submit button pressed");var t=document.forms.new_event_registration,i=["first_name","last_name","phone","email","address","affiliation"],n=[],s=!0;try{for(var r=0;r<i.length;r++)null==t["event_registration_"+i[r]].value||""==t["event_registration_"+i[r]].value?(s=!1,$("label[for=event_registration_"+i[r]+"]").addClass("error"),n.push(i[r])):$("label[for=event_registration_"+i[r]+"]").removeClass("error");$("input:radio[name='event_registration[citizenship]']").is(":checked")||(s=!1,n.push("citizenship")),$(".registration_days").exists()&&($("input.registration_day").is(":checked")||(s=!1,n.push("dates attending")));var o=grecaptcha.getResponse();return o!=undefined&&""!=o||(s=!1,n.push("recaptcha")),[s,n]}catch(e){console.error("Error checking fields.",e.message)}}},{key:"submitEventForm",value:function(){var t=document.forms.new_event_registration,i=grecaptcha.getResponse(),n={event_registration:{first_name:t.event_registration_first_name.value,last_name:t.event_registration_last_name.value,phone:t.event_registration_phone.value,email:t.event_registration_email.value,address:t.event_registration_address.value,affiliation:t.event_registration_affiliation.value,event_id:t.event_registration_event_id.value},"g-recaptcha-response":i};try{t.submit(n,function(){console.log("Submitting form...")})}catch(e){console.log("EVENT REGISTRATION ERROR: "+e)}}},{key:"getRegistrationDays",value:function(){var e=this;if(this.props.item.start_date==this.props.item.end_date)return null;for(var t=new Date(this.props.item.start_date),i=new Date(this.props.item.end_date),n=[];t<=i;)n.push(new Date(t.getTime())),t.setDate(t.getDate()+1);return React.createElement("li",null,React.createElement("div",{className:"registration_day_title radio_title"},"Date(s) Attending ",React.createElement("span",{className:"required"},"*")),React.createElement("fieldset",{className:"registration_days radio_buttons"},n.map(function(t,i){return React.createElement("div",{className:"option",key:"option_"+i},React.createElement("input",{type:"checkbox",name:"event_registration[attending][]",id:e.formatDate(t),value:e.formatDate(t),className:"registration_day"}),React.createElement("label",{htmlFor:e.formatDate(t)},e.formatDate(t,!0)))})))}},{key:"formatDate",value:function(e,t){return t?this.months[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear():e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"render",value:function(){var e=this;return React.createElement("div",null,React.createElement("div",{className:"error",dangerouslySetInnerHTML:{__html:this.state.error}}),React.createElement("form",{className:"body_form",id:"new_event_registration",action:"/events/"+this.props.event_id+"/submit_registration",acceptCharset:"UTF-8",method:"post"},React.createElement("input",{name:"utf8",type:"hidden",value:"\u2713"}),React.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.authenticity_token}),React.createElement("input",{value:this.props.event_id,type:"hidden",name:"event_registration[event_id]",id:"event_registration_event_id"}),React.createElement("ul",null,React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_first_name"},"First name ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"text",name:"event_registration[first_name]",id:"event_registration_first_name"})),React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_last_name"},"Last name ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"text",name:"event_registration[last_name]",id:"event_registration_last_name"})),React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_affiliation"},"Affiliation ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"text",name:"event_registration[affiliation]",id:"event_registration_affiliation"})),React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_address"},"Address ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"text",name:"event_registration[address]",id:"event_registration_address"})),React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_email"},"Email ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"email",name:"event_registration[email]",id:"event_registration_email"})),React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_phone"},"Phone ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"tel",name:"event_registration[phone]",id:"event_registration_phone"})),React.createElement("li",null,React.createElement("div",{className:"radio_title"},"US Citizen or foreign national? ",React.createElement("span",{className:"required"},"*")),React.createElement("fieldset",{className:"radio_buttons"},React.createElement("div",{className:"option"},React.createElement("input",{type:"radio",value:"us_citizen",name:"event_registration[citizenship]",id:"event_registration_citizenship_us_citizen"}),React.createElement("label",{htmlFor:"event_registration_citizenship_us_citizen"},"US Citizen")),React.createElement("div",{className:"option"},React.createElement("input",{type:"radio",value:"permanent_resident",name:"event_registration[citizenship]",id:"event_registration_citizenship_permanent_resident"}),React.createElement("label",{htmlFor:"event_registration_citizenship_permanent_resident"},"Permanent Resident")),React.createElement("div",{className:"option"},React.createElement("input",{type:"radio",value:"foreign_national",name:"event_registration[citizenship]",id:"event_registration_citizenship_foreign_national"}),React.createElement("label",{htmlFor:"event_registration_citizenship_foreign_national"},"Foreign National")))),this.getRegistrationDays(),React.createElement("li",null,React.createElement("label",{htmlFor:"event_registration_comments"},"Comments"),React.createElement("textarea",{rows:"5",name:"event_registration[comments]",id:"event_registration_comments"})),React.createElement("div",{className:"g-recaptcha","data-sitekey":this.props.recaptcha}),React.createElement("fieldset",{className:"centered"},React.createElement("input",{className:"inline_button button",name:"registration_submit",onClick:function(t){e.onSubmit(t)},type:"submit",value:"Submit"}),React.createElement("input",{className:"inline_button button",name:"registration_reset",type:"reset",value:"Reset"})))))}}]),i}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},FacetedSearch=function(t){function i(e){_classCallCheck(this,i),_get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e),this.filters=null,this.facets=null;if(this.props.filters){this.filters=JSON.parse(this.props.filters);var t=this.filters.filter(function(e){return""!=e[2][1]}).map(function(e){return{name:e[0],value:e[2][1]}})}else t=[];this.filters&&this.filters.map(function(e){if(console.log("checking param",e[0]),/^field/.test(e[0])){var i=e[0].match(/^field_(.+)/)[1],n=location.search.substr(1).split("&").filter(function(e){return new RegExp(i).test(e)});if(n.length>0)var s=n[0].match("condition_\\d+=(.+)(%3A|:)"+i),r=s?s[1]:null;else r=null}else r=mb_utils.getParam(e[0]);if(r&&""!=r){console.log("found param",r);var o=!1;t.map(function(t){t.name==e[0]&&(o=!0,t.value=Array.isArray(r)?r[0]:r)}),o||t.push({name:e[0],value:Array.isArray(r)?r[0]:r})}});var n=mb_utils.getParam("per_page"),s=mb_utils.getParam("page"),r=mb_utils.getParam("search");this.facets={};var o,a,l,c,u={};mb_utils.getParam("fs")||mb_utils.getParam("ft")||mb_utils.getParam("fc")?(o=mb_utils.getParam("fs"),a=mb_utils.getParam("ft"),l=mb_utils.getParam("fc"),c=!0):mb_utils.getParam("tags")||mb_utils.getParam("facet_categories")?(o=mb_utils.getParam("facet_search"),a=mb_utils.getParam("tags"),l=mb_utils.getParam("facet_categories"),c=!0):(o=mb_utils.getParam("facet_search"),a=mb_utils.getParam("facet_tags%5B%5D"),l=this._getFacetCategoriesParam(),c=!1),this.props.options&&this.props.options.default_query_params&&this.props.options.default_query_params.map(function(e){""==l&&e.fc?l=e.fc:""==o&&e.fs?o=e.fs:""==a&&e.ft&&(a=f[a])}),u=this._populateFacets(o,a,l,c);var h={},d={};this.datepickers={};var p=mb_utils.getParam("dp");p&&(h=this._populateDatepickers(p),d=$.extend(!0,{},h));var m=this.getSortOptions(),g=this.getOrder(m),v=this.getOptions(),_=v.default_view?v.default_view:"grid_view";this.state={filtering:t,searching:r?r[0]:"",active_search:r?r[0]:"",filters_opened:null,filters_hidden:null,grid_list_view:_,total:0,start_index:0,end_index:0,first_load:!0,page:s?parseInt(s[0]):0,per_page:n?parseInt(n[0]):50,order:g,page_count:0,sort_options:m,active_facets:u,active_datepickers:h,datepicker_values:d,items:[],loading:!1,current_request:null}}return _inherits(i,t),_createClass(i,[{key:"_getFacetCategoriesParam",value:function(){for(var e=[],t=0;t<this.props.facet_sections.length;t++){var i=mb_utils.getParam("facet_categories%5B"+t+"%5D%5B%5D");i&&e.push(i[0])}return e}},{key:"_populateFacets",value:function(e,t,i,n){var s={},r=this;if(!n){if(t&&t.length>1){var o=t.filter(function(e){return""!=e});t=o.length>0?[o.join(",")]:null}if(i&&i.length>1){var a=i.filter(function(e){return""!=e});i=a.length>0?[a.join(",")]:null}}return $.each(this.props.facet_sections,function(n,o){if(r.facets[o.name]=[],s[o.name]=[],o.search_field&&e&&""!=e[0]){var a=e[0].match(/\.\*\((.+)\)\.\*/)[1].split("|");$.each(a,function(e,t){t=t.replace(/\+/g," "),o.checkboxes.some(function(e){return e.value==t})&&s[o.name].push(t)})}else if(o.tags&&t&&t.length>0&&""!=t[0]){var l=t[0].split(/[,:]/g);$.each(l,function(e,t){t=t.replace(/\+/g," "),o.checkboxes.some(function(e){return e.value==t})&&s[o.name].push(t)})}else if(i&&i.length>0&&""!=i[0]){var c=i[0].split(",");$.each(c,function(e,t){o.checkboxes.some(function(e){return e.value==parseInt(t)})&&s[o.name].push(parseInt(t))})}else console.log("No params found for facet section '"+o.name+"'")}),s}},{key:"_populateDatepickers",value:function(e){var t={},i=this.props.facet_sections.filter(function(e){return"undefined"!=typeof e.datepicker}),n=e[0].split(",").filter(function(e){return""!=e});return $.each(n,function(e,n){var s=n.match(/^([^_]+)_/)[1],r=n.match(/_([^_]+)$/)[1];i.some(function(e){return e.name==s})&&(t[s]=r)}),t}},{key:"componentWillMount",value:function(){this.getData(null,this.state.page>0)}},{key:"componentDidMount",value:function(){var e=this;$("body").on("show_list_view",function(){e.setState({grid_list_view:"list_view"})}),$("body").on("show_grid_view",function(){e.setState({grid_list_view:"grid_view"})}),$(".contact_list_module").length&&(this.appendContactList(),this.setState({has_contact_list:!0})),$(window).resize(this.appendContactList)}},{key:"componentDidUpdate",value:function(e){this.props.facet_sections!==e.facet_sections&&(console.log("updating with new props"),this.getData())}},{key:"appendContactList",value:function(){window.innerWidth<600?$(".contact_list_module").appendTo($("#secondary_column").children(".facets_sidebar")).css("display","block"):$(".contact_list_module").appendTo($("#secondary_column")).css("display","block")}},{key:"getData",value:function(e,t){this.state.loading&&this.state.current_request.abort();var i=this,n=this.getParams(t),s=$.ajax({url:"/api/v1/"+i.props.model+"/",data:n,method:"GET",dataType:"json",success:function(t){console.log("Got items successfully.... ");var n=$.extend(t,{first_load:!1,active_search:i.state.searching,loading:!1});i.setState(n),this.updateIndices(),"function"==typeof e&&e.call()}.bind(this),error:function(e,t,n){"abort"==t?i.setState({loading:!1,current_request:null}):console.error(t,n.toString())}.bind(this)});this.setState({current_request:s,loading:!0})}},{key:"getParams",value:function(e){var t=e?this.state.page:0,i={order:this.state.order,per_page:this.state.per_page,page:t,search:this.state.searching};$.extend(i,this.getFilters()),$.extend(i,this.getFacets());var n=i.fs,s="";$.each(n,function(e,t){s.length>0&&(s+="+"),s+=".*("+t+").*:"+e+":regex"}),i.fs=s;var r="";$.each(i.datepickers,function(e,t){i["condition_"+t.idx]=t.value+":"+t.field+":"+t.condition;var n=t.name+"_"+t.value;r+=r.length>0?","+n:n}),i.dp=r,delete i.datepickers,i.category=this.getCategoryParam(i);var o=i.ft?i.ft.filter(function(e){return""!=e}).join(":"):null;i.ft=o;var a=i.fc.map(function(e){return e.filter(function(e){return""!=e}).join(",")}).filter(function(e){return""!=e}).join(",");i.fc=a,mb_utils.createCookie("faceted_search_filter",$.param(i),365),window.history.replaceState(i,null,"?"+$.param(i)),delete i.ft,delete i.fs,delete i.fc,delete i.dp,delete i.filter_categories,i.tags?i.tags+=o?":"+o:"":i.tags=o;var l=i.search||"";return s&&(i.search+=l.length>0?"+"+s:s),i}},{key:"updateIndices",value:function(){var e=this.state.page*this.state.per_page,t=Math.min(this.state.total,e+this.state.per_page),i=Math.ceil(this.state.total/this.state.per_page);this.setState({start_index:e,end_index:t,page_count:i})}},{key:"getOptions",value:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}}},{key:"getCategoryParam",value:function(e){var t="",i=e.filter_categories.join(":"),n=e.fc.map(function(e){return e.filter(function(e){return""!=e}).join(",")}).filter(function(e){return""!=e}).join(":");return i.length>0&&n.length>0?t=i+":"+n:0==i.length&&n.length>0?t=n:0==n.length&&i.length>0&&(t=i),t}},{key:"getFilters",value:function(){var e=this,t=this.state.filtering,i={},n=[];this.getOptions().must_cat&&n.push(this.getOptions().must_cat.split(","));var s=e.props.conditions?e.props.conditions.length+1:1;return $.each(t,function(t,r){if(console.log("param "+r.name+": "+r.value),""!=r.value)if("date"==r.name)if("publications"==e.props.model)i["condition_"+s]=r.value+":publication_year",s+=1;else if("events"==e.props.model)if("upcoming"==r.value){var o=new Date;i["condition_"+s]=o.getFullYear().toString()+"-"+(o.getMonth()+1).toString()+"-"+o.getDate().toString()+":start_date:gte",s+=1}else i.year=r.value+":start_date";else"documents"==e.props.model?i.year=r.value+":date":i.year=r.value+":publish_date";else if("scope"==r.name&&"featured"==r.value.toLowerCase())i["condition_"+s]="1:featured",s+=1;else if("scope"==r.name&&"all"==r.value.toLowerCase());else if(/^field/.test(r.name)){var a=r.name.match(/^field_(.+)/)[1];i["condition_"+s]=r.value+":"+a,s+=1}else n.push(r.value)}),i.filter_categories=n,i}},{key:"changeOrder",value:function(e){this.setState({order:e},this.getData)}},{key:"changePageNumber",value:function(e,t,i){if(console.log("faceted_search.changePageNumber page, maintain_scroll_position",e,i),e.toString()!=e)console.log("changePageNumber: page is NaN"),this.setState({page:e});else{var n=e-1;if(console.log("page",e,n),this.setState({page:n},function(){this.getData(t,!0)}),!i)if((document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)>$(".faceted_search").offset().top){var s=mb_utils.getIEVersion();s.major>0&&s.major<12?document.documentElement.scrollTop=$(".faceted_search").offset().top:window.scrollTo(0,$(".faceted_search").offset().top)}}}},{key:"changePerPage",value:function(e){this.setState({per_page:e},this.getData)}},{key:"activeFilters",value:function(){var e=this,t=[];return""!=this.state.active_search&&t.push({id:"search",text:"Searching: "+this.state.active_search}),$.each(this.state.filtering,function(i,n){var s=e.getFilterName(n.name,n.value);s&&t.push({id:"filter_"+n.name,text:s})}),$.each(this.state.active_facets,function(i,n){var s=e.getActiveFacetsArray(i,n);t=t.concat(s)}),$.each(this.state.active_datepickers,function(e,i){t.push({id:"datepicker_"+e,text:e+": "+i})}),t}},{key:"getFilterName",value:function(e,t){var i=this.filters.filter(function(t){return t[0]==e})[0];if(i)var n=i[1].filter(function(e){return e[1].toString()==t})[0];if(n){var s=e.replace("field_","").replace("_"," ");return titleize(singularize(s))+": "+n[0]}return""}},{key:"getActiveFacetsArray",value:function(e,t){var i=this.props.facet_sections.filter(function(t){return t.name==e})[0];if(i&&i.checkboxes)var n=i.checkboxes.filter(function(e){return t.indexOf(e.value)>-1}).map(function(t){return{id:"facet_"+i.name+"_"+t.value,text:titleize(e)+": "+t.label}});return n&&n.length>0?n:[]}},{key:"applyFilters",value:function(e){e.preventDefault(),e.stopPropagation();var t,i,n=this.state.filtering;$(e.currentTarget).is("a")?(t=$(e.currentTarget).data("for-select"),i=$(e.currentTarget).data("select-val")):(t=e.target.name,i=e.target.value);var s=n.findIndex(function(e){return e.name==t});-1==s?n.push({name:t,value:i}):n[s].value=i,console.log("FORM PARAMS: ",n),this.setState({filtering:n},function(){console.log("FILTERING: ",this.state.filtering),this.getData(!1)})}},{key:"removeFilter",value:function(e){var t=e.target.getAttribute("data-filter-id");if(t){var i=t.match(/^([^_]+)_/);switch(i?i[1]:t){case"search":this.setState({searching:""},this.getData);break;case"filter":for(var n=this.state.filtering.slice(),s=0;s<n.length;s++)if(n[s].name==t.match(/filter_(.+)$/)[1]){n.splice(s,1);break}this.setState({filtering:n},this.getData);break;case"facet":var r=$.extend(!0,{},this.state.active_facets),o=t.match(/facet_([^_]+)_.+$/)[1],a=r[o];for(s=0;s<a.length;s++)if(a[s].toString()==t.match(/facet_[^_]+_(.+)$/)[1]){a.splice(s,1);break}r[o]=a,this.setState({active_facets:r},this.getData);break;case"datepicker":var l=$.extend(!0,{},this.state.active_datepickers);delete l[t.match(/datepicker_([^_]+)$/)[1]],this.setState({active_datepickers:l,datepicker_values:l},this.getData)}}}},{key:"applySearch",value:function(e,t){this.setState({searching:e.target.value},function(){t&&t.call()})}},{key:"clearFilters",value:function(){this.setState({active_facets:$.extend(!0,{},this.facets),active_datepickers:$.extend(!0,{},this.datepickers),datepicker_values:{},filtering:[],searching:""},this.getData)}},{key:"clearSearch",value:function(){this.setState({searching:""},function(){this.getData(!1)})}},{key:"setSearch",value:function(){this.setState({},this.getData(!1))}},{key:"getFacets",value:function(){var e=this,t={},i=[],n=[],s={},r=[];return $.each(this.props.facet_sections,function(t,o){if(o.datepicker){var a=e.state.active_datepickers[o.name];a&&r.push({name:o.name,idx:50+t,field:o.datepicker.field,condition:o.datepicker.condition,value:a})}else!function(){var t=e.state.active_facets[o.name],r=[],a="";$.each(t,function(e,t){o.search_field?s[o.search_field]?s[o.search_field]+="|"+t:s[o.search_field]=t.toString():o.tags?a+=a.length>0?","+t:t:r.push(t)}),n.push(a),i.push(r)}()}),t.fs=s,t.fc=i,t.ft=n,t.datepickers=r,t}},{key:"getFacetCounts",value:function(){var e=this;if(!this.props.facet_sections)return[];var t,i,n=(t=e,i=e.props.facet_sections.slice(),$.each(i,function(e,i){!t.state.first_load&&i.show_count&&$.each(i.checkboxes,function(e,n){n.targetCount=t.getCountForFacetSection(i,n)})}),{v:i});return"object"==typeof n?n.v:void 0}},{key:"getCountForFacetSection",value:function(e,t){var i=this;if(!e.search_field)return null;var n,s,r=(n=i.state.items,s=new RegExp(t.value,"i"),{v:n.filter(function(t){return s.test(t[e.search_field])}).length});return"object"==typeof r?r.v:void 0}},{key:"formatNumber",value:function(e){if(e.toString()!=e)return"";for(var t=e.toString(),i="",n=0;n<t.length;n++)(t.length-n)%3==0&&n>0&&(i+=","),i+=t.charAt(n);return i}},{key:"clearItems",value:function(e){var t=$.extend(this.state.active_facets,{});t[e]=[],this.setState({active_facets:t},this.getData)}},{key:"onCheckBoxChange",value:function(e){var t=e.target,i=t.name.split("_")[0],n=/^\d+$/g.test(t.value)?parseInt(t.value):t.value;this.addRemoveCheckboxItemFromActiveFacets(i,n,t.checked)}},{key:"addRemoveCheckboxItemFromActiveFacets",value:function(e,t){var i=$.extend(this.state.active_facets,{}),n=i[e].indexOf(t);n>-1?i[e].splice(n,1):i[e].push(t),this.setState({active_facets:i},this.getData)}},{key:"updateActiveDatepickers",value:function(){this.setState({active_datepickers:this.state.datepicker_values},this.getData)}},{key:"clearDatepicker",value:function(e){console.log("clearDatepicker"),this.changeDatepickerValue(e,null,this.updateActiveDatepickers)}},{key:"changeDatepickerValue",value:function(e,t){var i=arguments.length<=2||arguments[2]===undefined?null:arguments[2];console.log("changeDatepickerValue");var n=$.extend(this.state.datepicker_values,{});t?n[e]=t:delete n[e],this.setState({datepicker_values:n},function(){"function"==typeof i&&i.call()})}},{key:"datePickerClose",value:function(e,t,i){if(""!=e){console.log(e,t,i);var n=$.extend(this.state.datepicker_values,{});n[t.input.context.name]=e,this.setState({datepicker_values:n},this.updateActiveDatepickers())}}},{key:"changeDatepickerOnEnter",value:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&(console.log("changeOnEnter: enter pressed in date field"),this.updateActiveDatepickers())}},{key:"openMobileFilters",value:function(){this.setState({filters_opened:!0}),this.setState({filters_hidden:!1})}},{key:"closeMobileFilters",value:function(){this.setState({filters_opened:!1}),this.setState({filters_hidden:!0})}},{key:"toggleSection",value:function(e){$(e.target).parents(".form_section").toggleClass("open")}},{key:"scrollToTop",value:function(){}},{key:"renderFilters",value:function(){var e=this,t=this.getOptions();return this.filters||this.props.search?React.createElement(FilterBar,{select_boxes:this.filters,search:this.props.search,placeholder:t.placeholder,changeFilters:function(t){e.applyFilters(t)},clearSearch:function(){e.clearSearch()},changeSearch:function(){e.setSearch()},filtering:this.state.filtering,searching:this.state.searching,searchFn:function(t,i){e.applySearch(t,i)}}):null}},{key:"renderHeader",value:function(){var e=this.getOptions();return React.createElement("header",{className:"gallery_header",id:"page_header"},React.createElement("h2",{className:"article_title"},this.props.title),this.renderFilters(),e.view_toggle?React.createElement(ViewToggle,null):"")}},{key:"renderFacetsColumn",value:function(){var t=this,i=this.props.facet_sections;return React.createElement("div",{id:"secondary_column",className:(this.state.filters_opened?"open":"")+" "+(this.state.has_contact_list?" has_contact_list":"")},React.createElement("aside",{className:"boxed facets_sidebar"},React.createElement("header",null,React.createElement("h2",null,"Filters"),React.createElement("div",{className:"mobile_filter_controls"},React.createElement("a",{className:"clear_filter",href:"javascript:void(0)","data-submit-form":"true",onClick:function(e){t.clearFilters(e)}},"Clear all"),React.createElement("a",{className:"button done",href:"javascript:void(0)",onClick:function(e){t.closeMobileFilters(e)}},"Done"))),i.map(function(i,n){if(i.datepicker){var s=i.datepicker.min_date?i.datepicker.min_date:null,r=i.datepicker.max_date?i.datepicker.max_date:null;if(s&&/datepicker/.test(s)){var o=s.match(/datepicker_(.+)/)[1];s=t.state.active_datepickers[o]}if(r&&/datepicker/.test(r)){var a=r.match(/datepicker_(.+)/)[1];r=t.state.active_datepickers[a]}return React.createElement("div",{className:"datepicker_section",key:n},React.createElement(DateFilter,{clear:function(){t.clearDatepicker(i.name)},min_date:s,max_date:r,closeDatePicker:function(){t.datePickerClose(e)},placeholder:i.placeholder?i.placeholder:"yyyy-mm-dd",preposition:i.name,preposition_small:i.name,datepicker_class:i.datepicker.datepicker_class?i.datepicker.datepicker_class:"fs_datepicker",input_name:i.name,date_value:t.state.datepicker_values[i.name]?t.state.datepicker_values[i.name]:"",changeValue:function(e){t.changeDatepickerValue(i.name,e.target.value)},onKeyPress:function(){t.changeDatepickerOnEnter(e)}}))}return React.createElement("div",{className:"form_section",id:i.id,key:n},React.createElement("hr",null),React.createElement("div",{className:"form_section_header",onClick:t.toggleSection},React.createElement("h4",null,i.name),React.createElement("div",{className:"expand_section"},React.createElement("div",{className:"arrow_down"}))),React.createElement(CheckboxList,{key:n,items:i.checkboxes,checked_items:t.state.active_facets[i.name]?t.state.active_facets[i.name]:[],when_clicked:function(e){t.onCheckBoxChange(e)},show_count:i.show_count,show_min:i.show_min,filterable:i.filterable,placeholder:i.placeholder,formatNumber:t.formatNumber,more_less:i.more_less,form_section:i.name,show_all:i.show_all,clear_items:function(e){t.clearItems(e)},text_format:"none",delimiter:"_"}))})),this.getAfterFilter())}},{key:"getAfterFilter",value:function(){return this.props.options&&this.props.options.after_filter?React.createElement("div",{className:"after_filter",dangerouslySetInnerHTML:{__html:unescape(unescape(this.props.options.after_filter))}}):null}},{key:"getNoItemsText",value:function(){return this.props.no_items_text?this.props.no_items_text:this.props.options.no_items_text?this.props.options.no_items_text:"There are no items matching these criteria."}},{key:"renderItemList",value:function(){var e=this.getNoItemsText(),t=this,i=window[t.props.list_item+"ListItem"];return this.state.items.length>0?React.createElement("ul",{className:"item_list"},t.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide"},React.createElement(i,{item:e,options:t.getOptions()}))})):this.state.first_load?"Loading...":React.createElement("div",{className:"no_items",dangerouslySetInnerHTML:{__html:e}})}},{key:"getSortOptions",value:function(){return this.getOptions().sort?this.getOptions().sort:[{label:"Date (newest)",value:"created_at desc"},{label:"Date (oldest)",value:"created_at asc"}]}},{key:"getOrder",value:function(e){var t=mb_utils.getParam("order");return t?t[0].replace("+"," "):this.getOptions().order?this.getOptions().order:e.length>0?e[0].value:""}},{key:"render",value:function(){var e=this,t=this,i=[];return i=this.getOptions().per_page_options?this.getOptions().per_page_options:[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50}],React.createElement("section",{className:"faceted_search grid_layout "+this.state.grid_list_view+" "+(this.state.filters_hidden?"faceted_search_hidden_filters":"")+" "+(this.props.page_class?this.props.page_class:"")+" "+(this.getOptions().klass?this.getOptions().klass:"")},React.createElement("article",null,this.renderHeader(),React.createElement("div",{id:"primary_column"},React.createElement(PaginationCount,{count:this.state.total,start_index:this.state.start_index,end_index:this.state.end_index,first_load:this.state.first_load,formatNumber:this.formatNumber}),React.createElement(PageSort,{per_page_options:i,initial_pp:this.state.per_page,sort_options:this.state.sort_options,initial_sort:this.state.order,page:this.state.page+1,count:this.state.total,changeSort:function(t){e.changeOrder(t)},changePage:function(t,i,n){e.changePageNumber(t,i,n)},changePerPage:function(t){e.changePerPage(t)},page_count:this.state.page_count,formatNumber:this.formatNumber}),React.createElement("div",{className:"mobile_filter_btn "+(this.state.total<=0?"no_results_filter":"")+" "},t.activeFilters().length>0?React.createElement("a",{className:"mobile_clear_filters",onClick:function(e){t.clearFilters(e)}},"Clear all filters"):null,React.createElement("a",{className:"button",onClick:function(t){e.openMobileFilters(t)}},"Filters")),t.activeFilters().length>0?React.createElement("div",{className:"filtering_results"},"Filtering:",React.createElement("span",{className:"applied_filters"},t.activeFilters().map(function(e){return React.createElement("div",{key:e.id,className:"applied_filter"},React.createElement("a",{className:"filter_remove",href:"javascript:void(0)","data-filter-id":e.id,onClick:function(e){t.removeFilter(e)}}),e.text)})),React.createElement("a",{className:"clear_filter",onClick:function(e){t.clearFilters(e)}},"Clear filters")):React.createElement("div",{className:"filtering_results"}),React.createElement("section",{className:"faceted_search_results grid_gallery"},this.renderItemList()),React.createElement("div",{className:"errors"}),React.createElement("footer",{className:"search_footer"},React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,{initial_pp:t.state.per_page,page:this.state.page+1,changePage:function(e){t.changePageNumber(e)},page_count:this.state.page_count,formatNumber:this.formatNumber}),React.createElement("span",{className:"scroll_to_top"},React.createElement("a",{href:"#page_header",onClick:function(){e.scrollToTop()}},"Back to top"))))),this.renderFacetsColumn()))}}]),i}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,
null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},FancyAudio=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={clip:null,playing:!1}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById(e.props.audio_div).querySelector("audio");this.processAudio(t),this.setState({clip:t},function(){e.processProgressBar(t),e.resetTextReadout(t)})}},{key:"resetTextReadout",value:function(e){var t=document.getElementById(this.props.audio_div).querySelector(".controls .duration_elapsed"),i=document.getElementById(this.props.audio_div).querySelector(".controls .duration_remaining");t.innerHTML=this.convertDecToTime(0),i.innerHTML=this.convertDecToTime(e.duration)}},{key:"updateTextReadout",value:function(e){var t=document.getElementById(this.props.audio_div).querySelector(".controls .duration_elapsed"),i=document.getElementById(this.props.audio_div).querySelector(".controls .duration_remaining");"undefined"!=typeof e.currentTime&&0!=e.currentTime||(i=e.duration,t=0),t.innerHTML=this.convertDecToTime(e.currentTime),i.innerHTML=this.convertDecToTime(e.duration)}},{key:"convertDecToTime",value:function(e){return isNaN(e)?"":String(parseFloat(e/60).toFixed(2)).replace(".",":")}},{key:"processAudio",value:function(e){var t,i=this,n=0;e.addEventListener("playing",function(t){var i=t.target.duration;s(i,e)}),e.addEventListener("pause",function(){clearTimeout(t)}),e.ontimeupdate=function(){this.id;var t=this.currentTime/this.duration*100,n=document.getElementById(i.props.audio_div).querySelector(".progress");(n.style.width=t+"%",this.currentTime==this.duration)&&(this.currentTime=0,n.style.width="0%",document.getElementById(i.props.audio_div).querySelector(".play_button").classList.remove("active"),i.resetTextReadout(e),i.setState({playing:!1}))};var s=function(t,s){var o=document.getElementById(i.props.audio_div).querySelector(".progress");i.updateTextReadout(e),increment=10/t,n=Math.min(increment*s.currentTime*10,100),o.style.width=n+"%",r(t,s)},r=function(e,i){n<100&&(t=setTimeout(function(){s(e,i)},100))}}},{key:"processProgressBar",value:function(e){function t(e,t){console.log(e,t);var n=i.state.clip;n.currentTime=n.duration*((e.clientX-t.rect.left)/(t.rect.right-t.rect.left)),i.updateTextReadout(n)}var i=this,n=document.getElementById(i.props.audio_div).querySelector(".controls .progress_bar");n.rect=n.getBoundingClientRect(),n.clip=e;var s=!1;n.onmousedown=function(e){s=!0,t(e,this)},n.onmousemove=function(e){s&&t(e,this)},n.onmouseup=function(e){s&&(s=!1,t(e,this))},n.ontouchstart=function(e){t(e,this)}}},{key:"togglePlay",value:function(e){var t=(e=e||window.event).target,i=document.getElementById(this.props.audio_div).querySelector("audio");i.paused?this.setState({playing:!0},function(){t.classList.add("active"),i.play()}):this.setState({playing:!1},function(){t.classList.remove("active"),i.pause()})}},{key:"getControls",value:function(){var e=this;return React.createElement("div",{className:"controls"},React.createElement("div",{className:"play_button",onClick:function(t){e.togglePlay(t)}},this.getCorrectButton()),React.createElement("div",{className:"duration_elapsed"}),React.createElement("div",{className:"progress_bar"},React.createElement("div",{className:"progress"})),React.createElement("div",{className:"duration_remaining"}))}},{key:"getButtons",value:function(e){var t=React.createElement("a",{className:"button download",href:this.props.file},"DOWNLOAD"),i=e.external_url.length>0?React.createElement("a",{className:"button link",href:e.external_url},e.link_text?e.link_text:"SUBSCRIBE"):null;return React.createElement("footer",{className:"fancy_audio_footer"},t,i)}},{key:"getHeader",value:function(e){return React.createElement("header",null,React.createElement("h3",{className:"category_title"},React.createElement("span",{className:"fancy_audio_subtitle"},e.subtitle)),React.createElement("h2",{className:"fancy_audio_title"},e.title))}},{key:"getDesc",value:function(e){return React.createElement("div",{className:"fancy_audio_short_description",dangerouslySetInnerHTML:{__html:e.short_description}})}},{key:"getCorrectButton",value:function(){return this.state.playing?React.createElement("svg",{className:"svg_icon_container",id:"pause_circle"},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M0 0h39v39H0z"}),React.createElement("circle",{cx:"19.5",cy:"19.5",r:"17.5",stroke:"var(--play-stroke)",strokeWidth:"2"}),React.createElement("path",{fill:"#b9d4f0",fillRule:"nonzero",d:"M2.487 0c.018.003.037 0 .056 0 .237 0 .43.177.43.394v10.168c0 .217-.193.394-.43.394H.43l-.086-.008C.148 10.91 0 10.752 0 10.562V.395L.01.315A.423.423 0 01.43 0zm5.88 0c.018.003.037 0 .056 0 .237 0 .43.177.43.394v10.168c0 .217-.193.394-.43.394H6.31l-.086-.008c-.196-.037-.344-.196-.344-.386V.395l.009-.08A.423.423 0 016.31 0z",transform:"translate(15 14)"}))):React.createElement("svg",{className:"svg_icon_container",id:"play_circle"},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M0 0h39v39H0z"}),React.createElement("circle",{cx:"19.5",cy:"19.5",r:"17.5",stroke:"var(--play-stroke)",strokeWidth:"2"}),React.createElement("path",{fill:"#b9d4f0",fillRule:"nonzero",d:"M25 19.5a.403.403 0 00-.195-.35l-8.217-5.078a.355.355 0 00-.214-.072c-.206 0-.374.18-.374.4 0 .016.003.03.004.046L16 24.645c.026.2.182.355.374.355.068 0 .132-.02.187-.055l.003.006 8.251-5.1-.003-.005A.404.404 0 0025 19.5z"})))}},{key:"render",value:function(){var e=this,t=(this.props.audio_div,this.props.klass),i=this.props.resource;return React.createElement("article",{className:"fancy_audio_container",style:{backgroundImage:"url("+i.detail_image+")"}},React.createElement("div",{className:"audio_text_area"},e.getHeader(i),e.getDesc(i),React.createElement("div",{id:this.props.audio_div,className:"audio_container "+t},e.getControls(i),React.createElement("audio",{controls:!1,preload:"true",muted:this.props.user_muted,loop:this.props.autoloop},React.createElement("source",{src:this.props.file}),"Your browser does not support the audio tag.")),e.getButtons(i)),React.createElement("div",{className:"gradient_container_left"}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},FilterBar=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={typing:!1,search_changed:!1,advanced_filters:this.props.filtering?this.props.filtering.slice():[]},this.live_search_fn=null}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){if(this.props.advanced){for(var e=this.props.advanced_rows?this.props.advanced_rows:5,t=this.state.advanced_filters.slice(),i=0;i<e;i++){var n=this.props.select_boxes[0][0]+i;-1==t.findIndex(function(e){return e.name==n})&&t.push({name:n,value:this.props.select_boxes[0][2][1]});var s="searchTerm"+i;-1==t.findIndex(function(e){return e.name==s})&&t.push({name:s,value:""});var r="joinTerm"+i;-1==t.findIndex(function(e){return e.name==r})&&t.push({name:r,value:""})}this.setState({advanced_filters:t})}}},{key:"submitOnEnter",value:function(e){"Enter"===e.key?(this.props.changeSearch(e),$(e.target).blur(),this.setState({search_changed:!1})):this.setState({search_changed:!0})}},{key:"liveSearch",value:function(e){var t=this;e.persist(),this.live_search_fn&&clearTimeout(t.live_search_fn),t.setState({typing:!0},function(){t.live_search_fn=setTimeout(function(){t.props.searchFn(e,function(){t.props.changeSearch(e)}),t.setState({typing:!1})},100)}),"Enter"===e.key&&$(e.target).blur()}},{key:"changeSearch",value:function(e){var t=this;e.persist(),this.setState({search_changed:!1},function(){t.props.changeSearch(e)})}},{key:"getFilterLinkHtml",value:function(e,t,i){var n=this,s=e[1],r="object"==typeof i?i.value:e[2][1],o=this;return React.createElement("div",{key:99,className:"filter_links"},React.createElement("a",{key:1e3+t,onClick:function(e){n.props.changeFilters(e)},"data-for-select":e[0],"data-select-val":e[2][1],className:e[2][1]==r?"current":""},e[2][0]),s.map(function(t,i){var n=Array.isArray(t)?t[1]:t;return Array.isArray(t)&&3==t.length?React.createElement("a",{key:2e3+i,href:t[1]},t[0]):React.createElement("a",{key:2e3+i,className:n==r?"current":"",onClick:function(e){o.props.changeFilters(e)},"data-for-select":e[0],"data-select-val":n},Array.isArray(t)?t[0]:t)}))}},{key:"getFirstOption",value:function(e){return e[2]?React.createElement("option",{value:e[2][1]},e[2][0]):null}},{key:"getSelectHtml",value:function(e,t,i){var n=this,s=arguments.length<=3||arguments[3]===undefined?null:arguments[3],r=e[1];return React.createElement("select",{key:t,id:e[0],name:e[0],value:"object"==typeof i?i.value:e[2][1],className:e[4]?e[4]:"filter",onChange:function(e){"function"==typeof s?s(e):n.props.changeFilters(e)}},this.getFirstOption(e),r.map(function(e,t){return React.createElement("option",{key:t,value:Array.isArray(e)?e[1]:e},Array.isArray(e)?e[0]:e)}))}},{key:"submitAdvanced",value:function(e){e.preventDefault(),this.props.advanced_submit(this.state.advanced_filters)}},{key:"setAdvancedFilters",value:function(e){var t=this.state.advanced_filters.slice(),i=t.findIndex(function(t){return t.name==e.target.name});-1==i?t.push({name:e.target.name,value:e.target.value}):t[i].value=e.target.value,this.setState({advanced_filters:t})}},{key:"renderAdvanced",value:function(){for(var e=arguments.length<=0||arguments[0]===undefined?5:arguments[0],t=[],i=this,n=i.state.advanced_filters?i.state.advanced_filters:[],s=this.props.select_boxes.filter(function(e){return e[4]}),r=0;r<e;r++)t.push(s[0].slice()),t[r][0]+=r,t[r][4]="filter1";return React.createElement("div",{className:"section_search"},t.map(function(e,s){var r=n.find(function(t){return t.name==e[0]}),o=n.find(function(e){return e.name=="searchTerm"+s}),a=n.find(function(e){return e.name=="joinItem"+s});return React.createElement("div",{className:"search_row",key:s},i.getSelectHtml(e,s,r,function(e){i.setAdvancedFilters(e,s)}),React.createElement("div",{className:"search_binder"},React.createElement("input",{className:"search_field",name:"searchTerm"+s,id:"searchTerm"+s,type:"text",value:o?o.value:"",onChange:function(e){i.setAdvancedFilters(e,s)}})),i.getSelectHtml(["joinItem"+s,[["or","or"]],["and","and"],!1,"conjunction"],s+t.length,a,function(e){i.setAdvancedFilters(e,s)}))}),React.createElement("footer",null,React.createElement("input",{className:"button",type:"submit",value:"Submit",onClick:this.submitAdvanced.bind(this)})))}},{key:"renderAdvancedToggle",value:function(){if(this.props.advanced)return React.createElement("a",{className:"gl_advanced_toggle",href:"#filter_bar",onClick:this.props.toggle_advanced},this.props.is_advanced?"\u203a Basic search":"\u203a Advanced search")}},{key:"render",value:function(){var e=this,t=e.props.filtering?e.props.filtering:[],i=undefined;if(e.props.search&&"live"==e.props.search){var n="live";i=function(t){e.liveSearch(t)}}else{n="normal";i=function(t){e.submitOnEnter(t)}}var s=null;if(e.props.select_boxes)s=e.props.select_boxes.filter(function(e){return e.length<5||!e[4]});return React.createElement("section",{className:"filter_bar"+(this.props.advanced?" advanced_search":""),name:"filter_bar"},this.props.advanced&&this.props.is_advanced?this.renderAdvanced(this.props.advanced_rows):React.createElement("div",{className:"section_search"},e.props.search&&("string"==typeof e.props.search&&e.props.search.match(/true|live/)||1==e.props.search)?React.createElement("div",{className:"search_binder"},React.createElement("input",{className:"search_field",name:"search",placeholder:this.props.placeholder?this.props.placeholder:"search",type:"text",value:e.props.searching,onChange:function(t){e.props.searchFn(t)},onKeyUp:i}),"normal"==n&&e.state.search_changed||""==e.props.searching?React.createElement("input",{className:"search_submit",type:"submit",value:"",onClick:function(t){e.changeSearch(t)}}):React.createElement("div",{className:"search_clear",onClick:function(t){e.props.clearSearch(t)}},React.createElement("div",{className:"search_clear_icon"}))):null,s?s.map(function(i,n){var s=t.find(function(e){return e.name==i[0]});return i[3]?e.getFilterLinkHtml(i,n,s):e.getSelectHtml(i,n,s)}):null),this.renderAdvancedToggle())}}]),t}(React.Component),FlickrGroupGallery=function(e){var t="https://api.flickr.com/services/rest/?method=flickr.groups.pools.getPhotos&api_key="+e.api_key+"&group_id="+e.group_id+"&per_page="+e.options.per_page+"&format=json&nojsoncallback=1";return React.createElement(PhotoGallery,{title:e.title,api_url:t,per_page:e.per_page})},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},GridListPage=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={grid_list_view:this.props.default_view}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;$("body").on("show_list_view",function(){e.setState({grid_list_view:"list_view"})}),$("body").on("show_grid_view",function(){e.setState({grid_list_view:"grid_view"})}),this.props.options&&"undefined"!=this.props.options.spa&&1==this.props.options.spa&&$("body").addClass("dynamic_grid_list")}},{key:"render",value:function(){var e=this,t=this.props.options&&1==this.props.options.spa?"grid_gallery module dynamic_grid content_page ":"grid_gallery module content_page ",i=this.props.options&&""!=this.props.options.subtitle?React.createElement("h3",{className:"grid_list_subtitle"},this.props.options.subtitle):"";return React.createElement("section",{className:t+e.state.grid_list_view},i,React.createElement(GridList,e.props))}}]),t}(React.Component),GridList=function(t){function i(e){_classCallCheck(this,i),_get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e),this.filters=null,this.state=this.getInitialState()}return _inherits(i,t),_createClass(i,[{key:"getInitialState",value:function(){var e=""!=this.props.title?this.props.title:document.title,t=this;if(this.props.filters){this.filters=JSON.parse(this.props.filters);var i=this.filters.filter(function(e){return!e[2]||""!=e[2][1]}).map(function(e){var t=e[2]?e[2][1]:e[1][0][1];return{name:e[0],value:t}})}else i=[];this.filters&&this.filters.map(function(e){console.log("checking param",e[0]);var n=null;if(t.getOptions().advanced&&1==e[4]){var s=t.getOptions().rows?t.getOptions().rows:5;i=[];for(var r=0;r<s;r++){var o=mb_utils.getParam(e[0]+r);o&&""!=o&&i.push({name:e[0]+r,value:Array.isArray(o)?o[0]:o});var a=mb_utils.getParam("searchTerm"+r);a&&""!=a&&i.push({name:"searchTerm"+r,value:Array.isArray(a)?a[0]:a});var l=mb_utils.getParam("joinItem"+r);l&&""!=l&&i.push({name:"joinItem"+r,value:Array.isArray(l)?l[0]:l})}}else if(e.length<5||!e[4]){var c=mb_utils.getParam(e[0]);if(c&&""!=c)n=c;else if(/^scope/.test(e[0])){t.getRegexParam(/^condition_\d+=1(%3A|:)featured/).length>0&&(n="featured")}else if(/^date/.test(e[0])){var u;if("publications"==t.props.model){if((u=t.getRegexParam(/^condition_\d+=\d+(%3A|:)publication_year/)).length>0){var h=u[0].match(/^condition_\d+=(\d+)(%3A|:)publication_year/);n=h?h[1]:null}}else if((u=mb_utils.getParam("year"))&&u.length>0){var d="events"==t.props.model?/^(\d+)(%3A|:)start_date/:/^(\d+)(%3A|:)publish_date/;h=Array.isArray(u)?u[0].match(d):u.match(d);n=h?h[1]:null}}else if(/^field/.test(e[0])){var p=e[0].match(/^field_(.+)/)[1],f=t.getRegexParam(p);if(f.length>0){h=f[0].match("condition_\\d+=(.+)(%3A|:)"+p);n=h?h[1]:null}}else if(/^tag/.test(e[0])){var m=mb_utils.getParam("tags");if(m&&m.length>0){var g=Array.isArray(m)?m[0].replace(/\+/g," ").split(":"):m.replace(/\+/g," ").split(":"),v=e[1].map(function(e){return e[1]}).filter(function(e){return-1!==g.indexOf(e)});v.length>0&&(n=v[0])}}else{var _=mb_utils.getParam("category");if(_&&_.length>0){var y=(_=Array.isArray(_)?_[0]:_).split(":"),b=e[1].map(function(e){return e[1].toString()}).filter(function(e){return-1!==y.indexOf(e)});b.length>1&&console.log("Multiple candidate categories found...setting to first option"),b.length>0&&(n=b[0])}}if(n&&""!=n){console.log("found param",n);var w=!1;i.map(function(t){t.name==e[0]&&(w=!0,t.value=Array.isArray(n)?n[0]:n)}),w||i.push({name:e[0],value:Array.isArray(n)?n[0]:n})}}});var n=document.location.href.toString(),s=parseInt(n.slice(n.indexOf("#")+1)),r=mb_utils.getParam("search");return{items:[],initial_items:[],page:0,per_page:this.props.per_page?this.props.per_page:40,total:0,order:this.props.order?this.props.order:"created_at desc",title:e,grid_list_url:location.pathname,grid_list_page_title:document.title,grid_list_social_image:$('meta[property="og:image"]').attr("content"),grid_list_social_description:$('meta[name="description"]').attr("content"),grid_list_page_updated_at:$('meta[property="og:updated_time"]').attr("content"),article:null,filtering:i,searching:r?r[0]:"",initial_id:s,first_load:!0,view_toggle:!!this.props.view_toggle&&this.props.view_toggle,loading:!1,history_state_loaded:!1,back_clicked:!1,current_request:null,is_advanced:!1}}},{key:"setHistoryStateLoaded",value:function(){this.setState({history_state_loaded:!0})}},{key:"componentWillMount",value:function(){this.getData(!1,main.initListeners)}},{key:"getRegexParam",value:function(e){return location.search.substr(1).split("&").filter(function(t){return new RegExp(e).test(t)})}},{key:"getData",value:function(e,t){this.state.loading&&this.state.current_request.abort();var i=this,n={page:e?this.state.page+1:0,per_page:this.state.per_page,order:this.state.order};this.getOptions().full_text_search?$.extend(n,{fts:this.state.searching}):$.extend(n,{search:this.state.searching}),$.extend(n,this.props.options),$.extend(n,this.getConditions()),$.extend(n,this.getFilters());var s="";s=this.props.options&&"undefined"!=typeof this.props.options.external_api_url?this.props.options.external_api_url:"/api/v1/"+i.props.model+"/";var r,o="";this.props.options&&"undefined"!=typeof this.props.options.external_asset_url&&(o=this.props.options.external_asset_url),this.getOptions().advanced?(r={},i.state.filtering.map(function(e){r[e.name]=e.value}),window.history.replaceState(n,null,"?"+$.param(n)+"&"+$.param(r))):window.history.replaceState(n,null,"?"+$.param(n)),this.setSessionStore(n);var a=$.ajax({url:s,data:n,method:"GET",dataType:"json",success:function(n){console.log("Got items successfully.... ");var s=i.state.initial_id,r=undefined;(n.first_load||this.state.first_load)&&(n.initial_items=n.items),void 0!==s&&(r=n.items.find(function(e){return e.id==s}))&&(n.article=r),!i.state.first_load&&i.state.initial_id&&i.setState({initial_id:null});var a=this.getOptions();a&&a.multi_item&&a.multi_item_match&&a.multi_item_sort&&(n.items=this.getMultiItem(n,a.multi_item_match,a.multi_item_sort)),e?i.setState({items:i.state.items.concat(n.items),title:i.state.title,total:n.total,per_page:n.per_page,page:n.page,asset_url:o,first_load:!1,loading:!1}):(n.first_load=!1,i.setState($.extend(n,{loading:!1}))),"function"==typeof t&&t.call()}.bind(this),error:function(e,t,n){"abort"==t?i.setState({loading:!1,current_request:null}):console.error(t,n.toString())}.bind(this)});this.setState({current_request:a,loading:!0})}},{key:"getMore",value:function(e){e.preventDefault(),this.getData(!0)}},{key:"getConditions",value:function(){var e=this.props.conditions,t={};return e&&void 0!==e&&$.each(e,function(e,i){t["condition_"+(e+1)]=i.value+":"+i.name}),t}},{key:"getOptions",value:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}}},{key:"getFilters",value:function(){var e=this,t=this.state.filtering,i={},n=e.props.categories?e.props.categories.slice():[],s=this.getTags(),r=e.props.conditions?e.props.conditions.length+1:1;return $.each(t,function(t,o){if(console.log("param "+o.name+": "+o.value),""!=o.value)if(e.getOptions().advanced&&e.state.is_advanced)i[o.name]=o.value;else if("date"==o.name)if("publications"==e.props.model)i["condition_"+r]=o.value+":publication_year",r+=1;else if("events"==e.props.model)if("upcoming"==o.value){var a=new Date;i["condition_"+r]=a.getFullYear().toString()+"-"+(a.getMonth()+1).toString()+"-"+a.getDate().toString()+":start_date:gte",r+=1}else if("past"==o.value){a=new Date;i["condition_"+r]=a.getFullYear().toString()+"-"+(a.getMonth()+1).toString()+"-"+a.getDate().toString()+":start_date:lte",r+=1}else i.year=o.value+":start_date";else"documents"==e.props.model?i.year=o.value+":date":i.year=o.value+":publish_date";else if("scope"==o.name&&"featured"==o.value.toLowerCase())i["condition_"+r]="1:featured",r+=1;else if("scope"==o.name&&"all"==o.value.toLowerCase());else if(/^field/.test(o.name)){var l=o.name.match(/^field_(.+)/)[1];i["condition_"+r]=o.value+":"+l,r+=1}else/^tag/.test(o.name)?(s.length>0&&(s+=":"),s+=o.value):n.push(o.value)}),n.length>0&&(i.category=n.join(":")),s.length>0&&(i.tags=s),i}},{key:"getTags",value:function(){var e=this.getOptions();return e&&e.tags?e.tags:""}},{key:"getBlankScope",value:function(){var e=this.getOptions();return e&&e.blank_scope?e.blank_scope:"All"}},{key:"getOptionName",value:function(e,t){var i=this.filters.find(function(t){return t[0]==e});if(void 0===i)return"";var n=i[1].slice();return n.unshift(i[2]),n.find(function(e){return 2==e.length?e[1].toString()==t:e[0].toString()==t})[0]}},{key:"getTitleFromParams",value:function(e){var t=this.props.title,i=this;if(this.filters){var n="",s=t,r="",o="",a="";$.each(e,function(e,t){""!=t.value&&("type"==t.name||"category"==t.name?s=i.getOptionName(t.name,t.value):"scope"==t.name?n=i.getOptionName(t.name,t.value):"topic"==t.name?o=i.getOptionName(t.name,t.value):"date"==t.name?"upcoming"!=t.value&&(r="in "+t.value):"search"==t.name&&(a="matching '"+t.value+"'"))}),this.state&&""!=this.state.searching&&(a="matching '"+this.state.searching+"'"),this.props.scope_in_title&&""==n&&""==o&&""==r&&""==a&&(n=this.getBlankScope()),t=[n,o,s,r,a].filter(function(e){return""!=e}).join(" ")}return t}},{key:"applySearch",value:function(e,t){this.setState({searching:e.target.value},function(){t&&t.call()})}},{key:"clearFiltersSearch",value:function(e){var t=this;this.setState({filters:null,searching:"",article:null},function(){t.getData(!1,e)})}},{key:"clearSearch",value:function(){this.setState({searching:""},function(){this.getData(!1)})}},{key:"setSearch",value:function(){this.setState({title:this.getTitleFromParams(this.state.filtering)},this.getData(!1))}},{key:"setSessionStore",value:function(e){"undefined"!=typeof Storage?sessionStorage[this.props.model]=JSON.stringify(e):console.error("No web storage.")}},{key:"applyFilters",value:function(e){e.preventDefault(),e.stopPropagation();var t,i,n=this.state.filtering;$(e.currentTarget).is("a")?(t=$(e.currentTarget).data("for-select"),i=$(e.currentTarget).data("select-val")):(t=e.target.name,i=e.target.value);var s=n.findIndex(function(e){return e.name==t});-1==s?n.push({name:t,value:i}):n[s].value=i,console.log("FORM PARAMS: ",n),this.setState({filtering:n,title:this.getTitleFromParams(n)},function(){console.log("FILTERING: ",this.state.filtering),this.getData(!1)})}},{key:"advancedSubmit",value:function(e){console.log("advancedSubmit"),this.setState({filtering:e},function(){this.getData(!1)})}},{key:"setListSort",value:function(e){this.setState({order:e.target.dataset.value},function(){this.getData(!1)})}},{key:"toggleListSort",value:function(e){this.state.order==e?this.setState({order:this.props.order},function(){this.getData(!1)}):this.setState({order:e},function(){this.getData(!1)})}},{key:"getCorrectTitle",value:function(e){return this.props.results_in_title?this.getTitle(e,this.state.title):this.getTitle(e,this.props.title)}},{key:"getTitle",value:function(e,t){return t?React.createElement("h2",{className:e},t):""}},{key:"getMultiItem",value:function(e,t,i){console.log("matching list items using:",t);for(var n=[],s=0;s<e.items.length;s++)n.push(e.items[s][t]);n=n.filter(function(e,t){return n.indexOf(e)===t});var r=[];for(s=0;s<n.length;s++){for(var o=[],a=0;a<e.items.length;a++)n[s]===e.items[a][t]&&o.push(e.items[a]);o.length>0&&r.push(o)}console.log("sorting list items using: ",i);var l=0;for(s=0;s<r.length;s++){var c=r[s],u=[];for(a=0;a<i.length;a++)for(var h=i[a],d=0;d<c.length;d++)c[d].category_titles[l]&&c[d].category_titles[l]===h&&u.push(c[d]);u.length>0&&(r[s]=u)}var p=[];for(s=0;s<r.length;s++){var f={id:s,items:r[s]};p.push(f)}return p}},{key:"toggleAdvanced",value:function(){this.setState({is_advanced:!this.state.is_advanced})}},{key:"renderHeader",value:function(){var e=undefined;undefined;return this.props.view_toggle&&(e=React.createElement(ViewToggle,null)),this.state.article?$("body").addClass("grid_list_detail"):$("body").removeClass("grid_list_detail"),this.props.title_below_filters?React.createElement("header",{className:"gallery_header left_align"},this.renderFilters(),this.getCorrectTitle(""),e):React.createElement("header",{className:"gallery_header"},this.getCorrectTitle("module_title"),this.renderFilters(),this.renderSortOptions(),e)}},{key:"renderFilters",value:function(){var e=this,t=this.getOptions();if(this.filters||this.props.search)return React.createElement(FilterBar,{advanced:t.advanced,advanced_rows:t.rows,advanced_submit:function(t){e.advancedSubmit(t)},is_advanced:this.state.is_advanced,toggle_advanced:function(){e.toggleAdvanced()},select_boxes:this.filters,search:this.props.search,placeholder:t.placeholder,changeFilters:function(t){e.applyFilters(t)},changeSearch:function(){e.setSearch()},clearSearch:function(){e.clearSearch()},filtering:this.state.filtering,searching:this.state.searching,searchFn:function(t,i){e.applySearch(t,i)}})}},{key:"renderSortOptions",value:function(){var t=this.getOptions(),i=this;if(t.sort_options)return React.createElement("div",{className:"sort_options"},t.sort_options.length>1?React.createElement("div",{className:"sort_select"},t.sort_options.map(function(t){var i=this;return React.createElement("div",{key:t.value,className:"sort_option",onClick:function(){i.setListSort(e)},"data-value":t.value},t.name)})):React.createElement("label",{className:"sort_toggle_label"},React.createElement("input",{type:"checkbox",name:"order",value:t.sort_options[0].value,onChange:function(){i.toggleListSort(t.sort_options[0].value)}}),React.createElement("span",{className:"sort_toggle"},t.sort_options[0].name)))}},{key:"renderTotal",value:function(){if(this.getOptions().show_total&&this.state.total>0)return React.createElement("div",{className:"gl_total"},this.state.total+" "+(1==this.state.total?"result":"results"))}},{key:"getNextItem",value:function(){if(!this.state.article)return null;for(var e=0;e<this.state.items.length;e++)if(e<this.state.items.length&&this.state.items[e].id===this.state.article.id&&e+1!=this.state.items.length)return this.state.items[e+1]}},{key:"getPreviousItem",value:function(){if(!this.state.article)return null;for(var e=0;e<this.state.items.length;e++)if(this.state.items[e].id===this.state.article.id&&e>0)return this.state.items[e-1]}},{key:"renderItemList",value:function(){var e,t=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.",i=this,n=window[i.props.list_item+"ListItem"],s=!1,r=[];return i.getOptions().list_columns&&(e=(100/(s=i.getOptions().list_columns).length).toString()+"%",r=s.map(function(t){return t.width?t.width:e})),this.state.items.length>0?React.createElement("ul",{className:"item_list "+i.props.class_name+(i.props.left_column?" "+i.props.default_view:"")},s?React.createElement("li",{className:"gridlist_table_header"},s.map(function(e,t){return React.createElement("div",{key:t,className:"list_column column_header",style:{width:r[t]}},e.text)})):null,i.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide"+(s?" gridlist_table_row":"")},React.createElement(n,{item:e,selected_item:function(e,t){i.selectedItem(e,t)},options:i.getOptions(),column_widths:r}))})):this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},t)}},{key:"selectedItem",value:function(e,t){console.log("GridList:: selectedItem",e),this.setState({article:e},function(){null==e&&this.setGridListMetas(),"function"==typeof t&&t.call()})}},{key:"setGridListMetas",value:function(){if(this.state.grid_list_page_title&&(document.title=this.state.grid_list_page_title),$('meta[property="og:title"]').attr("content",document.title),$('meta[name="twitter:title"]').attr("content",document.title),$('meta[property="og:url"]').attr("content",document.location.href),this.state.grid_list_social_image||this.props.site_share_image){var e=this.state.grid_list_social_image?this.state.grid_list_social_image:this.props.site_share_image;$('meta[property="og:image"]').attr("content",e),$('meta[name="twitter:image"]').attr("content",e),$('link[rel="image_src"]').attr("href",e)}if(this.state.grid_list_page_updated_at){this.props.page_updated_at?this.props.page_updated_at:this.state.grid_list_page_updated_at;$('meta[property="og:updated_time"]').attr("content",this.props.page_updated_at)}if(this.props.social_description||this.state.grid_list_social_description){var t=this.props.social_description?this.props.social_description:this.state.grid_list_social_description;$('meta[name="description"]').attr("content",t),$('meta[name="og:description"]').attr("content",t),$('meta[name="twitter:description"]').attr("content",t)}}},{key:"hideDetail",value:function(){this.selectedItem(null),this.renderHeader()}},{key:"getItemListOrArticle",value:function(){var e=this;if(this.state.article){var t=window[this.props.list_item+"Detail"];return React.createElement("div",null,React.createElement(t,_extends({item:this.state.detail,options:this.getOptions(),selected_item:function(t,i){e.selectedItem(t,i)},hide_detail:function(){e.hideDetail()},more_people:this.state.more_people},this.props)))}return this.renderItemList()}},{key:"renderMoreButton",value:function(){var e=this,t=this.getOptions();return(this.state.page+1)*this.state.per_page<this.state.total?React.createElement("footer",{className:"list_footer more_button"},React.createElement("div",{className:"loading"}),React.createElement("a",{className:t.button_class?t.button_class:"button",type:"button",href:"#",onClick:function(t){e.getMore(t)}},"More")):null}},{key:"renderSpaController",value:function(){var e=this;if(this.props.options&&1==this.props.options.spa&&this.state.items.length>0)return React.createElement("div",null,React.createElement(SpaController,_extends({next_item:this.getNextItem(),previous_item:this.getPreviousItem(),selected_item:function(t,i){e.selectedItem(t,i)},get_history_state_loaded:this.state.history_state_loaded,set_history_state_loaded:function(){e.setHistoryStateLoaded()},initial_id:this.state.initial_id,initial_items:this.state.initial_items,hide_detail:function(){e.hideDetail()},article:this.state.article},this.props)))}},{key:"render",value:function(){return React.createElement("div",{className:this.props.left_column?"":"grid_layout"},this.renderSpaController(),React.createElement("article",null,this.renderHeader(),this.renderTotal(),this.getItemListOrArticle(),this.renderMoreButton()))}}]),i
}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},HiPO=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.spinner_opts={lines:8,length:5,width:3,radius:6,color:"#FFF",speed:1,trail:100,shadow:!1,className:"spinner",top:"50%",left:"50%"},this.state={loaded:!1,loading:!1}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;$("body").on("feed_hipo",function(t,i){e.checkOverlay(t,i)})}},{key:"checkOverlay",value:function(e,t){var i=this;e.stopPropagation();t&&t.url?(console.log("load overlay"),this.setState({loading:!0,content:null},function(){i.loadOverlay(t.url)})):console.error("No overlay data to load.")}},{key:"loadOverlay",value:function(e){var t=this,i=e+"?layout=empty&override_preview=true";$("#dashboard_modal_content").load(i,function(i,n,s){"error"==n?(alert("Sorry but there was an error: "+s.status+" "+s.statusText),t.setState({loading:!1,loaded:!1})):t.setState({loading:!1,loaded:!0},function(){t.afterLoad(e)})})}},{key:"afterLoad",value:function(e){var t=this;$("body").addClass("explore_overlay_open"),$("#dashboard_modal a.close_button, .background_area").click(function(){t.closeOverlay()}),"undefined"!=typeof mb_parallax&&mb_parallax.init(!0),"undefined"!=typeof mb_utils&&mb_utils.initExpandableElement(),"object"==typeof ReactRailsUJS&&ReactRailsUJS.mountComponents();var i=$("#dashboard_modal_content title").text();"undefined"!=typeof _sendPageview&&_sendPageview(e,i)}},{key:"closeOverlay",value:function(){this.setState({loaded:!1},function(){$("#dashboard_modal_content").empty(),$("body").removeClass("explore_overlay_open")})}},{key:"render",value:function(){return React.createElement("div",{id:"dashboard_modal",className:this.state.loading||this.state.loaded?"visible":"",style:{height:"100%"}},React.createElement(Loader,{loaded:this.state.loaded||!this.state.loading,options:this.spinner_opts,className:"spinner"}),React.createElement("div",{id:"dashboard_modal_content",className:"content "+(this.state.loaded?"visible":"")}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},ImageCarousel=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={caption:"",link:"",link_text:""},this.slider=null}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;this.slider=new MasterSlider;var t=this.props.image_carousel?400:500,i=this.props.image_carousel?document.documentElement.clientWidth:600,n="true"===this.props.autoplay,s={width:i,height:t,layout:"autofill",space:this.props.image_carousel?5:0,fullwidth:!0,autoHeight:!1,autoplay:n,speed:this.props.image_carousel?20:30,center:!0,mouse:!1,centerControls:!0,fullscreenMargin:0,loop:!0,instantStartLayers:!0};this.props.items.length>1?(this.slider.control("bullets",{autohide:!this.props.image_carousel&&!this.props.controls_persistence}),this.slider.control("arrows",{autohide:!this.props.image_carousel&&!this.props.controls_persistence})):s.swipe=!1,this.props.image_carousel?this.slider.setup(this.props.ms_id+" .master-slider",s):this.slider.setup(this.props.ms_id,s),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,function(){var t=e.props.items[e.slider.api.index()];e.setState({title:t.title,caption:t.body,link:t.link,link_text:t.link_text,textbox_category_title:t.textbox_category_title})}),0==this.props.image_carousel&&this.slider.api.addEventListener(MSSliderEvent.RESIZE,function(){e.setBreakpointClasses(),e.resizeCarousel()}),this.props.autoplay&&($(".ms-bullet").click(function(){e.stopCarousel()}),$(".ms-nav-prev").click(function(){e.stopCarousel()}),$(".ms-nav-next").click(function(){e.stopCarousel()}),$(".ms-slide .floating_text_area").hover(e.onTextArea,e.offTextArea)),$(".ms-slide .floating_text_area").hover(this.onTextArea,this.offTextArea),0==this.props.image_carousel&&($(".floating_text_area").off().click(function(){$(e).closest(".carousel_module.small, .carousel_module.medium, .carousel_module.medium_mid").exists()&&($(e).toggleClass("open"),$(e).find(".description").slideToggle())}),$(".carousel_module .floating_text_area").css("position","absolute"),$(".carousel_module .floating_text_area").css("visibility","visible")),e.setState({title:e.props.title},function(){e.setBreakpointClasses()})}},{key:"onTextArea",value:function(){this.slider.api.pause()}},{key:"offTextArea",value:function(){this.slider.options.stopped||this.slider.api.resume()}},{key:"stopCarousel",value:function(){this.slider.options.stopped=!0,this.slider.api.pause()}},{key:"toggleTextBox",value:function(e){var t=$(e.target).parents(".floating_text_area");t.find(".description").length>0&&t.find(".description")[0].innerText.length>0&&(t.toggleClass("open"),t.find(".description").animate({height:"toggle"},400))}},{key:"resizeCarousel",value:function(){console.log("resizeCarousel");var e=$("#"+this.props.ms_id+" .ms-container").parent().width();$("#"+this.props.ms_id+" .ms-container").css("max-width",e),$("#"+this.props.ms_id+" .ms-view").css("left","0"),$("#"+this.props.ms_id+" .ms-slide-layers").css("max-width",e),$("#"+this.props.ms_id+" .ms-slide-layers").css("left","0")}},{key:"setBreakpointClasses",value:function(){console.log("setBreakpointClasses");var e,t=$("#"+this.props.ms_id).width();e=t<=480?"small":t<=600?"medium":t<=769?"medium_mid":t<=1024?"medium_large":t<=1200?"large":t<=1700?"xlarge":"xxlarge";var i=$("#"+this.props.ms_id).parents(".carousel_module");i.hasClass(e)||(i.removeClass("small medium medium_mid medium_large large xlarge xxlarge").addClass(e),window.setTimeout(function(){$(window).trigger("resize")},300))}},{key:"getMoreLink",value:function(e){return'\n\t\t\t<a class="more_link" href="'+e.more_link+'">\n\t\t\t\t<div class="more_link_text">'+e.more_link_text+"</div>\n\t\t\t</a>\n\t\t"}},{key:"getSlideLayers",value:function(e){var t=this,i=e.body;e.more_link_text&&e.more_link_text.length>0&&e.more_link&&e.more_link.length>0&&(i=e.body+t.getMoreLink(e));var n=i.length>0?"media_feature_title":"media_feature_title hide_expand_arrow";if(!this.props.image_carousel)return React.createElement("div",{className:"ms-slide-layers"},React.createElement("div",{className:"floating_text_area ms-layer "+e.category_names,onClick:t.toggleTextBox,"data-duration":"300","data-effect":"right(90)","data-ease":"easeOutQuart","data-type":"text","data-resize":"false"},React.createElement("header",null,React.createElement("h1",{className:n,dangerouslySetInnerHTML:{__html:e.title}}),React.createElement("h2",{className:"subtitle",dangerouslySetInnerHTML:{__html:e.textbox_category_title}})),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:i}})))}},{key:"getSources",value:function(e){var t=[];return e.webm_video_file_name&&t.push([e.webm_video_src,"video/webm"]),e.mp4_video_file_name&&t.push([e.mp4_video_src,"video/mp4"]),e.ogv_video_file_name&&t.push([e.ogv_video_src,"video/ogg"]),t}},{key:"checkAndCreateVideo",value:function(e){if(e.webm_video_file_name||e.mp4_video_file_name||e.ogv_video_file_name){var t=this.getSources(e);return React.createElement("video",{"data-autopause":"false","data-fill-mode":"fill","data-loop":"true","data-mute":"true"},t.map(function(e,t){return React.createElement("source",{key:t,src:e[0],type:e[1]})}))}return e.embed_video?React.createElement("a",{href:e.embed_video+"?hd=1&wmode=opaque&controls=1&showinfo=0","data-type":"video"},"play video"):null}},{key:"createSlide",value:function(e,t){var i=e.theme?e.theme:"dark_background";return React.createElement("article",{key:t,className:"ms-slide slide-"+(t+1)+" "+i,"data-delay":"8","data-fill-mode":"fill"},React.createElement("div",{className:"gradient_container_top"}),React.createElement("img",{alt:"slide "+(t+1)+" - "+(e.image_alt?e.image_alt:e.title),"data-src":e.image_src,src:e.image_src}),this.checkAndCreateVideo(e),this.getSlideLayers(e),React.createElement("div",{className:"gradient_container_bottom"}))}},{key:"createSlides",value:function(){var e=this;return React.createElement("div",{className:"master-slider ms-skin-default"},this.props.items.map(function(t,i){return e.createSlide(t,i)}))}},{key:"getCaption",value:function(){return this.state.caption?React.createElement("div",{className:"caption",dangerouslySetInnerHTML:{__html:this.state.caption}}):null}},{key:"getLink",value:function(){return this.state.link&&this.state.link_text?React.createElement("div",{className:"link_container"},React.createElement("a",{href:this.state.link},this.state.link_text)):null}},{key:"getDescription",value:function(){if(this.props.image_carousel)return React.createElement("div",{className:"slider_caption"},this.getCaption(),this.getLink())}},{key:"render",value:function(){var e="",t=this;return this.props.image_carousel?React.createElement("div",{id:this.props.ms_id,className:e},this.createSlides(),this.getDescription()):React.createElement("div",{id:this.props.ms_id,className:"master-slider ms-skin-default"},this.props.items.map(function(e,i){return t.createSlide(e,i)}),this.getDescription())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},TeaserGridItem=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={modal_open:!1,scroll_position_before_overlay:null}}return _inherits(t,e),_createClass(t,[{key:"closeModal",value:function(e){this.setState({modal_open:!1},function(){$("body").removeClass("explore_overlay_open"),"undefined"!=typeof _atw&&_atw.clb(),null!=window.__mb_shim_image_grid_teaser_scroll_position_before_overlay&&window.__mb_shim_image_grid_teaser_scroll_position_before_overlay>0&&window.scrollY<=0&&(window.scrollTo(0,window.__mb_shim_image_grid_teaser_scroll_position_before_overlay),window.__mb_shim_image_grid_teaser_scroll_position_before_overlay=null)}),e&&e.preventDefault()}},{key:"prevItem",value:function(e){console.log("prev"),this.setState({modal_open:!1},function(){this.props.prev(this.props.idx)}),e.preventDefault()}},{key:"nextItem",value:function(e){console.log("next"),this.setState({modal_open:!1},function(){this.props.next(this.props.idx)}),e.preventDefault()}},{key:"getFeatureHtml",value:function(e){return"video"==e?React.createElement("div",{className:"play"}):""}},{key:"activateFeature",value:function(){this.setState({modal_open:!0},this.loadAddThisListeners)}},{key:"clickedFeature",value:function(e){this.activateFeature(),e.preventDefault()}},{key:"loadAddThisListeners",value:function(){"undefined"!=typeof addthis&&addthis.toolbox($(".addthis_toolbox").get()),$(".addthis_button_compact img").on("mouseover",function(){return!1}),(null==window.__mb_shim_image_grid_teaser_scroll_position_before_overlay||window.__mb_shim_image_grid_teaser_scroll_position_before_overlay<=0)&&(window.__mb_shim_image_grid_teaser_scroll_position_before_overlay=window.scrollY),$("body").hasClass("explore_overlay_open")||$("body").addClass("explore_overlay_open")}},{key:"featureModalHtml",value:function(e){return e?"video"==e.feature_type?this.featureVideoHtml(e):"image"==e.feature_type||"news"==e.feature_type?this.imageHTML(e):void 0:""}},{key:"featureVideoHtml",value:function(e){if(e.embed_video)return React.createElement("div",{className:"embedded_video",dangerouslySetInnerHTML:{__html:e.embed_video}});var t=[];return e.webm_video_src&&t.push({file:e.webm_video_src}),e.mp4_video_src&&t.push({file:e.mp4_video_src}),e.ogv_video_src&&t.push({file:e.ogv_video_src}),React.createElement("div",null,React.createElement(Video,{files:t,caption:"",poster:e.image_src,video_div:"upload_video",layout:"full",autostart:"false",vrview:"false"}))}},{key:"getButtons",value:function(){return this.props.item.link&&""!=this.props.item.link?React.createElement("div",{className:"buttons"},React.createElement("a",{className:"button",href:window.location.origin+this.props.item.link},"MORE"),React.createElement("div",{className:"addthis_sharing_toolbox addthis_toolbox addthis_default_style","data-addthis-url":window.location.origin+this.props.item.link,"data-addthis-title":this.props.item.title,"data-addthis-description":this.props.item.body,"data-addthis-media":this.props.item.browse},React.createElement("a",{className:"addthis_button_compact"},React.createElement("img",{src:"/assets/share.png"})))):null}},{key:"imageHTML",value:function(e){return React.createElement("figure",{className:"main_image"},React.createElement("img",{src:e.image_src,alt:e.image_alt?e.image_alt:""}))}},{key:"render",value:function(){var e=this,t={position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.5)",top:"0",left:"0",transform:"none",height:"100vh",width:"100vw",overflow:"auto"},i={position:"fixed"},n={lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#FFF",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};return React.createElement("li",{key:this.props.item.id,className:"teaser_grid_item teaser_grid_item__"+this.props.item.feature_type+" item_"+this.props.idx+" "+this.props.klass,"data-id":this.props.item.id},React.createElement("a",{href:"",id:"teaser_grid_item_"+this.props.idx,className:"teaser_grid_link image_and_description_container",onClick:function(t){e.clickedFeature(t)}},React.createElement("div",{className:"grid_image"},this.getFeatureHtml(this.props.item.feature_type),React.createElement("img",{src:this.props.item.image_src})),React.createElement("div",{className:"grid_text"},React.createElement("div",{className:"caption"},React.createElement("div",{className:"grid_title"},this.props.item.title)))),React.createElement(Modal,{isOpen:this.state.modal_open,onClose:function(t){e.closeModal(t)},className:"modal",width:"100%",style:t,backdropStyle:i,containerClassName:"modal_container"},React.createElement("a",{href:"",className:"modal_close",onClick:function(t){e.closeModal(t)}},React.createElement("span",{className:"modal_close_icon"})),React.createElement("div",{className:"arrow_navigation"},React.createElement("a",{href:"",className:"prev_arrow",onClick:function(t){e.prevItem(t)}}),React.createElement("a",{href:"",className:"next_arrow",onClick:function(t){e.nextItem(t)}})),React.createElement(Loader,{loaded:!1,options:n,className:"spinner"}),React.createElement("div",{className:"modal_content"},this.featureModalHtml(this.props.item),React.createElement("div",{className:"caption"},React.createElement("div",{className:"grid_num"},this.props.idx+1),React.createElement("div",{className:"grid_title"},this.props.item.title)),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:this.props.item.body}}),this.getButtons(),React.createElement("a",{href:"",className:"close_button big_button",onClick:function(t){e.closeModal(t)}},"CLOSE"),React.createElement("div",{className:"after_big_button_shim"}))))}}]),t}(React.Component),ImageGridTeaser=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={show_more:!1},this.options={percentPosition:!0,itemSelector:".teaser_grid_item",layoutMode:"masonry",masonry:{gutter:".teaser_gutter_sizer",horizontalOrder:!0,fitWidth:!0}}}return _inherits(t,e),_createClass(t,[{key:"showMoreItems",value:function(){this.setState({show_more:!0})}},{key:"componentDidMount",value:function(){if(this.props.masonry)var e=$(".teaser_grid").imagesLoaded(function(){console.log("masonry teaser loaded"),e.isotope(this.options)})}},{key:"getMoreButton",value:function(){return this.props.more_link?React.createElement("a",{className:"big_button",href:this.props.more_link},"MORE"):""}},{key:"prev",value:function(e){console.log(e);var t=Math.max(e-1,0);this.clickItem(t)}},{key:"next",value:function(e){console.log(e);var t=Math.min(e+1,this.props.items.length-1);this.clickItem(t)}},{key:"clickItem",value:function(e){console.log("click teaser_grid_item_"+e),$("#teaser_grid_item_"+e).get(0).click()}},{key:"getTitle",value:function(){return this.props.title&&""!=this.props.title?React.createElement("div",{className:"module_title"},this.props.title):null}},{key:"getDescription",value:function(){return this.props.description&&""!=this.props.description?React.createElement("h3",{className:"module_subtitle"},this.props.description):null}},{key:"render",value:function(){var e=this,t=this,i="b";return this.props.layout&&this.props.layout.indexOf("a")>=0&&(i="a"),this.props.layout&&this.props.layout.indexOf("c")>=0&&(i="c"),React.createElement("div",{className:"teaser_grid_container"+(this.state.show_more?" open":"")},this.getTitle(),this.getDescription(),React.createElement("ol",{className:"teaser_grid layout_"+i},this.props.items.map(function(e,i){return React.createElement(TeaserGridItem,{key:e.id,item:e,idx:i,prev:function(e){t.prev(e)},next:function(e){t.next(e)}})})),React.createElement("div",{className:"show_more_button",onClick:function(t){e.showMoreItems(t)}},this.props.mobile_more_text),this.getMoreButton())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},InfoButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={info_panel_open:!1}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$(".page_cover").click(function(){this.hideInfoText()})}},{key:"showInfoText",value:function(){$(".page_cover").show(),this.setState({info_panel_open:!0})}},{key:"hideInfoText",value:function(){$(".page_cover").hide(),this.setState({info_panel_open:!1})}},{key:"toggleInfoText",value:function(){this.setState({info_panel_open:!this.state.info_panel_open})}},{key:"render",value:function(){var e=this;return React.createElement("span",{className:this.state.info_panel_open?"info_button open":"info_button",onMouseEnter:function(t){e.showInfoText(t)},onMouseLeave:function(t){e.hideInfoText(t)},onClick:function(t){e.toggleInfoText(t)}},React.createElement("div",{className:"info_icon"},React.createElement("svg",{height:"16",viewBox:"0 0 7 16",width:"7",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{transform:""},React.createElement("path",{d:"m3.697914 4c1.3027495 0 2.302086-1.07875496 2.302086-2.24691874 0-.93503238-.57471882-1.75308126-1.72576182-1.75308126-1.51626237 0-2.27318953 1.28431168-2.27318953 2.21934406-.03050184 1.10967203.60602334 1.78065594 1.69686535 1.78065594z"}),React.createElement("path",{d:"m6.5414814 12.9135625c-.06832231 0-.13208979.0143823-.19054332.0395513-.03795684.0237307-.07591368.0460233-.11387052.0690349 0 .0014382-.00075913.0014382-.00151827.0014382-.63160178.3804114-1.1918447.5645046-1.39301594.5645046-.20041211 0-.28619456-.2502517-.08578246-.9787143l1.13035463-4.1219617c.4296714-1.50726305.28619456-2.4874155-.57314825-2.4874155-.96562195 0-3.13827134.86653243-5.1287279 2.3594132-.0060731.00431469-.01214619.00862937-.01746015.01294406-.10248346.07910254-.16776922.19847547-.16776922.3329498 0 .24018409.20572606.435064.4585186.435064.05389871 0 .10703828-.01006759.15562303-.02660722.04023425-.0208543.07970936-.0409895.12070275-.06184381.61414163-.31209549 1.31482485-.56594275 1.51295955-.56594275.2004121 0 .17232404.25168991 0 .87947648l-.98763692 3.92132894c-.60199545 2.2105566.0288472 2.7132173.88894914 2.7132173.79785273 0 2.7678126-.6500791 4.67248671-2.3090752.01973756-.0179779.03947511-.0352366.05921267-.0517762.0743954-.0769452.11918447-.1797785.11918447-.2919603 0-.2401841-.20496692-.4336258-.4585186-.4336258z"})))),React.createElement("div",{className:"info_text"},React.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.info_text}}),React.createElement("a",{className:"info_link",href:this.props.info_link},this.props.info_link_text)))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},LazyArticleNav=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={prev_item:null,next_item:null,should_show:!0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=this.getSessionStore();$.ajax("/api/v1/"+this.props.model+"/"+this.props.id+"/prev_next",{dataType:"json",data:t,success:function(t){e.setState({prev_item:t.prev_item,next_item:t.next_item})}})}},{key:"getSessionStore",value:function(){return"undefined"!=typeof Storage?sessionStorage[this.props.model]?JSON.parse(sessionStorage[this.props.model]):(console.log("No stored params for this model"),{}):(console.error("No web storage."),{})}},{key:"getLinkWithSite",value:function(e){return this.props.subsite?e+"?site="+this.props.subsite:e}},{key:"getPrevious",value:function(){if(this.state.prev_item){var e=this.getUrl(this.state.prev_item),t=this.getThumb(this.state.prev_item);return React.createElement("a",{className:"article_nav_block prev",href:this.getLinkWithSite(e),target:"_self"},React.createElement("div",{className:"link_box"},React.createElement("img",{alt:"Previous Article",src:"/assets/arrow_left.jpg"})),React.createElement("div",{className:"article_details",id:"prev_details"},React.createElement("div",{className:"img"},React.createElement("img",{alt:"",src:t})),React.createElement("div",{className:"title"},this.state.prev_item.title)))}return null}},{key:"getNext",value:function(){if(this.state.next_item){var e=this.getUrl(this.state.next_item),t=this.getThumb(this.state.next_item);return React.createElement("a",{className:"article_nav_block next",href:this.getLinkWithSite(e),target:"_self"},React.createElement("div",{className:"link_box"},React.createElement("img",{alt:"Next Article",src:"/assets/arrow_right.jpg"})),React.createElement("div",{className:"article_details",id:"next_details"},React.createElement("div",{className:"img"},React.createElement("img",{alt:"",src:t})),React.createElement("div",{className:"title"},this.state.next_item.title)))}return null}},{key:"getUrl",value:function(e){return"resources"==this.props.model?e.link:e.url}},{key:"getThumb",value:function(e){return"resources"==this.props.model?e.list_image_src:e.thumb}},{key:"render",value:function(){return this.state.prev_item||this.state.next_item?React.createElement("div",{className:"article_nav"},this.getPrevious(),this.getNext()):null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},LilOverlay=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={open:!1}}return _inherits(t,e),_createClass(t,[{key:"getListItem",value:function(e,t,i){if(i){var n=window[i];return React.createElement("li",{className:"slide",key:"nli_"+e.id},React.createElement(n,{item:e}))}return null}},{key:"getOverlay",value:function(e){var t=this,i=this;return React.createElement("div",{className:"lil_overlay"},React.createElement("a",{className:"close_button",onClick:function(e){t.closeOverlay(e)},title:"close"},React.createElement("span",{className:"close_icon"})),e.sections.map(function(e){return React.createElement("div",{className:"overlay_section grid_view"},React.createElement("h2",null,e.title),React.createElement("ul",{className:"item_list"},e.items.map(function(t,n){return i.getListItem(t,n,e.list_item_component)})),e.buttons?e.buttons.map(function(e){return React.createElement("a",{className:"button",href:e.link,target:e.target},e.title)}):null)}),React.createElement("div",{className:"background_area",onClick:function(e){t.closeOverlay(e)}}))}},{key:"closeOverlay",value:function(e){e.stopPropagation(),this.setState({open:!1})}},{key:"toggleOverlay",value:function(e){e.preventDefault(),this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this,t=this.props.item;return React.createElement("li",{key:t.id,className:"nav_overlay "+(t.li_class?t.li_class:"")+" "+(this.state.open?"open":"")},React.createElement("div",{className:"nav_title",id:t.id,onClick:function(t){e.toggleOverlay(t)}},React.createElement("a",{className:"main_nav_item icon",href:t.link,title:t.name},React.createElement("span",null,t.name),React.createElement("span",{className:"indicator"}))),React.createElement("div",{className:"global_subnav_container"},this.getOverlay(t)),React.createElement("div",{className:"gradient_line"}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Loader=function(e){function t(e){_classCallCheck(this,t),t.defaultProps={component:"div",loadedClassName:"loadedContent",parentClassName:"loader"},_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,t.defaultProps),t.propTypes={className:PropTypes.string,color:PropTypes.string,component:PropTypes.any,corners:PropTypes.number,direction:PropTypes.oneOf([1,-1]),hwaccell:PropTypes.bool,left:PropTypes.string,length:PropTypes.number,lines:PropTypes.number,loaded:PropTypes.bool,loadedClassName:PropTypes.string,opacity:PropTypes.number,options:PropTypes.object,parentClassName:PropTypes.string,radius:PropTypes.number,rotate:PropTypes.number,scale:PropTypes.number,shadow:PropTypes.bool,speed:PropTypes.number,top:PropTypes.string,trail:PropTypes.number,width:PropTypes.number,zIndex:PropTypes.number},this.state={loaded:!1,options:{}}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.updateState(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.updateState(e)}},{key:"updateState",value:function(e){e||(e={});var t=this.state.loaded,i=this.state.options;"loaded"in e&&(t=!!e.loaded);var n=Object.keys(this.constructor.propTypes);n.splice(n.indexOf("loaded"),1),n.splice(n.indexOf("options"),1);var s="options"in e?e.options:e;n.forEach(function(e){e in s&&(i[e]=s[e])}),this.setState({loaded:t,options:i},this.spin)}},{key:"spin",value:function(){if(!("undefined"==typeof window||!window.document||!window.document.createElement)&&!this.state.loaded){var e=new Spinner(this.state.options),t=ReactDOM.findDOMNode(this.refs.loader);t.innerHTML="",e.spin(t)}}},{key:"render",value:function(){var e,t;return this.state.loaded?(e={key:"content",className:this.props.loadedClassName},t=this.props.children):e={key:"loader",ref:"loader",className:this.props.parentClassName},React.createElement("div",e,t)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Meganav=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state=this.getState(),this.openGallerySubnav=this.openGallerySubnav.bind(this),this.closeGallerySubnav=this.closeGallerySubnav.bind(this)}return _inherits(t,e),_createClass(t,[{key:"getState",value:function(){var e=this.props.nav_items?this.props.nav_items:[],t=window.getComputedStyle(document.documentElement).getPropertyValue("--breakpoint_for_desktop_nav").split("px")[0],i=this.isDesktop(),n="undefined"!=typeof this.props.highlight_current&&this.props.highlight_current.highlight,s=[],r=undefined;return n&&(s="undefined"!=typeof this.props.highlight_current.parent_ids?this.props.highlight_current.parent_ids:[],r="undefined"!=typeof this.props.highlight_current.current_id?this.props.highlight_current.current_id:undefined),{nav_items:e,search_open:!1,search:"",last_meganav_open:null,last_description_open:null,parent_ids:s,current_id:r,opened_subnavs:[],highlight_current:n,no_redirect:"undefined"!=typeof this.props.no_redirect&&this.props.no_redirect.name.toLowerCase(),is_desktop_nav:i,breakpoint_for_desktop_nav:t}}},{key:"componentWillMount",value:function(){null!==document.querySelector(".admin_only")&&this.setState({admin_content_page:!0})}},{key:"componentDidMount",value:function(){this.getData(),"undefined"!=typeof nav&&(nav.toggleSubnav=function(){}),"undefined"!=typeof magic_shell_nav&&(magic_shell_nav.toggleSubnav=function(){}),window.innerWidth<this.state.breakpoint_for_desktop_nav&&this.setState({is_desktop_nav:!1}),$(window).resize(this.resize.bind(this)),$(".site_nav ul.nav").hover(function(){$(".page_cover").fadeIn(100)},function(){$(".page_cover").stop().fadeOut()})}},{key:"resize",value:function(){var e=this.isDesktop();e!=this.state.is_desktop_nav&&this.closeOverlays(),this.setState({is_desktop_nav:e})}},{key:"getData",value:function(){var e=this;0==this.state.nav_items.length&&$.getJSON(this.props.nav_api_url,null,function(t){e.setState({nav_items:t.items})})}
},{key:"isDesktop",value:function(){var e=getComputedStyle(document.documentElement).getPropertyValue("--breakpoint_for_desktop_nav"),t=e.length>0?e.replace(/\D/g,""):1024;return window.innerWidth>=t}},{key:"closeOverlays",value:function(){this.closeGallerySubnav()}},{key:"isExternalLink",value:function(e){return!!/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(e)}},{key:"isCurrent",value:function(e){var t=this.state.parent_ids,i=this.state.current_id,n=!1;return void 0!==i&&i==e.id?n=!0:(t.length>0&&t.map(function(t){if(t==e.id)return n=!0}),n)}},{key:"getExpandableArrow",value:function(){return React.createElement("img",{className:"arrow_expand",src:"/assets/arrow_down.png",alt:"expand arrow",onClick:function(){}})}},{key:"getLinkTitleTarget",value:function(e,t,i){var n=this,s="undefined"!=typeof e.sections&&"undefined"!=typeof e.sections.items,r=void 0!==i&&(i&&s),o=this.state.no_redirect==e.name.toLowerCase();if("/#missions_gallery_subnav"==e.link){return React.createElement("a",{className:t?"main_nav_item":"",onClick:function(e){n.toggleGallerySubnav(e)}},e.name,this.getExpandableArrow(),r?this.getSubnavItems(e.sections,!1):"")}return"overlay"==e.target?React.createElement("a",{href:"javascript:void(0)",onClick:function(){explore_overlay.init(e.link)}},this.getLinkTitleText(e,t)):o?React.createElement("a",{className:t?"main_nav_item":"",target:e.target},this.getLinkTitleText(e,t),r?this.getSubnavItems(e.sections,!1):""):React.createElement("a",{className:t?"main_nav_item":"",href:e.link,target:e.target},this.getLinkTitleText(e,t),r?this.getSubnavItems(e.sections,!1):"")}},{key:"getLinkTitleText",value:function(e,t){var i="undefined"==typeof this.props.show_external_icon||this.props.show_external_icon,n=this.isExternalLink(e.link);return i&&n&&!t?React.createElement("span",null,React.createElement("span",null,e.name),React.createElement("span",{className:"no_wrap"},"\xa0",this.getExternalLinkIcon())):React.createElement("span",null,e.name)}},{key:"getExternalLinkIcon",value:function(){return React.createElement("span",{className:"external_link_icon"},React.createElement("svg",{display:"inline-block",height:"11",viewBox:"0 0 11 11",width:"11",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"m5.335 4.125 1.485 1.485 2.75-2.75 1.43 1.43v-4.29h-4.29l1.375 1.375zm5.61 1.87-1.045-1.045v4.95h-8.8v-8.8h4.95l-1.1-1.1h-3.85c-.605 0-1.1.495-1.1 1.1v8.8c0 .605.495 1.1 1.1 1.1h8.8c.605 0 1.1-.495 1.1-1.1z",fill:"#388fda",transform:""})))}},{key:"toggleGallerySubnav",value:function(){this.state.missions_gallery_subnav_open?this.closeGallerySubnav():this.openGallerySubnav()}},{key:"openGallerySubnav",value:function(){this.setState({missions_gallery_subnav_open:!0},function(){$(".missions_gallery_subnav").parents("li").addClass("open").find(".global_subnav_container .subnav").addClass("hide"),$(".missions_gallery_subnav_item .arrow_box").addClass("reverse"),$(".site_header_area").addClass("missions_gallery_subnav_open")})}},{key:"closeGallerySubnav",value:function(){this.setState({missions_gallery_subnav_open:!1}),$(".missions_gallery_subnav").parents("li").removeClass("open").find(".global_subnav_container .subnav").removeClass("hide"),$(".missions_gallery_subnav_item .arrow_box").removeClass("reverse"),$(".site_header_area").removeClass("missions_gallery_subnav_open")}},{key:"getGallerySubnav",value:function(e){return"/#missions_gallery_subnav"==e.link&&this.props.gallery_subnav_items?React.createElement(MissionsGallerySubnav,{item:e,gallery_subnav_items:this.props.gallery_subnav_items,open:this.state.missions_gallery_subnav_open,open_gallery_subnav:this.openGallerySubnav,close_gallery_subnav:this.closeGallerySubnav,get_external_link_icon:this.getExternalLinkIcon}):null}},{key:"getNavSection",value:function(e){var t=this,i=this,n=e.sections,s=!!n[0].columns&&n[0].columns,r="undefined"!=typeof e.expanded_meganav&&e.expanded_meganav;return React.createElement("div",{className:"meganav "+(r?"columnar":"")},n.map(function(e){return s&&s.length>0?React.createElement("div",{key:"sections_container_"+i.getRandomInt()},React.createElement("div",{className:"sections_container"},t.getSubnavItems(e)),t.getColumnarSection(s)):React.createElement("div",{key:"sections_container_"+i.getRandomInt(),className:"sections_container"},t.getSubnavItems(e,r))}),this.getFeaturesHtml(e))}},{key:"getColumnarSection",value:function(e){var t=this;return e.map(function(e,i){var n=t.sortSubItems(e.sub_items);return React.createElement("div",{className:"meganav_columnar_section",key:i},React.createElement("div",{className:"title"},e.title),t.getColumns(n))})}},{key:"getColumns",value:function(e){var t=this;return e.map(function(e,i){return React.createElement("div",{className:"col",key:i},t.getColumnarSubSection(e))})}},{key:"getColumnarSubSection",value:function(e){var t=this,i=this;return e.map(function(e,n){var s="undefined"==typeof t.props.show_external_icon||t.props.show_external_icon,r=t.isExternalLink(e.link);return React.createElement("span",{className:"nav_item",key:n},React.createElement("a",{href:e.url,onTouchEnd:i.openLinkWithoutHavingToDoubleTap},e.link_text,s&&r?i.getExternalLinkIcon(e.link,!0):""))})}},{key:"openLinkWithoutHavingToDoubleTap",value:function(e){var t=e||window.event,i=t.target||t.srcElement;if(i instanceof HTMLAnchorElement){var n=i.getAttribute("href");window.location=n}}},{key:"sortSubItems",value:function(e){var t=[],i=[],n=[];return void 0!==e&&e.map(function(t,s){s<Math.ceil(e.length/2)?i.push(t):n.push(t)}),t.push(i,n),t}},{key:"getFeaturesHtml",value:function(e){var t=this;if(e.features&&e.features.length>0){var i=e.features[0];return React.createElement("div",{className:"detail_container"},React.createElement("div",{className:"feature_info"},React.createElement("div",{className:"single_layout"},React.createElement("a",{className:"image_container",href:i.link,style:{backgroundImage:"url('"+i.image_src+"')"}},React.createElement("div",{id:e.id,className:"bottom_description "+(i.title.length>30?"tall_description":""),onClick:function(e){t.showOrGo(e)}},React.createElement("div",{className:"category_title"},i.categories),React.createElement("div",{className:"content_title"},i.title),React.createElement("div",{className:"description"},i.body))))))}return null}},{key:"getRandomInt",value:function(){return Math.floor(5e6*Math.random())}},{key:"getSubnavItems",value:function(e,t){var i=this;if("undefined"!=typeof e.items)return React.createElement("ul",null,e.items.map(function(e){return React.createElement("li",{key:e.id},i.getLinkTitleTarget(e,!1,void 0!==t&&t))}))}},{key:"getMobileSubnavItems",value:function(e){var t=this;return e.items.map(function(e){return React.createElement("li",{key:e.id},t.getLinkTitleTarget(e,!1))})}},{key:"getMobileSubnavColumns",value:function(e){return e.columns.map(function(e,t){return React.createElement("li",{key:t,className:"stellarnav_section"},React.createElement("div",{className:"stellarnav_title"},e.title),React.createElement("ul",{className:"top_nav_items"},e.sub_items.map(function(e,t){return React.createElement("li",{className:"nav_item",key:t},React.createElement("a",{href:e.url},e.link_text))})))})}},{key:"getMobileSubnav",value:function(e){var t=this;return e.length>0?React.createElement("ul",{className:"subnav"},e.map(function(e){return e.items&&e.columns?React.createElement("div",{key:"subnav_"+t.getRandomInt()},t.getMobileSubnavItems(e),t.getMobileSubnavColumns(e)):e.items?React.createElement("div",{key:"subnav_"+t.getRandomInt()},t.getMobileSubnavItems(e)):null})):null}},{key:"onClickArrow",value:function(e){var t=this.state;e.currentTarget.parentNode.querySelector(".global_subnav_container");console.log(e.currentTarget);var i=e.currentTarget.parentNode.querySelector(".nav_title").getAttribute("id");t.opened_subnavs.includes(i);e.currentTarget.parentNode.classList.length>0&&e.currentTarget.parentNode.classList[0].includes("missions_gallery_subnav_item")?this.toggleGallerySubnav():$(e.currentTarget).toggleClass("reverse").parent().find(".global_subnav_container").toggle()}},{key:"getSubnavHeight",value:function(e,t){var i,n=[];return(t=t||!1)?i=e.style.height:(n.visibility=e.style.visibility,n.display=e.style.display,e.style.visibility="hidden",e.style.display="block",i=e.scrollHeight,e.style.visibility=n.visibility,e.style.display=n.display),i}},{key:"getOpenAnimation",value:function(e){var t=this.getSubnavHeight(e,!1);requestAnimationFrame(function(){e.style.height="0px",e.style.transition="height .5s ease-out",requestAnimationFrame(function(){e.style.height=t+"px"})})}},{key:"getCloseAnimation",value:function(e){var t=this.getSubnavHeight(e,!0),i=e.style.transition;e.style.transition="",requestAnimationFrame(function(){e.style.height=t+"px",e.style.transition=i,requestAnimationFrame(function(){e.style.height="0px"})})}},{key:"openSubNavFor",value:function(e){var t=document.getElementById(e).parentNode.querySelector(".global_subnav_container");this.getOpenAnimation(t),t.classList.toggle("expanded")}},{key:"closeSubNavFor",value:function(e){var t=document.getElementById(e).parentNode.querySelector(".global_subnav_container");t.style.transition;this.getCloseAnimation(t),t.classList.toggle("expanded")}},{key:"getNavItemHTML",value:function(e,t){var i=this,n=this;if(e.style&&"icon"==e.style){if("orrery"==e.name){var s=this.getRandomInt();return React.createElement("li",{className:e.name,id:e.name,key:s},React.createElement("a",{href:"javascript:void(0)",onClick:function(e){i.getOrreryOverlay(e)}},React.createElement("span",{className:"orrery_label"},e.name)))}if(e.features&&e.features.length>0)return this.getIconWithFeatures(e);var r="li_"+e.id;return React.createElement("li",{className:e.li_class,key:r},React.createElement("div",{className:"nav_title"},React.createElement("a",{className:"main_nav_item icon",href:e.link,title:e.name},React.createElement("span",null,e.name))),React.createElement("div",{className:"gradient_line"}))}if(e.style&&"lil_overlay"==e.style)return React.createElement(LilOverlay,{item:e});if(!(e&&e.sections&&e.sections.length>0))return e.short_description&&""!=e.short_description?this.getGoDescription(e):React.createElement("li",{key:e.id,className:this.state.highlight_current&&this.isCurrent(e)?"current":""},React.createElement("div",{className:"nav_title"},this.getLinkTitleTarget(e,!0)),React.createElement("div",{className:"gradient_line"}));var o=function(){var s="li_"+e.id,r="/#missions_gallery_subnav"==e.link&&i.props.gallery_subnav_items,o=r?"missions_gallery_subnav_item":"",a=function(){r&&$(".no-touchevents").length&&n.toggleGallerySubnav()},l=null;return l=r?function(e){i.toggleGallerySubnav(e)}:function(e){i.openOrGo(e)},{v:React.createElement("li",{key:s,className:(e.style?e.style:"")+" "+o+" "+(i.state.highlight_current&&i.isCurrent(e)?"current":""),onMouseEnter:function(e){i.openMegaNav(e)},onMouseLeave:function(e){i.closeMegaNav(e)}},React.createElement("div",{className:"arrow_box",onClick:function(e){return i.onClickArrow(e)}},React.createElement("span",{className:"arrow_down"})),React.createElement("div",{className:"nav_title",id:s,onTouchEnd:l,onClick:a},i.getLinkTitleTarget(e,!0)),React.createElement("div",{className:"global_subnav_container"},i.getMegaNavForItem(e,t),i.getMobileSubnav(e.sections)),i.getGallerySubnav(e,t),React.createElement("div",{className:"gradient_line"}))}}();return"object"==typeof o?o.v:void 0}},{key:"getOrreryOverlay",value:function(e){e.preventDefault();var t="//eyes.nasa.gov/apps/orrery/#/home?close=true",i=$(window).height();explore_overlay.init(t,null,"orrery_iframe",function(){$("#explore_overlay .content iframe").css({"min-width":"100%","overscroll-behavior":"none",margin:0,position:"fixed",top:0,left:0,height:i,width:"100vw"}).attr("scrolling","no")}),window.addEventListener("message",function(e){"close_overlay"===e.data&&explore_overlay.closeModal()}),gas("send","event","orrery","launch")}},{key:"getMegaNavForItem",value:function(e,t){var i="undefined"!=typeof e.expanded_meganav&&e.expanded_meganav;return this.props.subnav_only?null:React.createElement("div",{key:t,className:"meganav_container "+(e.features&&e.features.length>0?"":"no_feature")+" "+(e.meganav_style?e.meganav_style:"")+" "+(i?"wide":"")},React.createElement("div",{className:"nav_item_indicator"}),this.getNavSection(e,t))}},{key:"getIconWithFeatures",value:function(e){var t=this,i="li_"+e.id;return React.createElement("li",{key:i,className:e.li_class,onMouseEnter:function(e){t.openMegaNav(e)},onMouseLeave:function(e){t.closeMegaNav(e)}},React.createElement("div",{className:"nav_title",id:i,onTouchEnd:function(e){t.openOrGo(e)}},React.createElement("a",{className:"main_nav_item icon",href:e.link,title:e.name},React.createElement("span",null,e.name))),React.createElement("div",{className:"global_subnav_container"},this.getMegaNavForIcon(e)),React.createElement("div",{className:"gradient_line"}))}},{key:"getMegaNavForIcon",value:function(e){var t=this;return this.props.subnav_only?null:React.createElement("div",{className:"meganav_container "+(e.features&&e.features.length>0?"":"no_feature")+" "+(e.meganav_style?e.meganav_style:""),onClick:function(e){t.clearLastDescriptionId(e)}},React.createElement("div",{className:"nav_item_indicator"}),React.createElement("div",{className:"meganav"},this.getSectionDescription(e),this.getFeaturesHtml(e)))}},{key:"getSectionDescription",value:function(e){return e.short_description?React.createElement("div",{className:"sections_container"},React.createElement("h2",{className:"section_title"},e.name),React.createElement("div",{className:"section_description"},e.short_description),React.createElement("a",{className:"button",href:e.link},"GO")):null}},{key:"getGoDescription",value:function(e){var t=this,i="li_"+e.id;return React.createElement("li",{key:i,className:""+(e.style?e.style:""),onMouseEnter:function(e){t.openMegaNav(e)},onMouseLeave:function(e){t.closeMegaNav(e)}},React.createElement("div",{className:"nav_title",id:i,onTouchEnd:function(e){t.openOrGo(e)}},this.getLinkTitleTarget(e,!0)),React.createElement("div",{className:"global_subnav_container"},React.createElement("div",{className:"meganav_container "+(e.features&&e.features.length>0?"":"no_feature")+" "+(e.meganav_style?e.meganav_style:""),onClick:function(e){t.clearLastDescriptionId(e)}},React.createElement("div",{className:"nav_item_indicator"}),React.createElement("div",{className:"meganav"},this.getSectionDescription(e)),this.getFeaturesHtml(e))),React.createElement("div",{className:"gradient_line"}))}},{key:"closeOpenDropdown",value:function(e,t){var i=this;if(null!==i.state.last_meganav_open&&i.state.last_meganav_open){var n=$(document.getElementById(i.state.last_meganav_open).parentNode);i.closeMegaNavFor(n)}this.openAndSetLastDropdown(e,t)}},{key:"openAndSetLastDropdown",value:function(e,t){var i=this;t&&!t.hasClass("expanded")&&(i.openMegaNavFor(t),this.setState({last_meganav_open:e}))}},{key:"openOrGo",value:function(e){var t=$(e.currentTarget.parentNode),i=/(More)/gi,n=null!==e.target.innerText.match(i);if(this.state.is_desktop_nav)if(this.state.last_meganav_open==e.currentTarget.id)n&&(e.preventDefault(),e.stopPropagation(),this.closeMegaNavFor(t));else{if(e.preventDefault(),e.stopPropagation(),null==this.state.last_meganav_open)$(".page_cover").fadeIn("fast"),document.getElementsByClassName("page_cover")[0].addEventListener("touchend",this.removePageCover);this.closeOpenDropdown(e.currentTarget.id,t)}else{if(!n)return!0;e.preventDefault(),e.stopPropagation()}}},{key:"removePageCover",value:function(){var e=document.getElementsByClassName("page_cover");$(".page_cover").fadeOut(),e.removeEventListener("touchend",this.removePageCover)}},{key:"getMeAnHref",value:function(e){var t;if($(e.target).attr("href"))t=$(e.target);else{var i=$(e.target).parents("a");i.length>0&&(t=i.eq(0))}return t}},{key:"openPageCover",value:function(){var e=this;$(".page_cover").on("click touchevent",function(){if(e.state.last_meganav_open){var t=$(document.getElementById(e.state.last_meganav_open).parentNode);e.closeMegaNavFor(t)}else $(".page_cover").fadeIn("fast")})}},{key:"openMegaNav",value:function(e){if(this.state.is_desktop_nav){var t=$(e.currentTarget);this.props.subnav_only?this.setSubnavPosition(t):this.openMegaNavFor(t)}}},{key:"openMegaNavFor",value:function(e){var t=e.find(".meganav_container"),i=e.find(".subnav");t.length>0?(e.addClass("expanded"),t.show(),this.openPageCover(),this.setArrowAndNavPosition(e)):i.length>0&&(this.openPageCover(),this.setSubnavPosition(e))}},{key:"closeMegaNav",value:function(e){if(this.state.is_desktop_nav){var t=$(e.currentTarget);this.closeMegaNavFor(t)}}},{key:"closeMegaNavFor",value:function(e){var t=e.find(".meganav_container");e.removeClass("expanded"),$(".page_cover").off("click touchevent",function(){$(".page_cover").fadeOut()}),t.hide(),this.setState({last_meganav_open:null})}},{key:"showOrGo",value:function(e){var t=e.currentTarget.id,i=this;if(console.log("showOrGo"),this.state.is_desktop_nav&&null!=document.querySelector(".touchevents")){if(this.state.last_description_open==t)return!0;e.preventDefault(),e.stopPropagation(),i.setState({last_description_open:t})}}},{key:"clearLastDescriptionId",value:function(){this.setState({last_description_open:null})}},{key:"setSubnavPosition",value:function(e){var t=e.offset().left,i=t+e.outerWidth()/2-16-$(".subnav").width()/2;$(window).width();if(t+e.find(".subnav").width()>$(window).width()){var n=[].concat(_toConsumableArray($(e).children())).find(function(e){return"global_subnav_container"==e.className});$(n).children().css({left:i+20})}}},{key:"setArrowAndNavPosition",value:function(e){var t=e.offset().left+e.outerWidth()/2-16,i=$(".meganav_container").width()/2,n=t-i,s=t-$(".meganav_container.no_feature").width()/2,r=t-$(".meganav_container.wide").width()/2;if($(".nav_item_indicator").show(),$(".meganav_container").css({left:n+16}),$(".meganav_container.no_feature").css({left:s+16}),$(".meganav_container.wide").css({left:r+16}),e.find(".meganav").hasClass("columnar")){var o=$(".meganav.columnar li:first-child").position().top;$(".meganav.columnar li").each(function(e,t){$(t).position().top==o&&$(t).addClass("top")})}var a=$(window).width(),l=e.find(".meganav_container").width(),c=parseInt($(".meganav_container").css("left")),u=a-(c+l);$(window).width();u<10?($(".meganav_container").css({left:"auto",right:"10px"}),$(".nav_item_indicator").css({left:i-5-u})):$(".nav_item_indicator").css({left:"calc(50% - 15px)"})}},{key:"openOrSubmit",value:function(e){""!=this.state.search?e.currentTarget.parentElement.submit():this.state.search_open?this.setState({search_open:!1}):this.setState({search_open:!0})}},{key:"changeSearch",value:function(e){var t=e.currentTarget.value;this.setState({search:t})}},{key:"getSearchHtml",value:function(){var e=this,t=this.props.search_placeholder;return this.props.search?React.createElement("form",{className:"meganav_overlay_search meganav_search",action:this.props.search_submit?this.props.search_submit:"/search.html"},React.createElement("input",{className:"search_field "+(this.state.search_open?"search_open":""),name:"q",type:"text",onChange:function(t){e.changeSearch(t)},value:this.state.search,placeholder:t?t.placeholder:"search"}),React.createElement("div",{className:"search_submit",onClick:function(t){e.openOrSubmit(t)}})):null}},{key:"render",value:function(){var e=this;return React.createElement("span",{style:{visibility:0==this.state.nav_items.length?"hidden":"visible"}},React.createElement("ul",{className:"nav"},this.state.nav_items.map(function(t,i){return e.getNavItemHTML(t,i)})),this.getSearchHtml())}}]),t}(React.Component),MissionListItem=function(e){var t=e.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:t.url,target:t.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},React.createElement("div",{className:"rollover_description_text"},t.description),React.createElement("div",{className:"link_text_rollover"},t.link_text)),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),e.item.thumb?React.createElement("div",{className:"list_image"},React.createElement("img",{className:"thumb",src:e.item.thumb,alt:e.item.title})):"",React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,t.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:t.url,target:t.target},t.title)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:t.description}}),React.createElement("div",{className:"link_text"},React.createElement("a",{href:t.url,target:t.target},t.link_text))))},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Modal=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this;if(!1===this.props.isOpen)return null;var t={position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%, -50%)",zIndex:"9999",background:"#fff"};if(this.props.width&&this.props.height&&(t.width=this.props.width+"px",t.height=this.props.height+"px",t.marginLeft="-"+this.props.width/2+"px",t.marginTop="-"+this.props.height/2+"px",t.transform=null),this.props.style)for(var i in this.props.style)t[i]=this.props.style[i];var n={position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"9998",background:"rgba(0, 0, 0, 0.8)"};if(this.props.backdropStyle)for(var i in this.props.backdropStyle)n[i]=this.props.backdropStyle[i];return React.createElement("div",{className:this.props.containerClassName},React.createElement("div",{className:this.props.className,style:t},this.props.children),!this.props.noBackdrop&&React.createElement("div",{className:this.props.backdropClassName,style:n,onClick:function(t){return e.close(t)}}))}},{key:"close",value:function(e){e.preventDefault(),this.props.onClose&&this.props.onClose()}}]),t}(React.Component),MultiObjectListItem=function(e){var t=e.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:t.link,target:t.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},t.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:t.image_src?t.image_src:"/assets/public/missing.png",alt:t.title})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,t.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},t.date),React.createElement("div",{className:"content_title"},React.createElement("a",{href:t.link,target:t.target},t.title)),React.createElement("div",{className:"moli_teaser_body"},t.description,t.item_type?React.createElement("p",null,"Item type: ",t.item_type):null)))},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},NewsListItem=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.props.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:e.url,target:e.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},e.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.thumb,alt:e.main_image_alt})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},e.date),React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url,target:e.target},e.title)),React.createElement("div",{className:"article_teaser_body"},e.description)))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PageDashboard=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={api:[],countdown:[]}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.props.single_slide||($("#page_dashboard").on("init",function(){$(".dashboard").css("visibility","visible")}),this.carousel=$("#page_dashboard").slick({dots:!1,infinite:!0,speed:300,slide:".dashboard .slide",slidesToShow:5,slidesToScroll:5,centerMode:!1,variableWidth:!1,arrows:!0,onInit:function(){$(".dashboard").css("visibility","visible")},responsive:[{breakpoint:1500,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"0px"}}]}),$("body").on("dashboard_resize",function(){$("#page_dashboard")[0].slick.refresh()}),window.addEventListener("orientationchange",function(){var e=undefined;e=setInterval(function(){$("#page_dashboard")[0].slick.refresh()},500),setTimeout(function(){clearInterval(e)},3e3)})),document.body.classList.add("has_dashboard")}},{key:"formatThousandsNoRounding",value:function(e,t){for(var i="",n=i+e,s=n.length,r=e<0?1:0,o=n.lastIndexOf("."),a=-1==o?s:o,l=i,c=n.substr(a+1,t);(a-=3)>r;)l=","+n.substr(a,3)+l;return n.substr(0,a+3)+l+(t?"."+c+(c.length<t?"00000".substr(0,t-c.length):i):i)}},{key:"convertOption",value:function(e,t,i){var n=arguments.length<=3||arguments[3]===undefined?null:arguments[3];return"api"==e.type?this.buildApiSlide(e,t,i):"calculation"==e.type?this.buildCalcSlide(e,t,i):"countdown"==e.type?this.buildCountdownSlide(e,t,n):"sols_on_mars"==e.type?this.buildMarsSolsSlide(e,t,i):"raw_images"==e.type?this.buildRawImagesSlide(e,t,i):"undefined"!=typeof e.values?this.buildMultipleValuesSlide(e,t):this.buildStaticSlide(e,i,{suffix:e.suffix})}},{key:"buildMarsSolsSlide",value:function(e,t,i){return i?React.createElement(SolsOnMars,{deg_east:e.deg_east,sol_0:e.sol_0}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(SolsOnMars,{deg_east:e.deg_east,sol_0:e.sol_0})))}},{key:"buildRawImagesSlide",value:function(e,t,i){return i?React.createElement(RawImagesDashboard,{mission:e.mission}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(RawImagesDashboard,{mission:e.mission})))}},{key:"buildCalcSlide",value:function(e,t,i){var n=e&&e.suffix?" "+e.suffix:"";return i?React.createElement("div",{className:"value"},this.calculateForSubtype(e),n):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement("div",{className:"value"},Math.round(this.calculateForSubtype(e)).toLocaleString(),n)))}},{key:"calculateForSubtype",value:function(e){switch(e.subtype){case"per-day-since":var t=new Date,i=new Date(e.since);return(t.getTime()-i.getTime())/864e5*parseFloat(e.value);default:return console.error("UNKNOWN Calculation for: ",e.subtype),""}}},{key:"buildApiSlide",value:function(e,t,i){return i?React.createElement(SpiceAPI,{base_url:"/spice_data",query:e}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(SpiceAPI,{base_url:"/spice_data",query:e})))}},{key:"buildCountdownSlide",value:function(e,t,i){var n=this.state.countdown[t];if("number"==typeof i&&Array.isArray(n)&&(n=n[i]),n&&!Array.isArray(n))return React.createElement("div",{className:"image_and_description_container"},React.createElement(Countdown,{count_up:e.count_up,date:n.date,title:n.title,sols:n.sols,sol_0:n.sol_0,deg_east:n.deg_east}));this.getCountdownData(e,t,i)}},{key:"buildMultipleValuesSlide",value:function(e,t){console.log(e);var i=this;return React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout multiple"},React.createElement("div",{className:"title"},e.title),e.values.map(function(n,s){return s+1==e.values.length?React.createElement("span",{className:"value_container last"},i.convertOption(n,t,!0,s)):React.createElement("span",{className:"value_container"},i.convertOption(n,t,!0,s))}))))}},{key:"getCountdownData",value:function(e,t,i){var n=this;$.getJSON("/api/v1/basic_html_elements/"+e.id+"}",function(e){if(e.publish_date){var s=n.state.countdown;"number"==typeof i?(Array.isArray(s[t])||(s[t]=[]),s[t][i]={date:e.publish_date,title:e.title}):s[t]={date:e.publish_date,title:e.title},n.setState({countdown:s})}})}},{key:"loadOverlay",value:function(e){$("body").trigger("feed_hipo",{url:e})}},{key:"loadMepOverlay",value:function(e,t){$("html,body").animate({scrollTop:0},280);var i=t+"?layout=empty&override_preview=true",n=$(e.currentTarget);n.hasClass("current")&&$("#vital_signs_modal").hasClass("visible")?(n.removeClass("current"),vital_signs.closeModal()):(console.log("open modal!"),$(".vital_signs_menu .slide.overlay").removeClass("current"),n.addClass("current"),$("#vital_signs_modal").hasClass("visible")?vital_signs.closeModal(function(){$("#vital_signs_modal .loading").show(),vital_signs.loadModal(i)}):($("#vital_signs_modal .loading").show(),vital_signs.loadModal(i)))}},{key:"buildStaticSlide",value:function(e,t,i){var n=i&&i.suffix?" "+i.suffix:"";return t?React.createElement("div",{className:"value"},e.value,n):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement("div",{className:"value"},e.value,n)))}},{key:"createSlide",value:function(e,t){var i=this;return e.link?React.createElement("li",{key:t,className:"slide link_to_page"},React.createElement("a",{href:e.link,target:e.target},this.convertOption(e,t),React.createElement("span",{className:"overlay_icon circle_arrow"
}))):e.overlay||e.mep_overlay?React.createElement("li",{key:t,className:"slide overlay",onClick:function(t){e.overlay?i.loadOverlay(e.overlay):i.loadMepOverlay(t,e.mep_overlay)}},this.convertOption(e,t),React.createElement("span",{className:"overlay_icon circle_plus"})):React.createElement("li",{key:t,className:"slide"},this.convertOption(e,t))}},{key:"render",value:function(){var e=this;return this.props.single_value?React.createElement("span",null,this.convertOption(this.props.options[0],0,!0)):this.props.single_slide?"api"==this.props.options.type?React.createElement("div",{className:"readout"},this.convertOption(this.props.options,0,!1)):React.createElement("div",{className:"readout"},this.convertOption(this.props.options[0],0,!1)):React.createElement("section",{className:"dashboard"},React.createElement("div",{className:"slide_container",id:"page_dashboard"},e.props.options.map(function(t,i){return e.createSlide(t,i)})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PageSort=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"getSortBy",value:function(){var e=this;return this.props.sort_options.length>0?React.createElement("div",{className:"page_option_wrapper sort_by"},React.createElement("label",{htmlFor:"order"},"Sort by"),React.createElement("select",{className:"options_field",id:"order",name:"order",defaultValue:this.props.initial_sort,onChange:function(t){e.props.changeSort(t.target.value)}},this.props.sort_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))):null}},{key:"render",value:function(){var e=this;return this.props.page_count>0?React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,this.props),React.createElement("div",{className:"options"},this.getSortBy(),React.createElement("div",{className:"page_option_wrapper per_page"},React.createElement("label",{htmlFor:"per_page"},"Per page"),React.createElement("select",{className:"options_field",id:"per_page",name:"per_page",defaultValue:this.props.initial_pp,onChange:function(t){e.props.changePerPage(t.target.value)}},this.props.per_page_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))))):null}}]),t}(React.Component),PageSortPagination=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={page_input_val:this.props.page}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$(".page_selector input").val("")}},{key:"prevPage",value:function(){if(this.props.page>1){var e=this.props.page-1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked previous page button",e)}}},{key:"nextPage",value:function(){if(this.props.page<this.props.page_count){var e=this.props.page+1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked next page button",e)}}},{key:"onPageInput",value:function(e){var t=parseInt(e.target.value);t<1?t=1:t>this.props.page_count&&(t=this.props.page_count),this.setState({page_input_val:t},this.props.changePage(t))}},{key:"blurOnEnter",value:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())}},{key:"render",value:function(){var e=this,t=this.props.page<=1,i=this.props.page>=this.props.page_count;return this.props.page_count>0?React.createElement("div",null,React.createElement("div",{className:"pagination_nav"},React.createElement("nav",{className:"pagination"},React.createElement("span",{className:"prev"+(t?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"prev",onClick:function(t){e.prevPage(t)}})),React.createElement("div",{className:"page_selector"},React.createElement("input",{className:"page_num",placeholder:this.props.formatNumber?this.props.formatNumber(this.props.page):this.props.page,value:this.props.page,size:"4",type:"number",onChange:function(t){e.onPageInput(t)},min:"1",max:this.props.page_count,onKeyUp:function(t){e.blurOnEnter(t)}})," of",React.createElement("span",{className:"total_pages"}," ",this.props.formatNumber?this.props.formatNumber(this.props.page_count):this.props.page_count)),React.createElement("span",{className:"next"+(i?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"next",onClick:function(t){e.nextPage(t)}}))))):null}}]),t}(React.Component),PaginationCount=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.props.first_load?React.createElement("div",{className:"pagination_status"},React.createElement("span",null,"Loading...")):0==this.props.count?React.createElement("div",{className:"pagination_status no_results_text"},React.createElement("span",null,"No results found.")):React.createElement("div",{className:"pagination_status"},React.createElement("span",{className:"nonessential"},"Showing"),React.createElement("b",null,React.createElement("span",{className:"start_index"}," ",this.props.formatNumber?this.props.formatNumber(this.props.start_index+1):this.props.start_index+1),"-",React.createElement("span",{className:"end_index"},this.props.formatNumber?this.props.formatNumber(this.props.end_index):this.props.end_index," ")),"of",React.createElement("b",null,React.createElement("span",{className:"total_results"}," ",this.props.formatNumber?this.props.formatNumber(this.props.count):this.props.count," ")),React.createElement("span",{className:"nonessential"},this.props.item_type))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PersonDetail=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.changeTitle(),this.setSocialTitle(),this.setSocialUrl(),this.setSocialImage(),this.setSocialDescription(),this.setPageUpdatedAt()}},{key:"componentDidUpdate",value:function(e){e&&this.props.item&&e.item&&this.props.item.id!=e.item.id&&(this.loadImages(),this.changeTitle(),this.setSocialTitle(),this.setSocialUrl(),this.setSocialImage(),this.setSocialDescription(),this.setPageUpdatedAt())}},{key:"setSocialTitle",value:function(){$('meta[property="og:title"]').attr("content",document.title),$('meta[name="twitter:title"]').attr("content",document.title)}},{key:"setSocialDescription",value:function(){if(this.props.item&&this.props.item.meta_social_description){var e=this.props.item.meta_social_description;$('meta[name="description"]').attr("content",e),$('meta[name="og:description"]').attr("content",e),$('meta[name="twitter:description"]').attr("content",e)}}},{key:"setSocialUrl",value:function(){$('meta[property="og:url"]').attr("content",document.location.href)}},{key:"setSocialImage",value:function(){if(this.props.item){var e=this.props.item,t=e.list_image?e.list_image:this.props.site_share_image;$('meta[property="og:image"]').attr("content",t),$('meta[name="twitter:image"]').attr("content",t),$('link[rel="image_src"]').attr("href",t)}}},{key:"setPageUpdatedAt",value:function(){if(this.props.item&&this.props.item.page_updated_at){var e=this.props.item.updated_at;$('meta[property="og:updated_time"]').attr("content",e)}}},{key:"loadImages",value:function(){$(".person_detail").css("visibility","hidden")}},{key:"imagesLoaded",value:function(){$(".person_detail").css("visibility","visible"),this.props.images_loaded()}},{key:"changeTitle",value:function(){var e=this.getTitleSpaDetail();this.props.change_title&&this.props.change_title(e)}},{key:"getTitleSpaDetail",value:function(){var e=this.props.item,t=this.props.site_title;return void 0!==e&&"undefined"!=typeof e.job_title&&"undefined"!=typeof e.name&&(t=e.name+" | "+e.job_title+" - "+this.props.site_title),t}},{key:"getMainImage",value:function(){var e=this,t=this.props.item,i="";return"undefined"!=typeof this.props.options&&this.props.options.external_asset_url&&(i=this.props.options.external_asset_url),t.list_image_src&&t.caption?React.createElement("figure",{className:"main_image"},React.createElement("img",{id:"main_image",src:i+t.detail_image_src,onLoad:function(){e.imagesLoaded()},onError:function(){e.imagesLoaded()}}),React.createElement("figcaption",{className:"main_image_caption"},t.caption)):t.list_image_src?React.createElement("figure",{className:"main_image"},React.createElement("img",{id:"main_image",src:i+t.detail_image_src,onLoad:function(){e.imagesLoaded()},onError:function(){e.imagesLoaded()}})):void this.imagesLoaded()}},{key:"render",value:function(){var e=this.props.item;return this.props.item?React.createElement("div",{className:"person_detail"},React.createElement("header",{className:"dynamic_grid_header"},React.createElement("h2",{className:"category_title"},React.createElement("a",{href:"#",onClick:this.props.hide_detail},"PEOPLE")),React.createElement("h1",{className:"article_title"},e.name),React.createElement("h2",{className:"sub_title"},e.job_title)),React.createElement("div",{className:"clearfix",id:"primary_column"},this.getMainImage(),React.createElement("div",{className:"wysiwyg_content",dangerouslySetInnerHTML:{__html:e.body}}))):React.createElement("div",null)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PersonListItem=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),"undefined"!=typeof this.props.options?this.options=this.props.options:this.options=null}return _inherits(t,e),_createClass(t,[{key:"showDetail",value:function(){"undefined"!=typeof this.props.item.has_detail&&1!=this.props.item.has_detail||(this.options&&this.options.spa?this.props.selected_item(this.props.item,this.scrollToTop):window.location.href=this.props.item.link)}},{key:"scrollToTop",value:function(){window.scroll(0,0)}},{key:"render",value:function(){var e=this,t=this.props.item,i="";this.options&&this.options.external_asset_url&&(i=this.options.external_asset_url);var n="undefined"==typeof this.options.hover||"true"==this.options.hover||this.options.hover,s="undefined"==typeof this.props.item.has_detail||1==this.props.item.has_detail;return React.createElement("div",{className:"image_and_description_container person_container"},React.createElement("div",{onClick:function(){e.showDetail()},target:t.target},n?React.createElement("div",{className:"rollover_description",style:s?null:{cursor:"default"}},React.createElement("div",{className:"rollover_description_inner",dangerouslySetInnerHTML:{__html:t.short_description}}),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))):null,React.createElement("div",{className:"list_image"},React.createElement("img",{src:i+t.list_image_src})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",{className:"person_name"},t.name),React.createElement("h4",{className:"person_title"},t.job_title),this.options.show_institution?React.createElement("h4",{className:"person_institution"},t.institution):null,this.options.show_email?React.createElement("h4",{className:"person_email"},React.createElement("a",{href:"mailto:"+t.email},"Email")):null))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},t.date),React.createElement("div",{className:"content_title"},React.createElement("a",{onClick:function(){return e.showDetail()},target:t.target},t.name)),React.createElement("h4",{className:"person_title"},t.job_title),this.options.show_institution?React.createElement("h4",{className:"person_institution"},t.institution):null,this.options.show_email?React.createElement("h4",{className:"person_email"},React.createElement("a",{href:"mailto:"+t.email},"Email")):null,React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:t.short_description}})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PersonSidebar=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={loaded:!1,items:null}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){console.log("PersonSidebar:: componentDidMount"),this.props.initial_items&&this.props.initial_items.length>0?this.setState({loaded:!0,items:this.props.initial_items}):this.getPeople()}},{key:"componentDidUpdate",value:function(e){e&&this.props.item&&e.item&&this.props.item.id!=e.item.id&&console.log("PersonSidebar:: componentDidUpdate")}},{key:"selectedItem",value:function(e){if(this.props.initial_items&&this.props.initial_items.length>0){e.preventDefault(),console.log("PersonSidebar:: selectedItem");var t=parseInt($(e.currentTarget).data("idx"));console.log("PersonSidebar:: selectedItem",t);for(var i=0;i<this.state.items.length;i++)parseInt(this.state.items[i].id)==t&&(console.log("PersonSidebar:: selectedItem",this.state.items[i],t),this.props.selected_item(this.state.items[i]),window.scroll(0,0))}}},{key:"hideDetail",value:function(e){this.props.initial_items&&this.props.initial_items.length>0&&(e.preventDefault(),this.props.hide_detail(e))}},{key:"getPeople",value:function(){console.log("getPeople");var e=this;$.ajax({url:this.props.options.external_api_url,method:"GET",dataType:"json",success:function(t){console.log("Got items successfully.... ",t),e.setState({loaded:!0,items:t.items})},error:function(e,t,i){console.error(t,i.toString())}})}},{key:"getMorePeople",value:function(e){var t=[],i=undefined;items=this.state.items,item=this.props.article,e>items.length&&(e=items.length);for(var n=0;t.length<e;n++)if(i=items[Math.floor(Math.random()*items.length)],null==item&&t.indexOf(i)<0)console.log("adding item "+i.id+" to list"),t.push(i);else if(item&&item.id&&i.id!=item.id&&t.indexOf(i)<0)console.log("adding item "+i.id+" to list"),t.push(i);else{if(n>items.length)return t;console.log("Item dupe")}return t}},{key:"renderMoreSidebar",value:function(){var e,t,i,n,s=this,r=this;if(this.state.loaded){var o=(e=s.getMorePeople(3),t="",i="",n=s.props.initial_items&&s.props.initial_items.length>0?"#":s.props.people_path,i=s.props.options&&s.props.options.more_sidebar_title?s.props.options.more_sidebar_title:s.props.short_title?"More "+s.props.short_title+" People":"More People","undefined"!=typeof s.props.options&&s.props.options.external_asset_url&&(t=s.props.options.external_asset_url),{v:React.createElement("span",null,React.createElement("header",null,React.createElement("h2",{className:"sidebar_title"},i)),React.createElement("ul",null,e.map(function(e){var i=r.props.initial_items&&r.props.initial_items.length>0?"#":r.props.people_path+"#"+e.id;return React.createElement("li",{key:e.id,onLoad:r.loadLoad},React.createElement("div",{className:"list_content"},React.createElement("div",{className:"list_image"},React.createElement("a",{href:i,onClick:function(e){r.selectedItem(e)},"data-idx":e.id,target:e.target},React.createElement("img",{src:t+e.list_image_src,alt:e.name}))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_title"},React.createElement("a",{href:i,onClick:function(e){r.selectedItem(e)},"data-idx":e.id,target:e.target},e.name))),React.createElement("div",{className:"list_text"},e.job_title)))})),React.createElement("a",{className:"more_sidebar",href:n,onClick:function(e){r.hideDetail(e)}},"view all people \u203a"))});if("object"==typeof o)return o.v}}},{key:"render",value:function(){var e=this.props["class"]?this.props["class"]:"";return this.props.initial_items?React.createElement("div",{className:e+" clearfix",id:"secondary_column"},React.createElement("aside",{className:"list_view_module boxed people_sidebar_module"},this.renderMoreSidebar())):React.createElement("div",null,this.renderMoreSidebar())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PhotoGallery=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);this.state={photo_items:[],index:null,prev_item:null,next_item:null,total:0,page:0,first_load:!0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate"),this.updateImageBuffer()}},{key:"getData",value:function(e,t){var i=this,n="",s=e?this.state.page+1:0;$.ajax({url:this.props.api_url+"&page="+s,success:function(r){console.log(r),n=r;var o=[],a=r.photos.total,l=n.photos.photo;s=r.photos.page;for(var c=0;c<n.photos.photo.length;c++){var u="https://farm"+l[c].farm+".staticflickr.com/"+l[c].server+"/"+l[c].id+"_"+l[c].secret+"_c.jpg";o.push({id:c,url:u})}e?i.setState({photo_items:i.state.photo_items.concat(o),page:s},function(){"function"==typeof t&&t.call()}):i.setState({photo_items:o,index:0,total:a,page:s,first_load:!1},function(){})}})}},{key:"renderData",value:function(){console.log("renderData");var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.";if(this.state.photo_items.length>0){var t=this.state.photo_items[this.state.index];return React.createElement("div",{className:"gallery_content responsive_image","data-aspect-ratio":"3/2","data-avoid-crop":!0},React.createElement(PhotoListItem,{key:t.id,item:t,alt:"Photo "+(this.state.index+1)}))}return this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)}},{key:"loadNext",value:function(){if(console.log("loadNext"),this.state.index<this.state.photo_items.length-1){var e=this.state.index+1;this.setState({index:e})}else this.state.index<this.state.total&&(console.log("loading more data..."),this.getData(!0,this.loadNext))}},{key:"loadPrev",value:function(){if(this.state.index>0){var e=this.state.index-1;this.setState({index:e})}}},{key:"updateImageBuffer",value:function(){}},{key:"renderTitle",value:function(){return this.props.title&&""!=this.props.title?React.createElement("div",{className:"module_title"},this.props.title):null}},{key:"renderPagination",value:function(){return this.state.total&&0!=this.state.total?React.createElement("div",{className:"photo_index"},this.state.index+1," / ",this.state.total):null}},{key:"prevDisabled",value:function(){return 0==this.state.index?"disabled":""}},{key:"nextDisabled",value:function(){return this.state.index==this.state.photo_items.length-1?"disabled":""}},{key:"render",value:function(){console.log("render");var e=this;return React.createElement("div",null,this.renderTitle(),React.createElement("div",{className:"react_photo_gallery"},e.renderData(),e.renderPagination(),React.createElement("div",{className:"nav_container"},React.createElement("div",{className:"nav"},React.createElement("button",{type:"button",onClick:function(t){e.loadPrev(t)},disabled:e.prevDisabled(),"data-role":"none",className:"prev arrow","aria-label":"Previous",role:"button"}),React.createElement("button",{type:"button",onClick:function(t){e.loadNext(t)},disabled:e.nextDisabled(),"data-role":"none",className:"next arrow","aria-label":"Next",role:"button"})))))}}]),t}(React.Component),PhotoListItem=function(e){return React.createElement("img",{src:e.item.url,alt:e.alt,className:"responsive_image__element"})},ProjectListItem=createReactClass({getInitialState:function(){return{show_co_investigators:!1}},toggleShowCoInvestigators:function(){this.setState({show_co_investigators:!this.state.show_co_investigators})},renderPIItem:function(e,t){var i="undefined"==typeof e.has_detail||1==e.has_detail;return React.createElement("div",{key:t,className:"investigator_item"},i?React.createElement("a",{className:"name_link",key:t,href:e.url},e.last_name,", ",e.first_name," \u203a"):React.createElement("span",{className:"name_link",key:t},e.last_name,", ",e.first_name),React.createElement("div",{className:"project_info_desc"},e.institution))},renderCIItem:function(e,t){var i="undefined"==typeof e.has_detail||1==e.has_detail;return React.createElement("div",{key:t,className:"investigator_item"},i?React.createElement("a",{className:"name_link",key:t,href:e.url},e.last_name,", ",e.first_name," \u203a"):React.createElement("span",{className:"name_link",key:t},e.last_name,", ",e.first_name),React.createElement("div",{className:"project_info_desc"},e.institution))},render:function(){var e=this.props.item,t=[];e.list_image_file_name?t=[e.list_image]:e.principal_investigators.length>0&&(t=e.principal_investigators.filter(function(e){return""!=e.list_image}).map(function(e){return e.list_image}));var i=e.category_title?React.createElement("h4",{className:"project_info_title"},"Subject"):null,n=e.category_title?React.createElement("div",{className:"project_info_desc"},e.category_title):null;return React.createElement("div",{className:"image_and_description_container project_item_container"},t.length>0?React.createElement("div",{className:"list_image"},t.map(function(e,t){return React.createElement("img",{key:t,src:e})})):null,React.createElement("div",{className:"list_text"},React.createElement("h2",{className:"project_title"},e.link?React.createElement("a",{href:e.link},e.title):e.title),i,n,e.principal_investigators.length>0?React.createElement(React.Fragment,null,React.createElement("h4",{className:"project_info_title"},"Project Investigator(s)"),e.principal_investigators.map(this.renderPIItem)):null,e.co_investigators.length>0?React.createElement(React.Fragment,null,React.createElement("a",{className:"toggle_co_investigators",onClick:this.toggleShowCoInvestigators},this.state.show_co_investigators?"- Hide Co-Investigators":"+ Show Co-Investigators"),this.state.show_co_investigators?React.createElement("div",{className:"project_coinvestigators"},e.co_investigators.map(this.renderCIItem)):null):null))}}),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},PublicationListItem=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.props.item,t=e.citation?", "+e.citation.autoLink():"",i=!(!this.props.options||!this.props.options.use_publication_year)&&this.props.options.use_publication_year;return React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"list_text"},i?React.createElement("div",{className:"content_year"},e.publication_year):null,e.link?React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.link,target:"_blank"},e.title)):React.createElement("div",{className:"content_title"},e.title),React.createElement("div",{className:"article_teaser_body"},e.authors,React.createElement("div",{className:"citation"},e.periodical&&e.periodical.title?e.periodical.title:"",React.createElement("span",{dangerouslySetInnerHTML:{__html:t}}))),e.file_src?React.createElement("a",{className:"list_link",href:e.file_src,download:e.file_file_name},"download article"):""))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},ResourceListItem=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"itemIsFancyboxable",value:function(){var e=this.props.item.fancyboxable,t=this.props.options&&this.props.options.fancybox;return e&&t}},{key:"getImageAndDescription",value:function(e){return React.createElement("div",null,React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner",dangerouslySetInnerHTML:{__html:e.short_description}}),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.list_image_src,alt:e.alt_text})),this.getBottomGradient(e))}},{key:"getBottomGradient",value:function(e){return this.props.options&&this.props.options.no_item_title?"":React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",{dangerouslySetInnerHTML:{__html:e.title}})))}},{key:"getLinkedImageAndDescription",value:function(e){var t=this.props.item,i=t.url;if(this.props.options&&"undefined"!=typeof this.props.options.href_query_params&&(i+="?"+this.props.options.href_query_params),this.props.options.url_prefix&&i.indexOf("//")<0&&(i=this.props.options.url_prefix+i),this.props.options.url_suffix){var n=this.props.options.url_suffix;n.indexOf("?")&&url.indexOf("?")?i+=n.replace("?","&"):i+=n}return this.itemIsFancyboxable()?React.createElement("a",{href:i,className:"fancybox_slideshow","data-fancybox-group":"images","data-fancybox-href":t.detail_image,"data-title":t.title,"data-sharedescription":t.share_desc,"data-thumbnail":t.list_image_src,"data-link":i},e):React.createElement("a",{href:i},e)}},{key:"render",value:function(){var e=this.props.item,t=this.getImageAndDescription(e),i=this.getLinkedImageAndDescription(t);return React.createElement("div",{className:"image_and_description_container"},i,React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url},e.title)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.short_description}})))}}]),t}(React.Component),ResourceSwapper=createReactClass({video_resources:null,componentDidMount:function(){this.addMoreLessClickListener()},componentDidUpdate:function(){this.addMoreLessClickListener()},addMoreLessClickListener:function(){mb_utils.initExpandableElement()},getInitialState:function(){var e=Math.ceil(1e5*Math.random());this.rs_id=e;var t=this.props.resources.filter(function(e){return e.video_items.length>0});return this.video_resources=t,{current_resource:0}},toggleSwitchbox:function(e){parseInt(e.target.dataset.resource)!=this.state.current_resource&&this.setState({current_resource:0==this.state.current_resource?1:0})},getResources:function(){return this.video_resources.length?React.createElement(Vid,{sources:this.video_resources[this.state.current_resource].video_items,id:"vid_"+this.rs_id,poster:this.video_resources[this.state.current_resource].detail_image}):React.createElement("div",null,"NO VIDEOS TO SEE HERE")},getControls:function(){return this.video_resources.length<=1?null:2===this.video_resources.length?React.createElement("div",{className:"switchbox_container",id:"switchbox_"+this.rs_id},React.createElement("form",{className:"switchbox"},React.createElement("input",{type:"radio",id:this.rs_id+"_switch_lt","data-resource":"0",className:"switch_input "+(0===parseInt(this.state.current_resource)?"selected":""),value:this.props.resources[0].title,onChange:this.toggleSwitchbox,checked:0==parseInt(this.state.current_resource)||""}),React.createElement("label",{htmlFor:this.rs_id+"_switch_lt",className:"switch_label switch_label_left"},this.props.resources[0].title),React.createElement("input",{type:"radio",id:this.rs_id+"_switch_rt","data-resource":"1",className:"switch_input "+(1===parseInt(this.state.current_resource)?"selected":""),value:this.props.resources[1].title,onChange:this.toggleSwitchbox,checked:1==parseInt(this.state.current_resource)||""}),React.createElement("label",{htmlFor:this.rs_id+"_switch_rt",className:"switch_label switch_label_right"},this.props.resources[1].title),React.createElement("span",{className:"switch_indicator"})),React.createElement("div",{className:"switch_line"})):void 0},render:function(){return React.createElement("section",{className:"resource_swapper",id:"resource_swapper_"+this.rs_id},React.createElement("div",{className:"content_wrapper"},this.getResources()),this.getControls(),React.createElement("div",{className:"long_description_text",dangerouslySetInnerHTML:{__html:this.video_resources[this.state.current_resource].long_description}}))}}),SearchSelectDropdown=createReactClass({getInitialState:function(){var e=this.props,t="",i=e.options_arr?e.options_arr:[],n="Please Select";if(e.selected_id){var s=i.filter(function(t){return t[1]==e.selected_id});s.length>0&&(t=s[0][1],n=s[0][0])}return{options_open:!1,filtered_options:i,list_scrolling:!1,options_filter:"",placeholder:n,selected:t}},changeSelection:function(e){var that=this;0==this.state.list_scrolling&&e.currentTarget&&e.currentTarget.dataset&&this.state.filtered_options.map(function(t){if(t[1]==e.currentTarget.dataset.value){
var i="undefined"==typeof e.currentTarget.dataset.value||typeof e.currentTarget.dataset.value==undefined?"":e.currentTarget.dataset.value;return that.setState({selected:i,placeholder:t[0]}),void that.setOptionsClosed()}}),this.props.onSelectChange&&eval(this.props.onSelectChange+"(e)")},setSelectRef:function(e){this.select_ref=e},setOptionsOpen:function(){this.setState({options_open:!0},function(){document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("touchstart",this.handleClickOutside),$(".change_select").addClass("options_open"),(this.props.selected_id&&this.props.selected_id.length>0||this.state.selected.length>0)&&$(".dropdown_select").find("input").val(this.state.placeholder)})},setOptionsClosed:function(){this.setState({options_open:!1,options_filter:""},function(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("touchstart",this.handleClickOutside),$(".change_select").removeClass("options_open"),$("input.selected_title").blur()})},handleClickOutside:function(e){this.select_ref&&!this.select_ref.contains(e.target)&&this.setOptionsClosed()},setOptionsFilter:function(e){var t=this,i=this.props.options_arr.filter(function(e){return new RegExp(t.state.options_filter,"i").test(e[0])});this.setState({options_filter:e.target.value,filtered_options:i})},startListScroll:function(){this.setState({list_scrolling:!0})},stopListScroll:function(){this.setState({list_scrolling:!1})},blurOnEnter:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())},getSelectOptions:function(){var e=this;return this.state.options_open?this.state.filtered_options.length>0?React.createElement("div",{className:"dropdown_options",onTouchStart:this.stopListScroll,onTouchMove:this.startListScroll},this.state.filtered_options.map(function(t,i){return React.createElement("div",{className:"compare_option","data-value":t[1],key:"option_"+i,onClick:e.changeSelection,onTouchEnd:e.changeSelection},t[0])})):React.createElement("div",{className:"dropdown_options"},React.createElement("div",{className:"compare_option unselectable"},React.createElement("i",null,"No options match your search"))):null},getDivDropdown:function(){return React.createElement("div",{className:"dropdown"},React.createElement("div",{className:"dropdown_select change_select",ref:this.setSelectRef},React.createElement("input",{className:"selected_title "+(this.props.is_admin?"admin_select":""),type:"text",onChange:this.setOptionsFilter,onClick:this.setOptionsOpen,onTouchStart:this.setOptionsOpen,placeholder:this.state.placeholder,value:this.state.options_filter,onKeyUp:this.blurOnEnter}),React.createElement("div",{className:"select_icon"}),this.getSelectOptions()))},render:function(){this.state;return React.createElement("div",{className:"search_select_dropdown"},React.createElement("div",{className:"field "+(this.props.klass?this.props.klass:"")},React.createElement("div",{className:"right_col"},this.getDivDropdown(),React.createElement("input",{type:"hidden",id:this.props.id,name:this.props.name,value:this.state.selected}))))}}),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},ShareButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={share_open:!1}}return _inherits(t,e),_createClass(t,[{key:"toggleShare",value:function(e){e&&e.preventDefault(),this.setState({share_open:!this.state.share_open})}},{key:"getShareHtml",value:function(){return React.createElement("div",{className:"share_bubble"},React.createElement(CherTools,{share:this.props.share,url:this.props.url,share_text:this.props.share_text}))}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"share_button button "+(this.state.share_open?"share_open":""),onClick:function(t){e.toggleShare(t)}},"SHARE",this.getShareHtml())}}]),t}(React.Component),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},SpaController=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={detail_image_loaded:!1,last_pushed_state:null}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;console.log("SpaController:: componentDidMount"),this.props.article&&this.props.initial_id&&this.selectedItem(this.props.article,function(){}),this.props.get_history_state_loaded||(window.addEventListener("popstate",function(t){return e.popStateListener(t)}),this.props.set_history_state_loaded())}},{key:"componentDidUpdate",value:function(e){if(this.props.article){document.title;e&&e.article&&this.props.article.id!=e.article.id?this.selectedItem(this.props.article,function(){}):this.props.article.id&&null==e.article&&(console.log("UPDATE..."),this.selectedItem(this.props.article,function(){}))}else e&&null==this.props.article&&e.article}},{key:"popStateListener",value:function(e){var t=this,i=e.state;console.log("SpaController:: popStateListener",i),e.preventDefault(),e.stopPropagation(),null==i?(console.log("POP 1 : NULL : "),this.state.last_pushed_state!=i&&(this.setState({last_pushed_state:i}),t.hideDetail(i,!1))):void 0!==i&&(console.log("POP 2 : state : "),this.setState({last_pushed_state:i}),null!=i.id?t.selectedItem(i,function(){},!1):(console.log("POP 3 : state.id == null : "),this.setState({last_pushed_state:i}),t.hideDetail(null,!1)))}},{key:"setHistoryState",value:function(e,t,i){document.title=t,window.history.pushState(e,t,i),this.setState({last_pushed_state:e})}},{key:"hideDetail",value:function(e){!(arguments.length<=1||arguments[1]===undefined)&&arguments[1]&&window.history.pushState(e,document.title,document.location),this.setState({detail_image_loaded:!1},function(){this.props.hide_detail(e)})}},{key:"selectedItem",value:function(e,t){(arguments.length<=2||arguments[2]===undefined||arguments[2])&&e!=this.state.last_pushed_state&&this.setHistoryState(e,document.title,"#"+e.id),this.setState({detail_image_loaded:!1},function(){this.props.selected_item(e,t)})}},{key:"changeTitle",value:function(e){this.props.article&&null!=this.props.article&&(document.title=e)}},{key:"imagesLoaded",value:function(){console.log("SpaController:: imagesLoaded"),this.setState({detail_image_loaded:!0})}},{key:"render",value:function(){var e=this;return this.props.article?React.createElement("div",null,this.state.detail_image_loaded?null:React.createElement("div",{className:"detail_loading"}),React.createElement(ArticleNav,_extends({detail_image_loaded:this.state.detail_image_loaded},this.props)),React.createElement(Article,_extends({detail_image_loaded:this.state.detail_image_loaded,initial_items:this.props.initial_items,hide_detail:function(t,i){e.hideDetail(t,i)},selected_item:function(t,i,n){e.selectedItem(t,i,n)},change_title:function(t){e.changeTitle(t)},images_loaded:function(){e.imagesLoaded()}},this.props))):React.createElement("div",null)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},SpiceAPI=function(t){function i(e){_classCallCheck(this,i),_get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e);var t=this.props.duration?this.props.duration:3e5,n=this.props.frequency?this.props.frequency:1e3,s=this.props.query.decimals?this.props.query.decimals:0;this.state={frequency:n,duration:t,error:!1,received_data:!1,getting_more_data:!1,data:[],value:"",units:"",decimals:s,idx:-1,last_error:0,format_units:"standard"},this.interval=null,this.tick=this.tick.bind(this)}return _inherits(i,t),_createClass(i,[{key:"componentDidMount",value:function(){this.getData(),this.interval=setInterval(this.tick,this.state.frequency);var e=this;(this.props.toggle||this.props.query&&this.props.query.toggle)&&$("body").on("toggle_units",function(t,i){e.setState({format_units:i})})}},{key:"tick",value:function(){var e=this.state.idx+1;if(this.state.getting_more_data);else if(this.state.error)now=(new Date).getTime,now>this.state.last_error+3e3&&(console.log("Error timeout up: Trying again."),this.setState({getting_more_data:!0,error:!1},this.getData()));else if(e<this.state.data.length){var t=this.state.data[e];this.setState({idx:e,value:t.value})}else this.setState({getting_more_data:!0},this.getData())}},{key:"componentWillUnmount",value:function(){console.log("UNMOUNT"),this.stopGettingData()}},{key:"stopGettingData",value:function(){clearInterval(this.interval)}},{key:"padZero",value:function(e){return e<10?"0"+e:e}},{key:"getData",value:function(){var e=this;this.setState({received_data:!1,current_idx:-1},function(){var t=e.createURLFromQuery();console.log("Getting more data",t),$.ajax(t,{dataType:"json"}).success(function(t){e.onReceiveData(t)}).error(function(e,i,n){console.error("SpiceAPI.getData error",n,t)})})}},{key:"onReceiveData",value:function(e){if(e.error)console.log(e.message),this.setState({received_data:!0,error:!0,getting_more_data:!1,last_error:(new Date).getTime()});else{var t=this.getIdxForNow(e.items),i=e.units;this.setState({data:e.items,received_data:!0,idx:t,getting_more_data:!1,units:i})}}},{key:"createURLFromQuery",value:function(){return"distance"==this.props.query.request?this.props.base_url+this.buildDistanceUrl()+this.buildTimeUrl():"one_way_light_time"==this.props.query.request?this.props.base_url+this.buildLightTimeUrl()+this.buildTimeUrl():void 0}},{key:"buildLightTimeUrl",value:function(){try{return"/getULTfromT1/"+this.props.query.from+"/"+this.props.query.to+"/"}catch(e){console.error("SpiceAPI: error creating distance url: ",e.message)}}},{key:"buildDistanceUrl",value:function(){try{return"/getRangefromT1/"+this.props.query.from+"/"+this.props.query.to+"/"}catch(e){console.error("SpiceAPI: error creating distance url: ",e.message)}}},{key:"buildTimeUrl",value:function(){var e=new Date;return e.setSeconds(0,0),e.toISOString().slice(0,18)+"/"+new Date(e.getTime()+this.state.duration).toISOString().slice(0,18)+"/"+parseInt(this.state.frequency)/1e3+"/"}},{key:"getIdxForNow",value:function(e){for(var t=new Date,i=-1,n=!1;i+1<e.length&&!n;)i++,Date.parse(e[i].date)>=t&&(n=!0);return n?i:-1}},{key:"getFormattedDistance",value:function(e,t){return this.props.query.toggle_units?[this.formatThousandsNoRounding(e.toFixed(0)),""]:[this.formatThousandsNoRounding(e.toFixed(0)),t]}},{key:"formatNumber",value:function(e,t){var i=parseFloat(e);if(isNaN(i))return["",""];if("one_way_light_time"!=this.props.query.request){if("distance"==this.props.query.request){if("standard"==this.state.format_units){var n=.621371*i;return this.getFormattedDistance(n,"miles")}return this.getFormattedDistance(i,"km")}return this.state.decimals>-1?[this.formatThousandsNoRounding(i.toFixed(this.state.decimals)),t]:[this.formatThousandsNoRounding(i),t]}return i<60?[i.toFixed(4),"secs"]:[(i/60).toFixed(6),"mins"]}},{key:"formatThousandsNoRounding",value:function(e,t){for(var i="",n=i+e,s=n.length,r=e<0?1:0,o=n.lastIndexOf("."),a=-1==o?s:o,l=i,c=n.substr(a+1,t);(a-=3)>r;)l=","+n.substr(a,3)+l;return n.substr(0,a+3)+l+(t?"."+c+(c.length<t?"00000".substr(0,t-c.length):i):i)}},{key:"changeUnits",value:function(e){this.setState({format_units:e})}},{key:"getUnitToggle",value:function(){var e=this;return this.props.query.toggle_units&&"distance"==this.props.query.request?React.createElement("span",{className:"toggle_units"},React.createElement("span",{onClick:function(){return e.changeUnits("standard")},className:"unit_toggle "+("standard"==e.state.format_units?"current":"")},"mi"),React.createElement("span",{onClick:function(){return e.changeUnits("metric")},className:"unit_toggle "+("metric"==e.state.format_units?"current":"")},"km")):null}},{key:"render",value:function(){if(this.state.error)return React.createElement("div",{className:"error"},"Sorry, there was an error loading data. Trying again in 30s.");if(this.state.received_data){var e=this.formatNumber(this.state.value,this.state.units);return Array.isArray(e)?React.createElement("div",null,React.createElement("div",{className:"value"},e[0],React.createElement("span",{className:"units"},"\xa0",e[1]),this.getUnitToggle())):React.createElement("div",null,React.createElement("div",{className:"value"},e))}return React.createElement("div",{className:"loading"},"Loading...")}}]),i}(React.Component),SplashScreen=createReactClass({spinner_opts:{lines:8,length:5,width:3,radius:6,color:"#FFF",speed:1,trail:100,shadow:!1,className:"spinner",top:"20px",left:"50%"},getInitialState:function(){return{spinner:null,open:!0}},componentDidMount:function(){var e=$("#splash_spinner").spin(this.spinner_opts);this.setState({spinner:e})},fadeOut:function(){var e=this;$(".splash").fadeOut(this.props.fade_time?this.props.fade_time:400,function(){e.setState({open:!1},function(){e.props.onClose&&e.props.onClose()})})},render:function(){return this.state.open?React.createElement("div",{className:"splash",style:{backgroundImage:"url("+this.props.background_image+")"}},React.createElement("div",{className:"splash_text"},React.createElement("h1",{className:"splash_title"},this.props.title),React.createElement("p",{className:"splash_description"},this.props.description),this.props.loaded?React.createElement("a",{className:"button",onClick:this.fadeOut},this.props.button_text):React.createElement("div",{className:"splash_loading"},React.createElement("div",{id:"splash_spinner"}),"Loading..."),this.props.children)):null}}),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},SvgIcon=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={unique_id:"svg-icon-label-"+this.getUniqueID()}}return _inherits(t,e),_createClass(t,[{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},{key:"getUniqueID",value:function(){return this.getRandomInt(0,Math.pow(36,8)).toString(36)}},{key:"render",value:function(){return this.props.label?React.createElement("div",{className:"icon svg_icon_container"},React.createElement("svg",{width:"24",height:"24",className:"svg_icon yyy","aria-labelledby":this.state.unique_id},React.createElement("switch",null,React.createElement("use",{xlinkHref:"#"+this.props.symbol}),React.createElement("foreignObject",{id:this.state.unique_id},this.props.label)))):React.createElement("div",{className:"icon svg_icon_container"},React.createElement("svg",{width:"24",height:"24",className:"svg_icon"},React.createElement("use",{xlinkHref:"#"+this.props.symbol})))}}]),t}(React.Component),PlayPause=function(e){return e.playing?React.createElement("svg",{className:"svg_icon_container",id:"pause_circle"},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M0 0h39v39H0z"}),React.createElement("circle",{cx:"19.5",cy:"19.5",r:"17.5",stroke:"var(--play-stroke)",strokeWidth:"2"}),React.createElement("path",{fill:"#b9d4f0",fillRule:"nonzero",d:"M2.487 0c.018.003.037 0 .056 0 .237 0 .43.177.43.394v10.168c0 .217-.193.394-.43.394H.43l-.086-.008C.148 10.91 0 10.752 0 10.562V.395L.01.315A.423.423 0 01.43 0zm5.88 0c.018.003.037 0 .056 0 .237 0 .43.177.43.394v10.168c0 .217-.193.394-.43.394H6.31l-.086-.008c-.196-.037-.344-.196-.344-.386V.395l.009-.08A.423.423 0 016.31 0z",transform:"translate(15 14)"}))):React.createElement("svg",{className:"svg_icon_container",id:"play_circle"},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M0 0h39v39H0z"}),React.createElement("circle",{cx:"19.5",cy:"19.5",r:"17.5",stroke:"var(--play-stroke)",strokeWidth:"2"}),React.createElement("path",{fill:"#b9d4f0",fillRule:"nonzero",d:"M25 19.5a.403.403 0 00-.195-.35l-8.217-5.078a.355.355 0 00-.214-.072c-.206 0-.374.18-.374.4 0 .016.003.03.004.046L16 24.645c.026.2.182.355.374.355.068 0 .132-.02.187-.055l.003.006 8.251-5.1-.003-.005A.404.404 0 0025 19.5z"})))},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},TabsGrid=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={active_tab:this.props.tabs[0]},t.propTypes={tabs:PropTypes.arrayOf(PropTypes.object),title:PropTypes.string}}return _inherits(t,e),_createClass(t,[{key:"setActiveTab",value:function(e){this.setState({active_tab:e})}},{key:"removeContainer",value:function(e){return e.replace(/^<[^<]+>/g,"").replace(/<[^<]+>$/g,"")}},{key:"render",value:function(){var e=this.props.tabs,t=this.props.options?this.props.options.fields:{},i=this;return React.createElement("section",{className:"tabs_grid"},React.createElement("header",null,React.createElement("h2",null,this.props.title),React.createElement("nav",null,e.length>1?e.map(function(e,t){var n=i.state.active_tab==e;return React.createElement("div",{className:"tab_item_container"},React.createElement("div",{key:t,className:"tab_nav_item"+(n?" current":""),onClick:function(){return i.setActiveTab(e)}},e.title))}):null)),React.createElement("div",{className:"tab"},React.createElement("div",{className:"tab_inner grid_layout"},this.state.active_tab.items?this.state.active_tab.items.map(function(e){return React.createElement("a",{className:"tabs_grid_item",key:e.id,href:t.url?e[t.url]:e.link},React.createElement("div",{className:"tabs_grid_img"},React.createElement("img",{src:t.image_src?e[t.image_src]:e.image_src})),React.createElement("div",{className:"tabs_grid_desc"},React.createElement("h3",null,t.title?e[t.title]:e.title),React.createElement("div",{dangerouslySetInnerHTML:{__html:i.removeContainer(t.description?e[t.description]:e.body)}})))}):null)))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},TertiaryDesktopNav=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={current_indicator_left:""}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){if(this.props.indicator){var e=$(".tertiary_nav li.current").eq(0),t=e.offset(),i=e.width()/2;this.setState({current_indicator_left:t.left+i+"px"})}}},{key:"getListItem",value:function(e){var t=e.id.toString()==this.props.current_page.id.toString()?"current":"";return React.createElement("li",{key:"tert_"+e.id,className:t},this.getLink(e))}},{key:"getLink",value:function(e){return this.props.is_preview&&(e.id.toString(),this.props.preview_id.toString()),React.createElement("a",{href:e.url},e.subnav_title)}},{key:"render",value:function(){var e=this;return React.createElement("nav",{className:"tertiary_nav tertiary_nav_desktop"},React.createElement("ul",null,this.props.items.map(function(t,i){return e.getListItem(t,i)})),this.props.indicator?React.createElement("div",{className:"current_indicator",style:{left:this.state.current_indicator_left}}):null)}}]),t}(React.Component),ViewToggle=function(){return React.createElement("div",{className:"view_selectors"},React.createElement("a",{href:"#",className:"nav_item ir list_icon",title:"list view",onClick:function(e){e.preventDefault(),$("body").trigger("show_list_view")}},"list view")," ",React.createElement("a",{href:"#",className:"nav_item ir grid_icon",title:"grid view",onClick:function(e){e.preventDefault(),$("body").trigger("show_grid_view")}},"grid view"))},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Vid=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.video=null,this.state={loading:!1},this.onDataLoaded=this.onDataLoaded.bind(this)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.initListeners()}},{key:"componentWillUnmount",value:function(){var e=this;this.video.removeEventListener("loadeddata",this.onDataLoaded,!1),this.video.childNodes.forEach(function(t){e.video.removeChild(t)})}},{key:"initListeners",value:function(){this.video.addEventListener("loadeddata",this.onDataLoaded,!1)}},{key:"onDataLoaded",value:function(){this.setState({loading:!1})}},{key:"componentWillReceiveProps",value:function(e){e.sources;var t=this;this.pause(),this.setState({loading:!0},function(){t.load()})}},{key:"load",value:function(){this.video.load()}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"getStyle",value:function(){if(this.state.loading){var e=this.video.getBoundingClientRect();return{width:e.width+"px",height:e.height+"px"}}return{width:"100%",height:"100%"}}},{key:"render",value:function(){var e=this;return React.createElement("video",{ref:function(t){e.video=t},autoPlay:!1,loop:!0,controls:!0,muted:!0,id:this.props.id,poster:this.props.poster,style:this.getStyle()},this.props.sources.map(function(t,i){return React.createElement("source",{key:e.props.id+"_"+i,src:t.file_src,type:t.file_content_type})}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var s=e,r=t,o=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,r);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(o)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=r,i=o,n=!0,a=c=undefined}},Video=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,props),this.state={user_paused:!1}}return _inherits(t,e),_createClass(t,[{key:"loadJwPlayer",value:function(){jwplayer.key="aUHw/vpMvlcbkzWba1bSGOhfZ5nefVNAZYIC037cIbg=";var e=this.props.vrview_stereo&&"true"==this.props.vrview_stereo?"stereoscopic":"monoscopic",t={primary:"html5",hlshtml:!0,width:"100%",aspectratio:"16:9",repeat:this.props.autoloop,playlist:[{title:this.props.title,image:this.props.poster,stereomode:e,sources:this.props.files}]},i=jwplayer(""+this.props.video_div).setup(t);i.on("ready",function(){var e=i.getPlugin("vr");e&&e.on("error",function(e){console.log("vr plugin error",e)})})}},{key:"checkAndPlayVideoInView",value:function(e){var t=$("#"+e+":in-viewport").length>0,i=$("#"+e+" video")[0];t&&i&&!this.state.user_paused?i.play():t||i.pause()}},{key:"componentDidMount",value:function(){if(!this.props.vrview||"true"!==this.props.vrview&&!0!==this.props.vrview){if(this.props.autostart&&"false"!=this.props.autostart){var e,t=this;$(window).on("scroll",function(){clearTimeout(e),e=setTimeout(function(){t.checkAndPlayVideoInView(""+t.props.video_div)},50)}),$("#"+this.props.video_div+" video")[0].addEventListener("pause",function(){t.setState({user_paused:!0})})}}else this.loadJwPlayer()}},{key:"getSourceForFile",value:function(e,t){return e.indexOf("mp4")>0||e.indexOf("m4v")>0?React.createElement("source",{key:this.props.video_id+"_"+t,src:e,type:"video/mp4"}):e.indexOf("ogv")>0||e.indexOf("ogg")>0?React.createElement("source",{key:this.props.video_id+"_"+t,src:e,type:"video/ogg"}):e.indexOf("webm")>0?React.createElement("source",{key:this.props.video_id+"_"+t,src:e,type:"video/webm"}):null}},{key:"render",value:function(){var e,t,i=this;return e=""!=this.props.caption&&1==this.props.display_caption?React.createElement("figcaption",null,this.props.caption):"",t=this.props.vrview&&("true"===this.props.vrview||!0===this.props.vrview)&&this.props.files.length>0?React.createElement("div",{id:this.props.video_div,className:"video_player"}):React.createElement("div",{id:this.props.video_div,className:"video_container"},React.createElement("video",{controls:!0,preload:!0,muted:this.props.autostart&&"false"!=this.props.autostart,poster:this.props.poster,loop:this.props.autoloop},this.props.files.map(function(e,t){return"undefined"!=e.file?i.getSourceForFile(e.file,t):null}),"Your browser does not support the video tag.")),React.createElement("figure",null,t,e)}}]),t}(React.Component),ArticleNav=createReactClass({getInitialState:function(){return{prev_item:null,next_item:null,should_show:!0}},componentDidMount:function(){this.getData()},getData:function(){var e=this,t=this.getSessionStore();$.ajax("/api/v1/"+this.props.model+"/"+this.props.id+"/prev_next",{dataType:"json",data:t,success:function(t){e.setState({prev_item:t.prev_item,next_item:t.next_item})}})},getSessionStore:function(){return"undefined"!=typeof Storage?sessionStorage[this.props.model]?JSON.parse(sessionStorage[this.props.model]):(console.log("No stored params for this model"),{}):(console.error("No web storage."),{})},getLinkWithSite:function(e){return this.props.subsite?e+"?site="+this.props.subsite:e},getPrevious:function(){return this.state.prev_item?React.createElement("a",{className:"article_nav_block prev",href:this.getLinkWithSite(this.state.prev_item.link),target:"_self"},React.createElement("div",{className:"link_box"},React.createElement("img",{alt:"Previous Article",src:"/assets/arrow_left.jpg"})),React.createElement("div",{className:"article_details",id:"prev_details"},React.createElement("div",{className:"img"},React.createElement("img",{alt:"",src:this.state.prev_item.list_image_src})),React.createElement("div",{className:"title"},this.state.prev_item.title))):null},getNext:function(){return this.state.next_item?React.createElement("a",{className:"article_nav_block next",href:this.getLinkWithSite(this.state.next_item.link),target:"_self"},React.createElement("div",{className:"link_box"},React.createElement("img",{alt:"Next Article",src:"/assets/arrow_right.jpg"})),React.createElement("div",{className:"article_details",id:"next_details"},React.createElement("div",{className:"img"},React.createElement("img",{alt:"",src:this.state.next_item.list_image_src})),React.createElement("div",{className:"title"},this.state.next_item.title))):null},render:function(){return this.state.prev_item||this.state.next_item?React.createElement("div",{className:"article_nav"},this.getPrevious(),this.getNext()):null}}),Carousel=createReactClass({carousel:null,componentDidMount:function(){var e=this.props.show?this.props.show:1,t=!!this.props.infinite&&this.props.infinite,i=!!this.props.autoplay&&this.props.autoplay,n=this.props.scroll?this.props.scroll:1,s=!!this.props.center&&this.props.center,r=this.props.initial?this.props.initial:0,o=this.props.responsive?this.props.responsive:[{}],a=!!this.props.arrows&&this.props.arrows;this.props.fancybox_yt&&$(document).ready(function(){var e={rel:"peopleprofiles",current:"",iframe:!0,width:"80%",height:"80%",maxWidth:"960px",maxHeight:"540px",reposition:!0},t={rel:"peopleprofiles",current:"",iframe:!0,width:"95%",height:"53%",maxWidth:"960px",maxHeight:"540px",reposition:!0};window.innerHeight>window.innerWidth?$(".video_cbx2").colorbox(t,function(){$("#colorbox").addClass("cboxTransparentTheme")}):$(".video_cbx2").colorbox(e,function(){$("#colorbox").addClass("cboxTransparentTheme")}),$(window).resize(function(){window.innerHeight>window.innerWidth?$.colorbox.resize({width:window.innerWidth>parseInt(t.maxWidth)?t.maxWidth:t.width,height:window.innerHeight>parseInt(t.maxHeight)?t.maxHeight:t.height}):$.colorbox.resize({width:window.innerWidth>parseInt(e.maxWidth)?e.maxWidth:e.width,height:window.innerHeight>parseInt(e.maxHeight)?e.maxHeight:e.height})})}),this.carousel=$("#"+this.props.carousel_id).slick({accessibility:!0,adaptiveHeight:!1,autoplay:i,autoplaySpeed:5e3,arrows:a,centerMode:s,centerPadding:"0",cssEase:"ease",dots:!1,draggable:!0,fade:!1,focusOnSelect:!1,easing:"linear",edgeFriction:.15,infinite:t,initialSlide:r,mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:o,slide:"",slidesToShow:e,slidesToScroll:n,speed:300,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!0,vertical:!1,verticalSwiping:!1,rtl:!1}),$(window).resize()},componentWillUnmount:function(){this.carousel.slick("unslick")},buildSlide:function(e){return this.props.fancybox_yt?React.createElement("div",{key:e.id,className:"slide"},React.createElement("a",{href:e.embed_video,className:"video_cbx2","data-fancybox-group":"videos",title:e.title+": "+e.body,rel:"peopleprofiles"},React.createElement("div",{className:"image_container"},React.createElement("img",{src:e.image_src,alt:e.alt_text}),React.createElement("img",{src:"/assets/yt_play_button.png",alt:"",className:"youtube_play_button"}))),React.createElement("div",{className:"slide_description"},React.createElement("h3",{dangerouslySetInnerHTML:{__html:e.title}}),React.createElement("p",{className:"description_body",dangerouslySetInnerHTML:{__html:e.body}}))):React.createElement("div",{key:e.id,className:"slide"},React.createElement("a",{href:e.link},React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"rollover_description"},e.body,React.createElement("div",{
className:"overlay_arrow"},React.createElement("img",{alt:"More",src:"/assets/overlay-arrow.png"}))),React.createElement("img",{src:e.image_src,alt:e.alt_text}))),React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.link},e.title)))},render:function(){this.props.slides;var e=this;return React.createElement("div",{id:this.props.carousel_id,className:"detail_carousel"},this.props.slides.map(function(t){return e.buildSlide(t)}))}}),CheckboxList=createReactClass({getInitialState:function(){return{truncation:this.props.more_less,items:this.props.items}},componentWillReceiveProps:function(e){e.items!==this.state.items&&this.setState({items:e.items})},makeId:function(e){var t=this.props.delimiter?this.props.delimiter:"-";return this.props.form_section+t+e.toLowerCase().replace(/\W/g,t)},formatText:function(e){return"sentence"==this.props.text_format?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"none"==this.props.text_format?e:this.titleize(e)},blurOnEnter:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())},titleize:function(e){var t=e.split(/[\W^-]/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")},changeTruncation:function(e){(e&&e.preventDefault(),!this.state.truncation&&this.state.items.length>20)&&document.getElementById("form_section_"+this.props.form_section).scrollIntoView(!0);this.setState({truncation:!this.state.truncation})},filterCheckboxes:function(e){var t=e.target.value;if(""==t)this.setState({items:this.props.items});else{var i=new RegExp(t,"i"),n=this.props.items.filter(function(e){return"string"!=typeof e.value?i.test(e.label):i.test(e.value)});this.setState({items:n})}},getShowAll:function(){return this.props.show_all?React.createElement("li",null,React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:0==this.props.checked_items.length,name:"show_all",value:"",onChange:this.clearItems}),React.createElement("span",{className:"label_text"},"Show all"))):null},clearItems:function(){this.props.clear_items(this.props.form_section)},whenClicked:function(e){this.props.when_clicked&&this.props.when_clicked(e)},isChecked:function(e){return this.props.checked_items.indexOf(e)>-1},render:function(){var e=this,t=this.props.form_section;t+=this.state.truncation?" truncated":" expanded";var i=e.props.show_min?e.props.show_min:7;return React.createElement("fieldset",{className:t+" facet_section",id:"form_section_"+e.props.form_section},e.props.filterable?React.createElement("input",{className:"search_field wide filter_"+e.props.form_section,onChange:e.filterCheckboxes,type:"text",placeholder:this.props.placeholder?this.props.placeholder:"filter targets",onKeyUp:this.blurOnEnter}):"",React.createElement("ul",null,this.getShowAll(),e.state.items.map(function(t,n){var s=t.label.split(/[<>]/);return React.createElement("li",{className:"facetitem "+(n>=i?"truncatable ":"")+e.props.checkbox_class,key:e.makeId(t.label),id:e.makeId(t.label)},React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:e.isChecked(t.value),name:e.makeId(t.label),value:t.value,onChange:e.whenClicked}),React.createElement("span",{className:"label_text"},React.createElement("span",null,e.formatText(s[0])),t.targetCount&&e.props.show_count?React.createElement("span",{className:"facetitemcount target_count"},"\t("+(e.props.formatNumber?e.props.formatNumber(t.targetCount):t.targetCount)+")"):""),s.length>1?React.createElement("div",{className:"has_tooltip",title:e.titleize(s[1])}):""))})),this.props.more_less&&this.state.items.length>(this.props.show_min?this.props.show_min:7)?React.createElement("a",{href:"#more-options",className:"truncation_toggle",onClick:e.changeTruncation}):"")}}),CircularDefinitionTeasers=createReactClass({getInitialState:function(){return{detailed_def_visible:!1,active_definition_idx:-1}},getDefinitionsClass:function(){return klass=["definition_teasers",this.props.num_teasers.toString()],this.state.detailed_def_visible&&(console.log("getDefinitionsClass"),klass.push("detailed_def_visible")),klass.join(" ")},closeDetailedDefinition:function(e){e.stopPropagation(),e.preventDefault(),this.setState({detailed_def_visible:!1,active_definition_idx:-1})},clickedDefinition:function(e){console.log("clickedDefinition");var t=parseInt(e.currentTarget.getAttribute("data-idx"));this.setState({detailed_def_visible:!0,active_definition_idx:t})},getNav:function(){var e=this;return React.createElement("ul",{className:"detailed_def_nav"},this.props.items.map(function(t,i){return React.createElement("li",{key:i,className:e.state.active_definition_idx==i?"current":"",onClick:e.clickedDefinition,"data-idx":i},t.title)}))},componentDidMount:function(){window.addEventListener("reset_defs",this.resetDefs)},componentWillUnmount:function(){window.removeEventListener("reset_defs",this.resetDefs)},resetDefs:function(){this.setState({detailed_def_visible:!1,active_definition_idx:-1})},getDetailedDefinitionHtml:function(){var e=this;if(this.state.active_definition_idx>-1){var t=this.props.items[this.state.active_definition_idx];return React.createElement("div",{className:"detailed_definition"},React.createElement("a",{className:"close_button",onClick:e.closeDetailedDefinition},React.createElement("span",{className:"close_icon"})),React.createElement("a",{className:"detailed_def_title",onClick:e.closeDetailedDefinition},this.props.title),this.getNav(),React.createElement("div",{className:"definition_contents",dangerouslySetInnerHTML:{__html:t.body}}))}return""},getMobileDetailedDefinitionHtml:function(e){return e==this.state.active_definition_idx?this.props.items[this.state.active_definition_idx].body:""},getOculusClasses:function(e,t){var i=["definition","oculus"].concat(e);return t==this.state.active_definition_idx&&i.push("current"),i.join(" ")},getDefinitionHtml:function(){var e=this;return React.createElement("div",{className:"circular_definitions"},this.props.items.map(function(t,i){return React.createElement("div",{className:e.getOculusClasses(t.classes,i),key:t.id,onClick:e.clickedDefinition,"data-idx":i},React.createElement("div",{className:"bg_container",style:{backgroundImage:"url("+t.image_src+")"}}),React.createElement("div",{className:"title_container"},React.createElement("h2",{className:"title"},t.title),React.createElement("div",{className:"hover"},t.subtitle)),React.createElement("div",{className:"mobile_detailed_definition"},React.createElement("a",{className:"close_button",onClick:e.closeDetailedDefinition},React.createElement("span",{className:"close_icon"})),React.createElement("h2",{className:"mobile_detailed_definition_title"},t.title),React.createElement("div",{className:"mobile_detailed_definition_contents",dangerouslySetInnerHTML:{__html:e.getMobileDetailedDefinitionHtml(i)}})))}))},render:function(){return React.createElement("div",{className:this.getDefinitionsClass()},this.getDefinitionHtml(),this.getDetailedDefinitionHtml())}}),Countdown=createReactClass({getInitialState:function(){return{countdown_html:"",completed:!1}},componentWillMount:function(){var e=this;setInterval(function(){if(!e.state.completed){var t=new Date(e.props.date),i=e.props.count_up,n=new Date;if(e.props.sols){var s=e.props.sol_0,r=e.props.deg_east,o=utcToMsd(n).toFixed(5),a=daysSinceJ200Epoch(n).toFixed(5),l=Math.floor(o-(360-r)/360-parseInt(s)),c=getMarsParamsOfDate(a),u=getMissionTime(c[4],a,parseFloat(r)),h=hToHMS(u);g="<div class='time_years unit'>"+l+"<span class='time_label'>sols</span></div>",e.setState({countdown_html:g+"<div class='time_hours unit'>"+h[0]+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+h[1]+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+h[2]%60+"<span class='time_label'>secs</span></div></div>"})}else if(n<t||i){var d=Math.abs(t.getTime()-n.getTime());d/=1e3;var p=Math.floor(d%60);d/=60;var f=Math.floor(d%60);d/=60;var m=Math.floor(d%24);d/=24;var g,v=Math.floor(d%365),_=Math.floor(d/365);g=0!=_?"<div class='time_years unit'>"+_+"<span class='time_label'>yrs</span></div><div class='time_days unit'>"+v+"<span class='time_label'>days</span></div>":"<div class='time_days unit'>"+v+"<span class='time_label'>days</span></div>",e.setState({countdown_html:g+"<div class='time_hours unit'>"+e.pad2(m)+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+e.pad2(f)+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+e.pad2(p)+"<span class='time_label'>secs</span></div></div>"})}else e.setState({countdown_html:"<div class='completed'>COMPLETED</div>",completed:!0})}},100)},pad2:function(e){return e<10?"0"+e:e},render:function(){return React.createElement("div",{className:"countdown"},React.createElement("div",{className:"countdown_title"},this.props.title),React.createElement("div",{className:"countdown_time",dangerouslySetInnerHTML:{__html:this.state.countdown_html}}))}}),CountdownLaunch=createReactClass({getInitialState:function(){return{countdown_html:"",completed:!1}},componentWillMount:function(){var e=this;setInterval(function(){if(!e.state.completed){var t=new Date(e.props.date),i=e.props.count_up,n=new Date;if(e.props.sols){var s=e.props.sol_0,r=e.props.deg_east,o=utcToMsd(n).toFixed(5),a=daysSinceJ200Epoch(n).toFixed(5),l=Math.floor(o-(360-r)/360-parseInt(s)),c=getMarsParamsOfDate(a),u=getMissionTime(c[4],a,parseFloat(r)),h=hToHMS(u);p="<div class='time_years unit'>"+l+"<span class='time_label'>sols</span></div>",e.setState({countdown_html:p+"<div class='time_hours unit'>"+h[0]+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+h[1]+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+h[2]%60+"<span class='time_label'>secs</span></div></div>"})}else if(n<t||i){var d=Math.abs(t.getTime()-n.getTime());d/=1e3;Math.floor(d%60);d/=60;Math.floor(d%60);d/=60;Math.floor(d%24);d/=24;var p,f=Math.floor(d%365),m=Math.floor(d/365);p=0!=m?"<div class='time_years'>"+m+"<span class='time_label'>yrs</span></div><div class='time_days'>"+f+"<span class='time_label'>days</span></div>":1==f?"<div class='time_days'>"+f+" Day to Launch</div>":"<div class='time_days'>"+f+" Days to Launch</div>",e.setState({countdown_html:p})}else e.setState({countdown_html:"<div class='completed'>COMPLETED</div>",completed:!0})}},100)},pad2:function(e){return e<10?"0"+e:e},render:function(){return React.createElement("div",{className:"value"},React.createElement("div",{className:"countdown"},React.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.countdown_html}})))}}),DateFilter=createReactClass({initListeners:function(){var e=this.props.datepicker_class,t=this;$("input."+e).datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,showOn:"button",buttonImage:"/assets/calendar_icon.png",buttonImageOnly:!1,buttonText:"calendar",beforeShow:function(i){return $("#ui-datepicker-div").wrap("<div class='datepicker_mask'></div>"),t.attachClickOutsideCloser(),t.onBeforeDatepickerShow(e,i)},onChangeMonthYear:function(e,t,i){setTimeout(function(){var e=$(i).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:function(){$.datepicker._clearDate(i.input)}}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1)},onClose:function(e,i){$("#ui-datepicker-div").unwrap(),""==this.value?this.setAttribute("placeholder",t.props.placeholder):this.setAttribute("placeholder",""),t.props.closeDatePicker&&t.props.closeDatePicker(e,i,this)}})},updateMinMaxValue:function(e){return console.log(e,this.props.min_date,this.props.max_date),{minDate:this.props.min_date,maxDate:this.props.max_date}},onBeforeDatepickerShow:function(e,t){var i=this;return this.props.clear&&setTimeout(function(){var e=$(t).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:i.props.clear}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1),this.updateMinMaxValue(e)},attachClickOutsideCloser:function(){if(this.props.onBlur){var e=this;$(document).off("**").on("click touchstart",function(t){var i=$(t.target);i.hasClass("hasDatepicker")||i.hasClass("ui-datepicker")||i.hasClass("ui-icon")||i.hasClass("ui-datepicker-current")||i.hasClass("ui-datepicker-next")||i.hasClass("ui-datepicker-prev")||$(i).parents(".ui-datepicker").length||($(".hasDatepicker").datepicker("hide"),e.props.onBlur())})}},componentDidMount:function(){this.initListeners(),this.disableKeyboard(mb_utils.mobileAndTabletCheck())},disableKeyboard:function(e){e&&$(".calendar_input_binder input").attr("readonly",!0)},render:function(){return React.createElement("div",{className:"date_option_wrapper"},React.createElement("div",{className:"calendar_input_binder"},React.createElement("label",{className:"preposition"},this.props.preposition),React.createElement("label",{className:"preposition_small"},this.props.preposition_small),React.createElement("input",{className:this.props.datepicker_class,name:this.props.input_name,type:"text",placeholder:""==this.props.date_value?this.props.placeholder:"",value:this.props.date_value,onChange:this.props.changeValue,onKeyPress:this.props.onKeyPress})))}}),DeepZoom=createReactClass({viewer:null,componentDidMount:function(){this.viewer=OpenSeadragon({prefixUrl:"/assets/openseadragon/images/",id:this.props.zoom_id,tileSources:this.props.image_src}),$("body").on("fullscreenchange",function(){setTimeout(function(){$(".openseadragon").first().hasClass("fullpage")?$("div[title^='Toggle'] img").each(function(){var e=$(this).attr("src");$(this).attr("src",e.replace(/([^\/]+)$/,"esc$1"))}):$("div[title^='Toggle'] img").each(function(){var e=$(this).attr("src");$(this).attr("src",e.replace("esc",""))})},50)})},componentWillUnmount:function(){this.viewer.removeAll()},render:function(){return React.createElement("div",{className:"deepzoom_container"},React.createElement("div",{id:this.props.zoom_id,className:"openseadragon",style:{height:this.props.height}}),this.props.title?React.createElement("h2",{className:"featured_map_title",dangerouslySetInnerHTML:{__html:this.props.title}}):null,this.props.caption?React.createElement("div",{className:"deepzoom_caption",dangerouslySetInnerHTML:{__html:this.props.caption}}):null)}}),DistanceTraveledDashboard=createReactClass({getInitialState:function(){return{miles:null,km:null}},componentWillMount:function(){var e=this;$.getJSON("/api/v1/missions/"+this.props.id,function(t){var i=t.mi_traveled,n=1.60934*i;e.setState({miles:i,km:n})})},render:function(){return null!=this.state.miles?React.createElement("div",{className:"value"},this.state.miles.toFixed(2)," miles (",this.state.km.toFixed(2)," km)"):null}}),DsnStatus=createReactClass({get_data_interval:null,getInitialState:function(){return{frequency:this.props.frequency?this.props.frequency:15e3,targets:this.props.targets?this.props.targets:[],received_data:!1}},componentDidMount:function(){this.getData();var e=this;this.get_data_interval=setInterval(function(){e.getData()},this.state.frequency)},componentWillUnmount:function(){console.log("UNMOUNT"),this.stopGettingData()},stopGettingData:function(){clearInterval(this.get_data_interval)},getData:function(){var e=this,t=$("#vital_signs_modal");0==t.length||t.hasClass("visible")?$.ajax("/dsn_passthru/",{dataType:"xml"}).success(function(t){e.onReceiveData(t)}).error(function(e,t,i){console.log("DsnStatus.getData error",i)}):this.stopGettingData()},onReceiveData:function(t){var i=$(t),n=this.state.targets;$.each(this.state.targets,function(t,s){try{var r=i.find("downSignal[spacecraft="+s.short_name+"]"),o=i.find("upSignal[spacecraft="+s.short_name+"]");r.length>0&&o.length>0?n[t].status="sending_receiving":r.length>0?n[t].status="receiving":o.length>0?n[t].status="sending":n[t].status="disconnected"}catch(e){console.error("ERROR DsnStatus.onReceiveData",e.message)}}),this.setState({targets:n,received_data:!0})},getSignalHtml:function(){return this.state.received_data?this.state.targets.map(function(e){return React.createElement("div",{className:"signal",key:e.short_name},React.createElement("span",{className:e.status},React.createElement("div",{className:"dsn_icon"}),React.createElement("div",{className:"target_name"})))}):React.createElement("div",{className:"loader"},"loading...")},render:function(){return 0===this.props.info_tip.length?info_tip="":info_tip=React.createElement(InfoTip,{tip_text:this.props.info_tip}),React.createElement("div",{className:"dsn_connection"},React.createElement("header",null,React.createElement("h3",{className:"dsn_title"},this.props.title),info_tip),React.createElement("div",{className:"signals description"},this.getSignalHtml()))}}),EventListItem=createReactClass({dateRange:function(e,t){var i=["January","February","March","April","May","June","July","August","September","October","November","December"];e=new Date(Date.parse(e)),t=new Date(Date.parse(t));return(e=i[e.getUTCMonth()]+" "+e.getUTCDate()+", "+e.getUTCFullYear())==(t=i[t.getUTCMonth()]+" "+t.getUTCDate()+", "+t.getUTCFullYear())?e:e+" - "+t},render:function(){var e=this.props.item,t=e.link;if(this.props.options.url_prefix&&t.indexOf("//")<0&&(t=this.props.options.url_prefix+t),this.props.options.url_suffix){var i=this.props.options.url_suffix;i.indexOf("?")&&t.indexOf("?")?t+=i.replace("?","&"):t+=i}return React.createElement("div",{className:"list_content"},React.createElement("div",{className:"list_text"},React.createElement("div",{className:"date"},this.dateRange(e.start_date,e.end_date)),React.createElement("h3",{className:"list_title"},React.createElement("a",{href:t,target:"_self"},e.title)),React.createElement("p",null,React.createElement("strong",null,"Location: "),e.location),React.createElement("a",{className:"list_link",href:t,target:"_self"},"\u203a\u203a view details")))}}),EventsByCity=createReactClass({viewer:null,getInitialState:function(){var e=this.props.items;return{sorted_items:this.sortItems(e),items:e}},componentWillReceiveProps:function(e){e.items!==this.state.items&&this.setState({sorted_items:this.sortItems(e.items),items:e.items})},componentDidMount:function(){this.testPos()},states:[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]],sortItems:function(e){var t=this,i=[];return e.map(function(e){var n=e.start_date,s=[];if(i.forEach(function(e){e.title==n&&(s=e.items)}),s.length>0)!function(){var i=t.sectionTitle(e),n=[];s.forEach(function(e){e.title==i&&(n=e.items)});var r=t.getSortFor(e);if(n.length>0)n.push(e);else{var o=t.findPositionFor(r,i,e.city,s);s.splice(o,0,{title:i,sort:r,items:[e]})}}();else{var r=t.getPositionForDate(e.sort_date,i);i.splice(r,0,{title:n,sort_date:e.sort_date,items:[{title:t.sectionTitle(e),sort:t.getSortFor(e),items:[e]}]})}}),i},getPositionForDate:function(e,t){for(var i=t.length,n=0;n<t.length;n++){t[n];if(t.sort_date>e){i=n;break}}return i},findPositionFor:function(e,t,i,n){for(var s=n.length,r=0;r<n.length;r++){var o=n[r];if(o.sort<e);else{if(o.sort!=e){s=r;break}if(o.title>t){s=r;break}if(o.title==t&&o.city>i){s=r;break}}}return s},testPos:function(){},getSortFor:function(e){return null!==e.country&&"mars"==e.country.toLowerCase()?0:null!==e.country&&"United States of America (USA)"==e.country?1:2},convertStateAbbr:function(e){var t=this.states.filter(function(t){return t[1]==e});return t.length>0?t[0][0]:e},sectionTitle:function(e){return"United States of America (USA)"==e.country?this.convertStateAbbr(e.state):e.country},dateRange:function(e,t){return e==t?e:e+" - "+t},getUrl:function(e){var t=e.link;if(this.props.options.url_prefix&&t.indexOf("//")<0&&(t=this.props.options.url_prefix+t),this.props.options.url_suffix){var i=this.props.options.url_suffix;i.indexOf("?")&&t.indexOf("?")?t+=i.replace("?","&"):t+=i}return t},getCategoryTitle:function(e){return e.category_titles&&e.category_titles.length>0?React.createElement("div",{className:"category"},e.category_titles[0]):null},getItemImage:function(e){return e.thumb_src?React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.thumb_src,alt:e.main_image_alt})):null},hasImage:function(e){return e.thumb_src?"":"no_float"},getListItemHtml:function(e,t){return React.createElement("li",{key:"li_"+t,className:"slide"},React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:this.getUrl(e),target:e.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},e.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),this.getItemImage(e),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text "+this.hasImage(e)},this.getCategoryTitle(e),React.createElement("div",{className:"date"},this.dateRange(e.start_date,e.end_date)),React.createElement("h3",{className:"list_title"},React.createElement("a",{href:this.getUrl(e),target:e.target},e.title)),React.createElement("p",null,React.createElement("span",null,"Location:")," ",e.location),React.createElement("a",{className:"list_link",href:this.getUrl(e),target:e.target},"Details \u203a"))))},render:function(){var e=this;return React.createElement("div",{className:"event_list_by_location"},this.state.sorted_items.map(function(t,i){return React.createElement("div",{className:"date_section",key:"d_"+i},React.createElement("div",{className:"date_title"},t.title),t.items.map(function(t,i){return React.createElement("div",{className:"country_section",key:"c_"+i},React.createElement("div",{className:"country_title"},t.title),React.createElement("ul",{className:"item_list list_view"},t.items.map(function(t,i){return e.getListItemHtml(t,i)})))}))}))}}),FlickrGallery=createReactClass({getInitialState:function(){return this.defaultProps={},this.defaultProps.api_url="",this.defaultProps.api_key="e999bf30762f741cf54a81b2f103b680",this.defaultProps.retreival_type="",this.defaultProps.retreival_id="72157662415118206",this.defaultProps.title="",this.defaultProps.per_page=500,{}},render:function(){var e="undefined"!=this.props.api_url?this.props.api_url:this.defaultProps.api_url,t="undefined"!=this.props.api_key?this.props.api_key:this.defaultProps.api_key,i="undefined"!=this.props.retreival_type?this.props.retreival_type:this.defaultProps.retreival_type,n="undefined"!=this.props.retreival_id?this.props.retreival_id:this.defaultProps.retreival_id,s="undefined"!=this.props.title?this.props.title:this.defaultProps.title,r="undefined"!=this.props.per_page?this.props.per_page:this.defaultProps.per_page;return"group"==i?e="https://api.flickr.com/services/rest/?method=flickr.groups.pools.getPhotos&api_key="+t+"&group_id="+n+"&per_page="+r+"&format=json&nojsoncallback=1":"photoset"==i&&(e="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+t+"&photoset_id="+n+"&per_page="+r+"&format=json&nojsoncallback=1"),React.createElement(PhotoGallery,{title:s,api_url:e,per_page:r})}}),GridListPage=createReactClass({getInitialState:function(){return{grid_list_view:this.props.default_view}},componentDidMount:function(){var e=this;$("body").on("show_list_view",function(){e.setState({grid_list_view:"list_view"})}),$("body").on("show_grid_view",function(){e.setState({grid_list_view:"grid_view"})})},render:function(){return React.createElement("section",{className:"grid_gallery module "+this.state.grid_list_view},React.createElement(GridList,this.props))}}),GridList=createReactClass({filters:null,getInitialState:function(){console.log("MARS gridlist page");var e=this.props.title,t=this;if(this.props.filters){this.filters=JSON.parse(this.props.filters);var i=this.filters.filter(function(e){return""!=e[2][1]}).map(function(e){return{name:e[0],value:e[2][1]}})}else i=[];this.filters&&this.filters.map(function(e){console.log("checking param",e[0]);var n=null,s=mb_utils.getParam(e[0]);if(s&&""!=s)n=s;else if(/^scope/.test(e[0])){t.getRegexParam(/^condition_\d+=1(%3A|:)featured/).length>0&&(n="featured")}else if(/^date/.test(e[0])){var r;if("publications"==t.props.model){if((r=t.getRegexParam(/^condition_\d+=\d+(%3A|:)publication_year/)).length>0){var o=r[0].match(/^condition_\d+=(\d+)(%3A|:)publication_year/);n=o?o[1]:null}}else if((r=mb_utils.getParam("year"))&&r.length>0){var a="events"==t.props.model?/^(\d+)(%3A|:)start_date/:/^(\d+)(%3A|:)publish_date/;o=Array.isArray(r)?r[0].match(a):r.match(a);n=o?o[1]:null}}else if(/^field/.test(e[0])){var l=e[0].match(/^field_(.+)/)[1],c=t.getRegexParam(l);if(c.length>0){o=c[0].match("condition_\\d+=(.+)(%3A|:)"+l);n=o?o[1]:null}}else if(/^tag/.test(e[0])){var u=mb_utils.getParam("tags");if(u&&u.length>0){var h=Array.isArray(u)?u[0].replace(/\+/g," ").split(","):u.replace(/\+/g," ").split(","),d=e[1].map(function(e){return e[1]}).filter(function(e){return-1!==h.indexOf(e)});d.length>0&&(n=d[0])}}else{var p=mb_utils.getParam("category");if(p&&p.length>0){var f=(p=Array.isArray(p)?p[0]:p).split(":"),m=e[1].map(function(e){return e[1].toString()}).filter(function(e){return-1!==f.indexOf(e)});m.length>1&&console.log("Multiple candidate categories found...setting to first option"),m.length>0&&(n=m[0])}}if(n&&""!=n){console.log("found param",n);var g=!1;i.map(function(t){t.name==e[0]&&(g=!0,t.value=Array.isArray(n)?n[0]:n)}),g||i.push({name:e[0],value:Array.isArray(n)?n[0]:n})}});var n=mb_utils.getParam("search");return{items:[],page:0,per_page:this.props.per_page?this.props.per_page:40,total:0,order:this.props.order?this.props.order:"created_at desc",title:e,filtering:i,searching:n?n[0]:"",first_load:!0}},componentWillMount:function(){this.getData(!1,main.initListeners)},getRegexParam:function(e){return location.search.substr(1).split("&").filter(function(t){return new RegExp(e).test(t)})},getData:function(e,t){var i=this,n={page:e?this.state.page+1:0,per_page:this.state.per_page,order:this.state.order,search:this.state.searching};$.extend(n,this.getConditions()),$.extend(n,this.getFilters()),$.extend(n,this.props.options),this.setSessionStore(n),mb_utils.createCookie(this.props.model+"_gl"+location.pathname.replace(/\/$/,"").replace(/\//g,"_"),$.param(n),1/24),window.history.replaceState(n,null,"?"+$.param(n)),$.ajax({url:"/api/v1/"+i.props.model+"/",data:n,method:"GET",dataType:"json",success:function(n){console.log("Got items successfully.... "),e?i.setState({items:i.state.items.concat(n.items),total:n.total,per_page:n.per_page,page:n.page,first_load:!1}):(n.first_load=!1,i.setState(n)),"function"==typeof t&&t.call()}.bind(this),error:function(e,t,i){console.error(t,i.toString())}.bind(this)})},getMore:function(e){e.preventDefault(),this.getData(!0)},getConditions:function(){var e=this.props.conditions,t={};return e&&void 0!==e&&$.each(e,function(e,i){t["condition_"+(e+1)]=i.value+":"+i.name}),t},getOptions:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}},setSessionStore:function(e){"undefined"!=typeof Storage?sessionStorage[this.props.model]=JSON.stringify(e):console.error("No web storage.")},getFilters:function(){var e=this,t=this.state.filtering,i={},n=e.props.categories?e.props.categories.slice():[],s=this.getTags(),r=e.props.conditions?e.props.conditions.length+1:1;return $.each(t,function(t,o){if(console.log("param "+o.name+": "+o.value),""!=o.value)if("date"==o.name)if("publications"==e.props.model)i["condition_"+r]=o.value+":publication_year",r+=1;else if("events"==e.props.model)if("upcoming"==o.value){var a=new Date;i["condition_"+r]=a.getFullYear().toString()+"-"+(a.getMonth()+1).toString()+"-"+a.getDate().toString()+":end_date:gte",r+=1}else if("past"==o.value){a=new Date;i["condition_"+r]=a.getFullYear().toString()+"-"+(a.getMonth()+1).toString()+"-"+a.getDate().toString()+":end_date:lte",r+=1}else i.year=o.value+":start_date";else i.year=o.value+":publish_date";else if("scope"==o.name&&"featured"==o.value.toLowerCase())i["condition_"+r]="1:featured",r+=1;else if("scope"==o.name&&"all"==o.value.toLowerCase());else if(/^field/.test(o.name)){var l=o.name.match(/^field_(.+)/)[1];i["condition_"+r]=o.value+":"+l,r+=1}else/^tag/.test(o.name)?(s.length>0&&(s+=","),s=o.value):n.push(o.value)}),n.length>0&&(i.category=n.join(":")),s.length>0&&(i.tags=s),i},getTags:function(){var e=this.getOptions();return e&&e.tags?e.tags:""},getBlankScope:function(){var e=this.getOptions();return e&&e.blank_scope?e.blank_scope:"All"},getOptionName:function(e,t){var i=this.filters.find(function(t){return t[0]==e});if(void 0===i)return"";var n=i[1].slice();return n.unshift(i[2]),n.find(function(e){return 2==e.length?e[1].toString()==t:e[0].toString()==t})[0]},getTitleFromParams:function(e){var t=this.props.title,i=this;if(this.filters){var n="",s=t,r="",o="",a="";$.each(e,function(e,t){""!=t.value&&("type"==t.name||"category"==t.name?s=i.getOptionName(t.name,t.value):"scope"==t.name?n=i.getOptionName(t.name,t.value):"topic"==t.name?o=i.getOptionName(t.name,t.value):"date"==t.name?"upcoming"!=t.value&&(r="in "+t.value):"search"==t.name&&(a="matching '"+t.value+"'"))}),this.state&&""!=this.state.searching&&(a="matching '"+this.state.searching+"'"),this.props.scope_in_title&&""==n&&""==o&&""==r&&""==a&&(n=this.getBlankScope()),t=[n,o,s,r,a].filter(function(e){return""!=e}).join(" ")}return t},applySearch:function(e,t){this.setState({searching:e.target.value},function(){t&&t.call()})},clearSearch:function(){this.setState({searching:""},function(){this.getData(!1)})},setSearch:function(){this.setState({title:this.getTitleFromParams(this.state.filtering)},this.getData(!1))},applyFilters:function(e){e.preventDefault(),e.stopPropagation();var t,i,n=this.state.filtering;$(e.currentTarget).is("a")?(t=$(e.currentTarget).data("for-select"),i=$(e.currentTarget).data("select-val")):(t=e.target.name,i=e.target.value);var s=n.findIndex(function(e){return e.name==t});-1==s?n.push({name:t,value:i}):n[s].value=i,console.log("FORM PARAMS: ",n),this.setState({filtering:n,title:this.getTitleFromParams(n)},function(){console.log("FILTERING: ",this.state.filtering),this.getData(!1)})},getCorrectTitle:function(e){return this.props.results_in_title?this.getTitle(e,this.state.title):this.getTitle(e,this.props.title)},getTitle:function(e,t){return t?React.createElement("h2",{className:e},t):""},renderHeader:function(){return this.props.title_below_filters?React.createElement("header",{className:"gallery_header left_align"},this.renderFilters(),this.getCorrectTitle(""),this.props.view_toggle?React.createElement(ViewToggle,null):""):React.createElement("header",{className:"gallery_header"},this.getCorrectTitle("module_title"),this.renderFilters(),this.props.view_toggle?React.createElement(ViewToggle,null):"")},renderFilters:function(){var e=this.getOptions();if(this.filters||this.props.search)return React.createElement(FilterBar,{select_boxes:this.filters,search:this.props.search,placeholder:e.placeholder,changeFilters:this.applyFilters,changeSearch:this.setSearch,clearSearch:this.clearSearch,filtering:this.state.filtering,searching:this.state.searching,searchFn:this.applySearch})},renderItemList:function(){var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.",t=this,i=window[t.props.list_item+"ListItem"];if(this.props.options&&this.props.options.special_list&&this.state.items.length>0){var n=window[t.props.options.special_list];return React.createElement("div",{className:"special_list"},React.createElement(n,{items:this.state.items,options:t.getOptions()}))}return this.state.items.length>0?React.createElement("ul",{className:"item_list "+t.props.class_name+(t.props.left_column?" "+t.props.default_view:"")
},t.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide"},React.createElement(i,{item:e,options:t.getOptions()}))})):this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)},renderMoreButton:function(){var e=this.getOptions();if((this.state.page+1)*this.state.per_page<this.state.total)return React.createElement("footer",{className:"list_footer more_button"},React.createElement("div",{className:"loading"}),React.createElement("a",{className:e.button_class?e.button_class:"button",type:"button",href:"#",onClick:this.getMore},"More"))},render:function(){return React.createElement("div",{className:this.props.left_column?"":"grid_layout"},this.renderHeader(),this.renderItemList(),this.renderMoreButton())}}),HomepageCountdown=createReactClass({getInitialState:function(){return{countdown_html:"",button_html:"",completed:!1}},componentWillMount:function(){var e=this;console.log(e),setInterval(function(){if(!e.state.completed){var t=new Date(e.props.date),i=e.props.count_up,n=new Date;if(e.props.sols){var s=e.props.sol_0,r=e.props.deg_east,o=utcToMsd(n).toFixed(5),a=daysSinceJ200Epoch(n).toFixed(5),l=Math.floor(o-(360-r)/360-parseInt(s)),c=getMarsParamsOfDate(a),u=getMissionTime(c[4],a,parseFloat(r)),h=hToHMS(u);g="<div class='time_years unit'>"+l+"<span class='time_label'>sols</span></div>",e.setState({countdown_html:g+"<div class='time_hours unit'>"+h[0]+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+h[1]+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+h[2]%60+"<span class='time_label'>secs</span></div></div>"})}else if(n<t||i){var d=Math.abs(t.getTime()-n.getTime());d/=1e3;var p=Math.floor(d%60);d/=60;var f=Math.floor(d%60);d/=60;var m=Math.floor(d%24);d/=24;var g,v=Math.floor(d%365),_=Math.floor(d/365);g=0!=_?"<div class='time_years unit'>"+_+"<span class='time_label'>yrs</span></div><div class='time_days unit'>"+v+"<span class='time_label'>days</span></div>":"<div class='time_days unit'>"+v+"<span class='time_label'>days</span></div>",e.setState({countdown_html:g+"<div class='time_hours unit'>"+e.pad2(m)+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+e.pad2(f)+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+e.pad2(p)+"<span class='time_label'>secs</span></div></div>"}),""!=e.props.link&""!=e.props.link_text&&e.setState({button_html:"<div class='button_link'><a class='button' href="+e.props.link+" target="+e.props.target+">"+e.props.link_text+"</a></div>"})}else e.setState({countdown_html:"<div class='completed'> </div>",completed:!0}),""!=e.props.link&""!=e.props.link_text&&e.setState({button_html:"<div class='button_link'><a class='button' href="+e.props.link+" target="+e.props.target+">"+e.props.link_text+"</a></div>"})}},100)},pad2:function(e){return e<10?"0"+e:e},render:function(){return React.createElement("div",{className:"countdown"},React.createElement("div",{className:"countdown_time",dangerouslySetInnerHTML:{__html:this.state.countdown_html}}))}}),HomepageDashboard=createReactClass({getInitialState:function(){return{items:this.props.items?this.props.items:[]}},render:function(){return React.createElement("ul",null,this.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide vsoverlay","data-overlay-page":e.link,id:"dashboard_"+e.title.toLowerCase()},React.createElement("a",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"text_container"},React.createElement("div",{className:"title"},e.title),React.createElement("div",{className:"subtitle"},e.subtitle)),React.createElement("div",{className:"overlay_icon"}))))}))}}),ImageCarousel=createReactClass({carousel:null,getInitialState:function(){return{idx:0}},componentDidMount:function(){var e=this;this.carousel=new MasterSlider,this.props.show_numbers||this.carousel.control("bullets",{autohide:!1}),this.carousel.control("arrows");var t={width:$(window).width(),height:400,layout:"autofill",space:5,fullwidth:!0,autoHeight:!1,autoplay:!1,speed:20,loop:!0,instantStartLayers:!0};this.carousel.setup(this.props.carousel_id,t),this.carousel.api.addEventListener(MSSliderEvent.CHANGE_START,function(){e.setState({idx:e.carousel.api.index()})}),$(window).resize()},componentWillUnmount:function(){this.carousel.slick("unslick")},buildSlide:function(e,t){var i="slide "+(t+1)+" - "+(""!=e.image_alt?e.image_alt:e.title),n="undefined"!=typeof e.theme?e.theme:"dark_background";return React.createElement("article",{className:"ms-slide "+n,key:t},React.createElement("div",{className:"gradient_container_top"}),React.createElement("img",{alt:i,"data-src":e.image_src,src:e.image_src}),React.createElement("div",{className:"gradient_container_bottom"}))},getSlideInfo:function(e){return this.props.slides[this.state.idx][e]},getSlideLink:function(){var e=this.props.slides[this.state.idx];if(e.link){var t=""!=e.link_text?e.link_text:"\u203a Full image and caption";return React.createElement("a",{href:e.link,target:e.target},t)}return null},getXofy:function(){return this.state.idx+1+"/"+this.props.slides.length},render:function(){this.props.slides;var e=this;return React.createElement("div",null,React.createElement("div",{id:this.props.carousel_id,className:"master-slider ms-skin-default"},this.props.slides.map(function(t,i){return e.buildSlide(t,i)})),React.createElement("div",{className:"image_carousel_caption"},this.props.show_numbers?React.createElement("div",{className:"x_of_y"},this.getXofy()):null,React.createElement("div",{className:"slider_title"},this.getSlideInfo("title")),React.createElement("span",{className:"slider_caption",dangerouslySetInnerHTML:{__html:this.getSlideInfo("body")}}),React.createElement("span",{className:"slider_link"},this.getSlideLink())))}}),ImageMagnify=createReactClass({getInitialState:function(){return{modal_open:!1}},openModal:function(){this.setState({modal_open:!0})},closeModal:function(e){console.log("close?"),e.stopPropagation(),this.setState({modal_open:!1})},render:function(){var e=this,t={position:"fixed"},i={position:"fixed"};return React.createElement("div",{className:"image_enlarge"},React.createElement("img",{src:this.props.src,onClick:this.openModal,style:{cursor:"pointer"}}),React.createElement("div",{className:"enlarge_icon",onClick:this.openModal,style:{cursor:"pointer"}}),React.createElement(Modal,{isOpen:this.state.modal_open,onRequestClose:e.closeModal,style:t,backdropStyle:i,className:"panel modal"},React.createElement("div",{className:"modal_contents"},React.createElement("div",{className:"close_btn",onClick:e.closeModal},React.createElement("div",{className:"icon"})),React.createElement("img",{src:this.props.src}))))}}),InfoTabs=createReactClass({getInitialState:function(){return{tabs:this.props.tabs?this.props.tabs:[],active_idx:0,expanded:!1,truncated_length:this.props.truncated_length?this.props.truncated_length:250}},selectTab:function(e){var t=e.currentTarget.getAttribute("data-idx");this.setState({active_idx:t,expanded:!1},function(){$("#info_tabs_detail").parent().scrollTop(0)})},activeTab:function(){return this.props.tabs[this.state.active_idx]},getBody:function(){var e=this.activeTab().body;return e.length<=this.state.truncated_length?e:this.state.expanded?e:e.substring(0,this.state.truncated_length)},toggleTruncation:function(){this.state.expanded?this.setState({expanded:!1}):this.setState({expanded:!0})},moreLessHtml:function(){return this.activeTab().body.length<=this.state.truncated_length?"":React.createElement("a",{className:this.state.expanded?"less_option":"more_option",onClick:this.toggleTruncation})},getTabHtml:function(e,t){var i=this;return this.state.active_idx==t?React.createElement("div",null,React.createElement("div",{className:"info_tabs_link active",onClick:i.selectTab,"data-idx":t},React.createElement("div",{className:"tab_title"},e.title),React.createElement("div",{className:"wysiwyg_content"},React.createElement("div",{className:"mobile_tab_detail minimize",dangerouslySetInnerHTML:{__html:i.getBody()}}))),this.moreLessHtml()):React.createElement("div",{className:"info_tabs_link",onClick:i.selectTab,"data-idx":t},React.createElement("div",{className:"tab_title"},e.title))},render:function(){var e=this;return React.createElement("div",{className:"info_tabs module"},React.createElement("div",{className:"grid_layout"},React.createElement("div",{className:"col1"},React.createElement("header",{className:"info_tabs_header"},React.createElement("h2",null,this.props.title)),React.createElement("div",{className:"info_tabs_links"},React.createElement("ul",{id:"info_tabs_nav"},this.state.tabs.map(function(t,i){return React.createElement("li",{key:i},e.getTabHtml(t,i))})))),React.createElement("div",{className:"col2"},React.createElement("div",{className:"wysiwyg_content"},React.createElement("div",{className:"info_tabs_detail"},React.createElement("h3",{className:"info_tabs_title"},this.activeTab().title),React.createElement("div",{className:"info_tabs_content",id:"info_tabs_detail",dangerouslySetInnerHTML:{__html:this.activeTab().body}}))))),React.createElement("div",{className:"gradient_container_bottom"}),React.createElement("footer",null,React.createElement("a",{className:"more_link",href:this.props.more_link,target:this.props.more_link_target},"More about the program \u203a")))}}),InfoTip=createReactClass({getInitialState:function(){return{info_panel_open:!1}},showInfoText:function(){this.setState({info_panel_open:!0})},hideInfoText:function(){this.setState({info_panel_open:!1})},toggleInfoText:function(){this.setState({info_panel_open:!this.state.info_panel_open})},render:function(){return React.createElement("span",{className:"no_wrap"},"\xa0",React.createElement("span",{className:this.state.info_panel_open?"info_tip open":"info_tip",onMouseEnter:this.showInfoText,onMouseLeave:this.hideInfoText,onClick:this.toggleInfoText},React.createElement("div",{className:"info_icon"},React.createElement("svg",{height:"19",viewBox:"0 0 19 19",width:"19"},React.createElement("g",{fill:"none",transform:""},React.createElement("circle",{cx:"9.5",cy:"9.5",fill:"#eaeaea",r:"9.5"}),React.createElement("path",{className:"inner_icon",d:"m10.664 7.028c-.588 0-.996-.432-.996-.972 0-.648.576-1.164 1.176-1.164.552 0 .96.444.96.984 0 .612-.552 1.152-1.14 1.152zm-2.604 6.972 1.296-6.204h2.028l-1.296 6.204z",fill:"#aeaaab"})))),React.createElement("div",{className:"info_text"},this.props.tip_text)))}}),MapEventsViaGoogle=createReactClass({filters:null,getInitialState:function(){return{items:[],total:0,locations:[],map:null,infowindow:null,first_load:!0}},componentDidMount:function(){window.initMap=this.initMap,loadJS("https://maps.googleapis.com/maps/api/js?key=AIzaSyBhUMiIBs8syDQI0AAErZi7WioU0yQ_zYg&callback=initMap")},initMap:function(){var e=this,t=new google.maps.Map(document.getElementById("map_events_via_google"),{zoom:this.props.map_options.zoom,mapTypeId:this.props.map_options.map_type_id,center:new google.maps.LatLng(this.props.map_options.map_center_x,this.props.map_options.map_center_y)});this.setState({map:t},function(){e.getData(!1,e.getLocations)})},getData:function(e,t){var i=this,n={per_page:this.props.options.per_page,order:this.props.options.order,search:this.props.options.searching};$.extend(n,this.props.options),$.ajax({url:this.props.options.api_url,data:n,method:"GET",dataType:"json",success:function(e){console.log("Got items successfully.... "),e.first_load=!1,i.setState(e),"function"==typeof t&&t.call()}.bind(this),complete:function(){i.plotLocations()},error:function(e,t,i){console.error(t,i.toString())}.bind(this)})},getLocations:function(){for(var e=this,t=[],i=0;i<e.state.items.length;i++){var n=e.state.items[i];""!==n.lat&&""!==n.lng&&t.push([n.title,n.lat,n.lng,n.zip_code,n.start_date,n.start_time,n.address,n.city,n.state,n.country,n.location,n.link,n.registration_status,n.body])}e.setState({locations:t})},plotLocations:function(){console.log("PLOT LOCATIONS");var e=this,t=e.state.locations,i=[];if(this.props.map_options.bound_by_markers)var n=new google.maps.LatLngBounds;var s,r,o=new google.maps.InfoWindow,a="/assets/map_marker_blue.png",l="/assets/map_marker_white.png";for(r=0;r<t.length;r++){console.log(t[r][4]);var c=new Date>Date.parse(t[r][4])?l:a,u=new google.maps.LatLng(t[r][1],t[r][2]);s=new google.maps.Marker({position:u,map:e.state.map,icon:c}),e.props.map_options.map_clustering&&i.push(s),this.props.map_options.bound_by_markers&&n.extend(u),google.maps.event.addListener(s,"click",function(i,n){return function(){var s=t[n],r='\n\t\t\t\t\t\t<div class="map_info_window">\n\t\t\t\t\t\t\t<p class="title">'+s[0]+'</p>\n\t\t\t\t\t\t\t<p class="body">'+s[13]+"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t";o.setContent(r),o.open(e.state.map,i),o.setZIndex(999)}}(s,r))}if(e.props.map_options.map_clustering)new MarkerClusterer(e.state.map,i,{imagePath:"/assets/markerclusterer/m"});this.props.map_options.bound_by_markers&&e.state.map.fitBounds(n)},addClicker:function(e,t){var i=this;google.maps.event.addListener(e,"click",function(){i.state.infowindow&&i.state.infowindow.close(),i.state.infowindow=new google.maps.InfoWindow({content:t}),i.state.infowindow.open(i.state.map,e)})},getTitle:function(){return""!=this.props.title?React.createElement("header",{className:"map_header"},React.createElement("h2",{className:"module_title"},this.props.title)):void 0},render:function(){return React.createElement("div",null,this.getTitle(),React.createElement("div",{className:"responsive_image","data-aspect-ratio":"3/2"},React.createElement("div",{id:"map_events_via_google",className:"responsive_image__element"})))}}),MarsFactCard=createReactClass({getInitialState:function(){return{units:"eng",show_units:!1}},showUnits:function(){this.setState({show_units:!0})},hideUnits:function(){this.setState({show_units:!1})},changeUnits:function(e){this.setState({units:e})},auDescription:function(){return this.props.item.facts[0].mars.au?React.createElement("div",{className:"ancilla"},"Note: An AU is an astronomical unit. In simple terms, 1 AU is the average distance between the Sun and Earth."):null},unitSelect:function(e,t,i){var n=this;return e[t]?React.createElement("div",{className:"unit_selector "+(t==this.state.units?"current":""),onClick:function(){n.changeUnits(t)}},i):null},getFactSelectors:function(){var e=this.props.item.facts[0].mars;return React.createElement("div",null,this.unitSelect(e,"metric","Metric"),this.unitSelect(e,"eng","English"),this.unitSelect(e,"sci","Scientific Notation"),this.unitSelect(e,"au","Astronomical Units (AU)"),this.auDescription())},getUnitsHtml:function(){return this.props.item.facts?React.createElement("div",{className:"tools",onMouseEnter:this.showUnits,onMouseLeave:this.hideUnits},React.createElement("div",{className:"icon_text_button"},React.createElement("span",{className:"text"},"UNITS"),React.createElement("div",{href:"#",className:"icon"},React.createElement("span",{className:"gear"},React.createElement(SvgIcon,{symbol:"gear"})))),React.createElement("div",{className:"units_container "+(this.state.show_units?"open":"")},this.getFactSelectors()),React.createElement("div",{className:"units_tooltip_border "+(this.state.show_units?"open":"")}),React.createElement("div",{className:"units_tooltip "+(this.state.show_units?"open":"")})):null},getHighlight:function(){return this.props.item.highlight_fact?React.createElement("div",{className:"highlight_fact"},this.props.item.highlight_fact):null},getDescription:function(){return this.props.item.description?React.createElement("div",{className:"description"},this.props.item.description):null},getDYK:function(){return this.props.item.did_you_know?React.createElement("div",{className:"dyk"},React.createElement("div",{className:"dyk_title"},"Did you know...?"),React.createElement("div",{className:"dyk_content",dangerouslySetInnerHTML:{__html:this.props.item.did_you_know}})):null},getFactsOrTable:function(){if(this.props.item.facts)return React.createElement("div",{className:"columns"},React.createElement("div",{className:"col mars"},React.createElement("div",{className:"column_title"},"MARS"),React.createElement("div",{className:"fact"},this.props.item.facts[0].mars[this.state.units])),React.createElement("div",{className:"col earth"},React.createElement("div",{className:"column_title"},"EARTH"),React.createElement("div",{className:"fact"},this.props.item.facts[0].earth[this.state.units])));if(this.props.item.fact_table){return React.createElement("table",{className:"fact_table"},React.createElement("tbody",null,this.props.item.fact_table.map(function(e,t){return React.createElement("tr",{key:"tr_"+t},e.map(function(e,t){return React.createElement("td",{key:"td_"+t},e)}))})))}return console.log("getFactsOrTable::unexpected state"),null},getCloser:function(){return this.props.item.facts&&this.state.show_units?React.createElement("div",{className:"unit_close",onClick:this.hideUnits}):null},render:function(){return React.createElement("div",{className:"statement"},this.getCloser(),React.createElement("div",{className:"premise"},React.createElement("div",{className:"image_container"},React.createElement("img",{src:this.props.item.image})),React.createElement("h3",null,this.props.item.title),React.createElement("div",{className:"description"},this.props.item.description),React.createElement("div",{className:"tooltip"})),React.createElement("div",{className:"conclusion"},this.getUnitsHtml(),this.getHighlight(),this.getDescription(),this.getFactsOrTable(),this.getDYK()))}}),MarsFactDetail=createReactClass({getInitialState:function(){return{quick:!0}},showQuick:function(){this.setState({quick:!0})},showDetailed:function(){this.setState({quick:!1})},getDivIfExist:function(e,t){return"undefined"!=typeof e[t]?React.createElement("div",{className:t},e[t]):null},getQuickFacts:function(e){return React.createElement("div",{className:"columns"},React.createElement("div",{className:"col mars"},React.createElement("div",{className:"column_title"},"MARS"),React.createElement("div",{className:"fact"},e.facts[0].mars.eng)),React.createElement("div",{className:"col earth"},React.createElement("div",{className:"column_title"},"EARTH"),React.createElement("div",{className:"fact"},e.facts[0].earth.eng)))},closeImageModal:function(){},getQuickHtml:function(){var e=this.props.fact.quick;return React.createElement("div",{className:"quick_facts"},React.createElement("div",{className:"image_container"},React.createElement(ImageMagnify,{src:e.image})),React.createElement("div",{className:"title_description_container"},React.createElement("h2",null,e.title),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.body}}),this.getDivIfExist(e,"highlight_fact")),this.getQuickFacts(e))},getDetailedHtml:function(){var e=this.props.fact.detailed;return React.createElement("div",{className:"detailed_facts"},e.items.map(function(e,t){return React.createElement(MarsFactCard,{item:e,key:t})}))},render:function(){return React.createElement("div",null,React.createElement("div",{className:"fact_title"},this.props.fact.title),React.createElement("div",{className:"quick_detailed"},this.props.fact.quick?React.createElement("a",{href:"#",onClick:this.showQuick,className:this.state.quick?"current":""},"QUICK FACTS"):null,this.props.fact.detailed?React.createElement("a",{href:"#",onClick:this.showDetailed,className:this.state.quick?"":"current"},"DETAILED FACTS"):null),this.state.quick||!this.props.fact.detailed?this.getQuickHtml():this.getDetailedHtml())}}),MarsFacts=createReactClass({getInitialState:function(){return{items:[],current_idx:0}},componentDidMount:function(){this.getData()},getData:function(){var e=this;$.getJSON(this.props.api,function(t){e.setState({items:t.items})})},setItem:function(e){var t=this;this.setState({current_idx:e},function(){t.refs.mfd.showQuick()})},getNavItem:function(e,t){var i=this;return React.createElement("div",{className:"nav_item "+(t==this.state.current_idx?"current":""),onClick:function(){i.setItem(t)}},e.title)},mobileChangeItem:function(e){var t=e.currentTarget.value;this.setState({current_idx:t})},getMobileNav:function(){return React.createElement("select",{value:this.state.current_idx,onChange:this.mobileChangeItem},this.state.items.map(function(e,t){return React.createElement("option",{key:t,value:t},e.title)}))},render:function(){var e=this,t={lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#000",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};return this.state.items.length>0?React.createElement("div",null,React.createElement("div",{className:"desktop_nav"},this.state.items.map(function(t,i){return e.getNavItem(t,i)})),React.createElement("div",{className:"mobile_nav"},this.getMobileNav()),React.createElement("div",{className:"fact_container"},React.createElement(MarsFactDetail,{fact:this.state.items[this.state.current_idx],ref:"mfd"}))):React.createElement(Loader,{loaded:!1,options:t,className:"spinner"})}}),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},MarsRelayStatus=createReactClass({target_name:{MSL:"CURIOSITY",ODY:"ODYSSEY",MRO:"MARS RECONNAISSANCE ORBITER",MVN:"MAVEN",MRB:"OPPORTUNITY"},get_data_interval:null,getInitialState:function(){return{frequency:this.props.frequency?this.props.frequency:15e3,signal_status:"",hails:[],error:!1,received_data:!1}},componentDidMount:function(){this.getData();var e=this;this.get_data_interval=setInterval(function(){e.getData()},this.state.frequency)},componentWillUnmount:function(){console.log("UNMOUNT"),this.stopGettingData()},stopGettingData:function(){clearInterval(this.get_data_interval)},padZero:function(e){return e<10?"0"+e:e},getData:function(){var e=this,t={},i=$("#vital_signs_modal");0==i.length||i.hasClass("visible")?(this.props.lander&&(t={lander:this.props.lander}),this.props.orbiter&&(t=$.extend(t,{orbiter:e.props.orbiter})),$.ajax("/mars_relay_items/",{data:t,dataType:"json"}).success(function(t){e.onReceiveData(t)}).error(function(e,t,i){console.log("MarsRelayStatus.getData error",i)})):this.stopGettingData()},onReceiveData:function(e){e.error?(console.log(e.message),this.setState({received_data:!0,error:!0})):this.setState(_extends({},e,{received_data:!0}))},getTargetName:function(e){return this.props.lander?this.target_name[e.orbiter]:this.target_name[e.lander]},formatDateTime:function(e){var t=new Date(e);return t.getUTCMonth()+1+"/"+t.getUTCDate()+"/"+t.getUTCFullYear().toString().substr(-2)+" "+t.getUTCHours()+":"+this.padZero(t.getUTCMinutes())+":"+this.padZero(t.getUTCSeconds()+" UTC")},getSignalType:function(e){return"both"==e||"both_adaptive"==e||"forward_and_return"==e?"sending_receiving":"forward"==e||"forward_adaptive"==e?"receiving":"return"==e||"return_adaptive"==e?"sending":(console.error("Unexpected link type",e),"sending_receiving")},getHailHtml:function(){return this.state.current?React.createElement("div",{className:"signal"},React.createElement("span",{className:this.getSignalType(this.state.current.link_type)},React.createElement("div",{className:"dsn_icon"}),"COMMUNICATING WITH DSN VIA ",this.getTargetName(this.state.current))):React.createElement("div",{className:"signal"},React.createElement("span",{className:"disconnected"},React.createElement("div",{className:"dsn_icon"}),React.createElement("div",{className:"transmissions"},React.createElement("div",{className:"previous"},"LAST TRANSMISSION: ",React.createElement("span",null,this.state.previous?this.formatDateTime(this.state.previous.hail_end):""," ")),React.createElement("div",{className:"upcoming"},"NEXT TRANSMISSION: ",React.createElement("span",null,this.state.upcoming?this.formatDateTime(this.state.upcoming.hail_start):"")))))},getDashHail:function(){return this.state.current?React.createElement("div",{className:"signal"},React.createElement("span",{className:"transmitting"},React.createElement("div",{className:"dsn_icon"}),"Transmitting")):this.state.upcoming?React.createElement("div",{className:"signal"},React.createElement("span",null,React.createElement("div",{className:"dsn_icon"}),React.createElement("div",{className:"transmissions"},React.createElement("div",{className:"upcoming"},"NEXT TRANSMISSION: ",React.createElement("span",null,this.state.upcoming?this.formatDateTime(this.state.upcoming.hail_start):""))))):this.state.previous?React.createElement("div",{className:"signal"},React.createElement("span",null,React.createElement("div",{className:"dsn_icon"}),React.createElement("div",{className:"transmissions"},React.createElement("div",{className:"previous"},"LAST TRANSMISSION: ",React.createElement("span",null,this.state.previous?this.formatDateTime(this.state.previous.hail_end):""," "))))):null},getSignalsHtml:function(){return this.state.error?React.createElement("div",{className:"error"},"Sorry, there was an error getting data."):this.state.received_data?React.createElement("div",{className:"hails"},this.props.dashboard?this.getDashHail():this.getHailHtml()):React.createElement("div",{className:"loader"},"loading...")},render:function(){var e=this.props.info_tip;return e&&0===e.length?info_tip="":info_tip=React.createElement(InfoTip,{tip_text:this.props.info_tip}),this.props.dashboard?React.createElement("div",{className:"mars_relay_connection"},this.getSignalsHtml()):React.createElement("div",{className:"mars_relay_connection"},React.createElement("header",null,React.createElement("h3",{className:"mars_relay_title"},this.props.title),info_tip),React.createElement("div",{className:"description signals"},this.getSignalsHtml()))}}),MegasectionNav=createReactClass({getInitialState:function(){return{sticky:!1,nav_pos:-1,active:!1,active_sub_nav:{},last_clicked_sub_nav:{},is_touch:$("html").hasClass("touchevents")}},toggleNav:function(){var e=this;this.setState({active:!this.state.active},function(){e.hideShareTools()})},hideShareTools:function(){"undefined"!=typeof addthis&&$(".addthis-smartlayers").toggle()},toggleSubNav:function(e){var t=this.state.active_sub_nav,i=t[e]?null:e;t[e]=i,this.setState({active_sub_nav:t,last_clicked_sub_nav:e})},componentDidMount:function(){undefined;if($(".magic_shell_subnav").length>0&&$(".magic_shell_subnav").height(),"undefined"!=typeof nav&&(nav.onScroll=function(){}),"undefined"!=typeof magic_shell_nav&&(magic_shell_nav.onScroll=function(){}),this.props.has_feature&&"undefined"!=typeof IntersectionObserver){var e={root:null,rootMargin:"0px",threshold:[0]},t=new IntersectionObserver(this.stick,e),i=document.querySelector(".main_feature");t.observe(i)}},stick:function(e){var t=!e[0].isIntersecting;this.setState({sticky:t},function(){$("body").toggleClass("secondary_nav_is_fixed",t)})},getCurrentPageName:function(){var e=this.props.nav.items.filter(function(e){return e.current});return e.length>0&&!this.props.noname?React.createElement("span",{className:"megasection_page_name"},(this.state.sticky?":":"")+" "+e[0].name):""},getNavItemHTML:function(e,t){return React.createElement("li",{key:t,className:e.current?"current":""},this.getArrowBox(e),React.createElement("div",{className:"nav_title"},this.getLinkTitleTarget(e,!0)),this.getSubnav(e))},onArrowBoxClick:function(e){console.log("onArrowBoxClick"),this.toggleSubNav(e.target.getAttribute("data-name"))},getArrowBox:function(e){var t=this;e.name;return e.items&&e.items.length>0&&!this.state.is_touch?React.createElement("button",{type:"button",onClick:function(){t.toggleSubNav(e.name)},className:"arrow_box "+(this.state.active_sub_nav[e.name]?"reverse":"")},React.createElement("span",{className:"arrow_down"},"Expand")):e.items&&e.items.length>0&&this.state.is_touch?React.createElement("button",{type:"button",onMouseDown:function(){t.toggleSubNav(e.name)},className:"arrow_box "+(this.state.active_sub_nav[e.name]?"reverse":"")},React.createElement("span",{className:"arrow_down","data-name":e.name},"Expand")):null},getSubnav:function(e){var t=this;return e.items&&e.items.length>0?React.createElement("div",{className:"megasection_subnav_container "+(this.state.active_sub_nav[e.name]?"":"megasection_subnav_container--hidden")},React.createElement("ul",{className:"megasection_subnav"},e.items.map(function(e,i){return React.createElement("li",{key:"sub-"+i,className:e.current?"current":""},t.getLinkTitleTarget(e))}))):null},getLinkTitleTarget:function(e,t){var i=this;return this.state.is_touch?React.createElement("a",{className:t?"main_nav_item":"",href:e.link,"data-href":e.link,onTouchEnd:function(n){return i.onSubnavClick(n,e,t)},target:e.target},e.name):React.createElement("a",{className:t?"main_nav_item":"",href:e.link,"data-href":e.link,onClick:function(n){return i.onSubnavClick(n,e,t)},target:e.target},e.name)},onSubnavClick:function(e,t,i){return e&&e.preventDefault(),console.log("onSubnavClick"),$("html").hasClass("touchevents")&&i?(this.toggleSubNav(t.name),this.state.last_clicked_sub_nav==t.name&&void(window.location=t.link)):(this.toggleSubNav(t.name),window.location=t.link,!1)},render:function(){var e=this;return React.createElement("div",{className:"megasection_nav "+(this.state.sticky?"sticky":"")+" "+(this.state.active?"":"megasection_nav--nav-hidden")},React.createElement("div",{className:"megasection_title_container "+(this.state.active?"":"megasection_title_container--nav-hidden")+" "+(this.props.megasection_title_always_vis?"megasection_title_container_always_vis":""),onClick:e.toggleNav},React.createElement("span",{className:"megasection_title"},this.state.sticky||this.state.active||!this.props.has_feature||this.props.megasection_title_always_vis?this.props.nav.title:"",this.getCurrentPageName())),React.createElement("ul",{className:"nav "+(this.state.active?"":"nav--hidden")},this.props.nav.items.map(function(t,i){return e.getNavItemHTML(t,i)})))}}),MissionListItem=createReactClass({getThumbHtml:function(){return this.props.item.thumb?React.createElement("div",{className:"list_image"},React.createElement("img",{className:"thumb",src:this.props.item.thumb,alt:this.props.item.title})):""},render:function(){var e=this.props.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},React.createElement("div",{className:"rollover_description_text"},e.description),React.createElement("div",{className:"link_text_rollover"},e.link_text)),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),this.getThumbHtml(),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url,target:"_blank"},e.title)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.description}}),React.createElement("div",{className:"link_text"},React.createElement("a",{href:e.url,target:"_blank"},e.link_text))))}}),MissionsGallerySubnav=createReactClass({closeOverlay:function(e){e.preventDefault(),this.props.close_gallery_subnav()},openOverlay:function(e){e.preventDefault(),this.props.open_gallery_subnav()},toggleOverlay:function(e){e.preventDefault(),this.props.open?this.closeOverlay(e):this.openOverlay(e)},getOverlay:function(){var e=this,t=/(insight)/gim;return React.createElement("div",{className:"missions_gallery_subnav "+(this.props.open?"open":"")},React.createElement("h2",{className:"missions_gallery_subnav_title"},"Active & Future Missions"),React.createElement("a",{className:"close_button",onClick:function(t){e.props.close_gallery_subnav(t)},title:"close"},React.createElement("span",{className:"close_icon"})),React.createElement("div",{className:"mission_items"},this.props.gallery_subnav_items.map(function(i,n){var s=null!==t.exec(i.title),r=(React.createElement("span",{className:"no_wrap"},"\xa0",e.props.get_external_link_icon()),i.gallery_subnav_link?i.gallery_subnav_link:i.url);return React.createElement("div",{className:"mission_item",key:n},React.createElement("div",{className:"mission_item_overlay"}),React.createElement("a",{className:"mission_link",href:r,target:s?i.target:""},React.createElement("div",{className:"mission_description rollover_description"},React.createElement("div",{
className:"rollover_description_inner"},i.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("img",{className:"mission_image",src:i.thumb,alt:i.title}),React.createElement("h3",{className:"mission_title"},React.createElement("span",null,i.title))))}),React.createElement("div",{className:"background_area",onClick:function(t){e.closeOverlay(t)}})),React.createElement("ul",{className:"missions_links"},React.createElement("li",null,React.createElement("a",{className:"button",href:"/mars-exploration/missions"},"All Missions")),React.createElement("li",null,React.createElement("a",{className:"button",href:"/mars-exploration/partners",target:"_blank"},"International Partners"))))},render:function(){return this.getOverlay()}}),MosaicListItem=createReactClass({itemIsFancyboxable:function(){var e=this.props.item.fancyboxable,t=this.props.options&&this.props.options.fancybox;return e&&t},getImageAndDescription:function(e){return React.createElement("div",null,React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner",dangerouslySetInnerHTML:{__html:e.short_description}}),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.list_image_src,alt:e.alt_text})),this.getBottomGradient(e))},getBottomGradient:function(e){if(this.props.options&&this.props.options.no_item_title)return"";var t=this.getDisplayTitle(e);return React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,t)))},getDisplayTitle:function(e){var t="",i="";return sol=e.sol!=undefined?e.sol:e.title.slice(7,11),/^(C_|D_)/.test(e.title)?"Sol "+e.sol+": InSight Mosaic":(/^N_A/.test(e.title)?i="Mast-Mounted Navigation Camera":/^N_L/.test(e.title)?i="Left Navigation Camera":/^N_R/.test(e.title)?i="Right Navigation Camera":/^C_/.test(e.title)?i="InSight Context Camera":/^D_/.test(e.title)&&(i="InSight Deployment Camera"),/CYL/.test(e.title)?t="Cylindrical Projection":/CYP/.test(e.title)?t="Cylindrical Perspective":/(OLL|POL)/.test(e.title)?t="Polar Projection":/(VER|VRT)/.test(e.title)?t="Vertical Projection":/ORT/.test(e.title)?t="Orthographic":/ORR/.test(e.title)?t="Orthorectified":/PER/.test(e.title)&&(t="Perspective"),"Sol "+sol+": "+i+", "+t)},getLinkedImageAndDescription:function(e){var t=this.getLinkHref();return this.itemIsFancyboxable()?React.createElement("a",{href:t,className:"fancybox_slideshow","data-fancybox-group":"images","data-fancybox-href":item.detail_image,"data-title":item.title,"data-sharedescription":item.share_desc,"data-thumbnail":item.list_image_src,"data-link":t},e):React.createElement("a",{href:t},e)},getLinkHref:function(){var e=this.props.item.url;if(this.props.options&&"undefined"!=typeof this.props.options.href_query_params&&(e+="?"+this.props.options.href_query_params),this.props.options.url_prefix&&e.indexOf("//")<0&&(e=this.props.options.url_prefix+e),this.props.options.url_suffix){var t=this.props.options.url_suffix;t.indexOf("?")&&url.indexOf("?")?e+=t.replace("?","&"):e+=t}return e},render:function(){var e=this.props.item,t=this.getImageAndDescription(e),i=this.getLinkedImageAndDescription(t);return React.createElement("div",{className:"image_and_description_container"},i,React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:this.getLinkHref()},this.getDisplayTitle(e))),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.short_description}})))}}),Mosaics=createReactClass({getInitialState:function(){return{mission_selector_open:!1,mission:this.props.mission?this.props.mission:"msl"}},default_filters:null,isCurrentMission:function(e){return this.state.mission==e?"current":""},toggleMissionSelector:function(){this.setState({mission_selector_open:!this.state.mission_selector_open})},changeMission:function(e){var t=e.currentTarget.dataset.mission;this.setState({mission:t})},getFacetedSearchSections:function(){var e={},t=[];switch($.each(this.props.items,function(e,i){/CYL/.test(i.title)&&-1==t.findIndex(function(e){return"CYL"==e.value})?t.push({label:"Cylindrical",value:"CYL"}):/CYP/.test(i.title)&&-1==t.findIndex(function(e){return"CYP"==e.value})?t.push({label:"Cylindrical Perspective",value:"CYP"}):/POL/.test(i.title)&&-1==t.findIndex(function(e){return"(POL|OLL)"==e.value})?t.push({label:"Polar",value:"(POL|OLL)"}):/VRT/.test(i.title)&&-1==t.findIndex(function(e){return"(VRT|VER)"==e.value})?t.push({label:"Vertical",value:"(VRT|VER)"}):/ORT/.test(i.title)&&-1==t.findIndex(function(e){return"ORT"==e.value})?t.push({label:"Orthographic",value:"ORT"}):/ORR/.test(i.title)&&-1==t.findIndex(function(e){return"ORR"==e.value})?t.push({label:"Orthorectified",value:"ORR"}):/PER/.test(i.title)&&-1==t.findIndex(function(e){return"PER"==e.value})&&t.push({label:"Perspective",value:"PER"})}),this.state.mission){case"msl":e=[{name:"From",datepicker:{field:"pub_date",condition:"gte"}},{name:"To",datepicker:{field:"pub_date",condition:"lte"}},{name:"Type",search_field:"title",checkboxes:t},{name:"Camera",search_field:"title",checkboxes:[{label:"Anaglyph 3D",value:"N_A"},{label:"Left Navcam",value:"N_L"},{label:"Right Navcam",value:"N_R"}]}];break;case"insight":e=[{name:"From",datepicker:{field:"pub_date",condition:"gte",max_date:"datepicker_To",datepicker_class:"mosaics_to"}},{name:"To",datepicker:{field:"pub_date",condition:"lte",min_date:"datepicker_From",datepicker_class:"mosaics_from"}},{name:"Camera",search_field:"title",checkboxes:[{label:"Instrument Context Camera (ICC)",value:"C_"},{label:"Instrument Deployment Camera (IDC)",value:"D_"}]},{name:"Projection",search_field:"title",checkboxes:t}];break;default:console.log("Unknown mission")}return e},renderMosaicsFS:function(){var e=this.state.mission,t=[this.props.mosaic_category];t.push(this.props.mosaic_info[e].category);var i=this.getFacetedSearchSections(),n=this.props.options&&typeof this.props.options.url_suffix!=undefined?this.props.options.url_suffix:"",s=[{label:"Last Updated (Newest to Oldest)",value:"pub_date desc"},{label:"Last Updated (Oldest to Newest)",value:"pub_date asc"}];"insight"==this.state.mission&&s.unshift({label:"Sol (Newest to Oldest)",value:"sol desc"},{label:"Sol (Oldest to Newest)",value:"sol asc"});var r=[{label:"25",value:25},{label:"50",value:50},{label:"100",value:100}];return console.log(this.props.options),React.createElement(FacetedSearch,{title:"Last Updated: "+this.props.mosaic_info[e].latest,model:"resources",list_item:"Mosaic",filters:this.default_filters,facet_sections:i,page_class:"mosaics",options:{url_suffix:n,must_cat:t.join(":"),order:"pub_date desc",view_toggle:!0,default_view:"grid_view",sort:s,per_page_options:r}})},render:function(){var e="Viewing "+this.props.mosaic_info[this.state.mission].name+" Mosaics";return React.createElement("div",{className:"grid_layout"},React.createElement("article",null,React.createElement("div",{className:"mosaics_container"},React.createElement("header",{id:"page_header"},React.createElement("h1",{id:"article_title",className:"article_title"},"Mosaics"),this.props.mission?null:React.createElement("div",{className:"mission_selector"},React.createElement("h2",{className:"mission_header_text"},e),React.createElement("div",{className:"mission_selector_toggle"+(this.state.mission_selector_open?" open":""),onClick:this.toggleMissionSelector},"SELECT MISSION",React.createElement("div",{className:"mission_selector_arrow"})),this.state.mission_selector_open?React.createElement("div",{className:"missions"},React.createElement("div",{className:"mission msl "+this.isCurrentMission("msl"),"data-mission":"msl",onClick:this.changeMission},React.createElement("div",{className:"circle"}),React.createElement("div",{className:"mission_title"},"MSL MOSAICS")),React.createElement("div",{className:"mission insight "+this.isCurrentMission("insight"),"data-mission":"insight",onClick:this.changeMission},React.createElement("div",{className:"circle"}),React.createElement("div",{className:"mission_title"},"INSIGHT MOSAICS"))):null)),this.renderMosaicsFS())))}}),NewsListItem=createReactClass({getLinkTarget:function(){var e=this.props.item.url;return 0==e.indexOf("https://mars.")||0==e.indexOf("http://mars.")||0==e.indexOf("/news/")?"_self":"_blank"},render:function(){var e=this.props.item,t=e.url;if(this.props.options.url_prefix&&t.indexOf("//")<0&&(t=this.props.options.url_prefix+t),this.props.options.url_suffix){var i=this.props.options.url_suffix;i.indexOf("?")&&t.indexOf("?")?t+=i.replace("?","&"):t+=i}return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:t,target:this.getLinkTarget()},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},e.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.thumb,alt:e.main_image_alt})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},e.date),React.createElement("div",{className:"content_title"},React.createElement("a",{href:t,target:this.getLinkTarget()},e.title)),React.createElement("div",{className:"article_teaser_body"},e.description)))}}),PageDashboard=createReactClass({getInitialState:function(){return{api:[],countdown:[]}},componentDidMount:function(){if(!this.props.single_slide){var e=undefined;e=$(".homepage_dashboard_container").length>0?[{breakpoint:1500,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"0px"}}]:[{breakpoint:1800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1400,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:770,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"0px"}}],$(".msl").length>0?slideMaxLimit=4:slideMaxLimit=5,this.carousel=$("#page_dashboard").slick({dots:!1,infinite:!0,speed:300,slide:".dashboard .slide",slidesToShow:slideMaxLimit,slidesToScroll:slideMaxLimit,centerMode:!1,variableWidth:!1,arrows:!0,onInit:function(){$(".dashboard").css("visibility","visible")},responsive:e}),$("body").on("dashboard_resize",function(){$("#page_dashboard")[0].slick.refresh()}),window.addEventListener("orientationchange",function(){var e=undefined;e=setInterval(function(){$("#page_dashboard")[0].slick.refresh()},500),setTimeout(function(){clearInterval(e)},3e3)})}},formatThousandsNoRounding:function(e,t){for(var i="",n=i+e,s=n.length,r=e<0?1:0,o=n.lastIndexOf("."),a=-1==o?s:o,l=i,c=n.substr(a+1,t);(a-=3)>r;)l=","+n.substr(a,3)+l;return n.substr(0,a+3)+l+(t?"."+c+(c.length<t?"00000".substr(0,t-c.length):i):i)},convertOption:function(e,t,i){var n=arguments.length<=3||arguments[3]===undefined?null:arguments[3];return"api"==e.type?this.buildApiSlide(e,t,i):"countdown"==e.type?this.buildCountdownSlide(e,t,n):"distance_traveled"==e.type?this.buildDistanceTraveledSlide(e,t,n):"sols_on_mars"==e.type?this.buildMarsSolsSlide(e,t,i):"raw_images"==e.type?this.buildRawImagesSlide(e,t,i):"signal_status"==e.type?this.buildSignalStatusSlide(e,t,i):"countdown_launch"==e.type?this.buildCountdownLaunchSlide(e,t,n):"undefined"!=typeof e.values?this.buildMultipleValuesSlide(e,t):this.buildStaticSlide(e,i,{suffix:e.suffix})},buildMarsSolsSlide:function(e,t,i){return i?React.createElement(SolsOnMars,{deg_east:e.deg_east,sol_0:e.sol_0}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(SolsOnMars,{deg_east:e.deg_east,sol_0:e.sol_0})))},buildRawImagesSlide:function(e,t,i){return i?React.createElement(RawImagesDashboard,{mission:e.mission}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(RawImagesDashboard,{mission:e.mission})))},buildSignalStatusSlide:function(e,t,i){return i?React.createElement(MarsRelayStatus,{dashboard:!0,lander:e.lander,orbiter:e.orbiter}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(MarsRelayStatus,{dashboard:!0,lander:e.lander,orbiter:e.orbiter})))},buildDistanceTraveledSlide:function(e,t,i){return i?React.createElement(DistanceTraveledDashboard,{id:e.id}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(DistanceTraveledDashboard,{id:e.id})))},buildApiSlide:function(e,t,i){return i?React.createElement(SpiceAPI,{base_url:"/spice_data",query:e}):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(SpiceAPI,{base_url:"/spice_data",query:e})))},buildCountdownSlide:function(e,t,i){var n=this.state.countdown[t];if("number"==typeof i&&Array.isArray(n)&&(n=n[i]),n&&!Array.isArray(n))return React.createElement("div",{className:"image_and_description_container"},React.createElement(Countdown,{count_up:e.count_up,date:n.date,title:n.title,sols:n.sols,sol_0:n.sol_0,deg_east:n.deg_east}));this.getCountdownData(e,t,i)},buildMultipleValuesSlide:function(e,t){console.log(e);var i=this;return React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout multiple"},React.createElement("div",{className:"title"},e.title),e.values.map(function(n,s){return s+1==e.values.length?React.createElement("span",{className:"value_container last"},i.convertOption(n,t,!0,s)):React.createElement("span",{className:"value_container"},i.convertOption(n,t,!0,s))}))))},getCountdownData:function(e,t,i){var n=this;$.getJSON("/api/v1/basic_html_elements/"+e.id+"}",function(e){if(e.publish_date){var s=n.state.countdown;if("number"==typeof i)Array.isArray(s[t])||(s[t]=[]),s[t][i]={date:e.publish_date,title:e.title};else{if(e.json_blob){var r=JSON.parse(e.json_blob);$.extend(e,r)}s[t]={date:e.publish_date,title:e.title},e.sols&&(s[t].sols=e.sols),e.sol_0&&(s[t].sol_0=e.sol_0),e.deg_east&&(s[t].deg_east=e.deg_east)}n.setState({countdown:s})}})},loadOverlay:function(e){$("body").trigger("feed_hipo",{url:e})},loadMepOverlay:function(e,t){$("html,body").animate({scrollTop:0},280);var i=t+"?layout=empty&override_preview=true",n=$(e.currentTarget);n.hasClass("current")&&$("#vital_signs_modal").hasClass("visible")?(n.removeClass("current"),vital_signs.closeModal()):(console.log("open modal!"),$(".vital_signs_menu .slide.overlay").removeClass("current"),n.addClass("current"),$("#vital_signs_modal").hasClass("visible")?vital_signs.closeModal(function(){$("#vital_signs_modal .loading").show(),vital_signs.loadModal(i)}):($("#vital_signs_modal .loading").show(),vital_signs.loadModal(i)))},buildCountdownLaunchSlide:function(e,t,i){var n=this.state.countdown[t];if("number"==typeof i&&Array.isArray(n)&&(n=n[i]),n&&!Array.isArray(n))return React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(CountdownLaunch,{count_up:e.count_up,date:n.date,title:n.title,sols:n.sols,sol_0:n.sol_0,deg_east:n.deg_east})));this.getCountdownData(e,t,i)},buildStaticSlide:function(e,t,i){var n=i&&i.suffix?" "+i.suffix:"";return t?React.createElement("div",{className:"value"},e.value,n):React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement("div",{className:"value"},e.value,n)))},createSlide:function(e,t){var i=this;return e.link?React.createElement("li",{key:t,className:"slide link_to_page"},React.createElement("a",{href:e.link,target:e.target},this.convertOption(e,t),React.createElement("span",{className:"overlay_icon circle_arrow"}))):e.overlay||e.mep_overlay?React.createElement("li",{key:t,className:"slide overlay",onClick:function(t){e.overlay?i.loadOverlay(e.overlay):i.loadMepOverlay(t,e.mep_overlay)}},this.convertOption(e,t),React.createElement("span",{className:"overlay_icon circle_plus"})):React.createElement("li",{key:t,className:"slide"},this.convertOption(e,t))},render:function(){var e=this;return this.props.single_value?React.createElement("span",null,this.convertOption(this.props.options[0],0,!0)):this.props.single_slide?"api"==this.props.options.type?React.createElement("div",{className:"readout"},this.convertOption(this.props.options,0,!1)):React.createElement("div",{className:"readout"},this.convertOption(this.props.options[0],0,!1)):React.createElement("section",{className:"dashboard"},React.createElement("div",{className:"slide_container",id:"page_dashboard"},e.props.options.map(function(t,i){return e.createSlide(t,i)})))}}),PageSort=createReactClass({getInitialState:function(){return{current_page:this.props.initial_page,current_sort:this.props.initial_sort,current_pp:this.props.initial_pp}},changeSort:function(e){var t=e.target.value;this.setState({current_sort:t},this.props.changeSort(t))},changePerPage:function(e){var t=e.target.value;this.setState({current_pp:t},this.props.changePerPage(t))},render:function(){return React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,this.props),React.createElement("div",{className:"options"},React.createElement("div",{className:"page_option_wrapper sort_by"},React.createElement("label",null,"Sort by"),React.createElement("select",{className:"options_field",id:"order",name:"order",defaultValue:this.props.initial_sort,onChange:this.changeSort},this.props.sort_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))),React.createElement("div",{className:"page_option_wrapper per_page"},React.createElement("label",null," Per page"),React.createElement("select",{className:"options_field",id:"per_page",name:"per_page",defaultValue:this.props.initial_pp,onChange:this.changePerPage},this.props.per_page_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)})))))}}),PageSortPagination=createReactClass({getInitialState:function(){return{page_input_val:this.props.page}},componentDidMount:function(){$(".page_selector input").val("")},prevPage:function(){if(this.props.page>1){var e=this.props.page-1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked previous page button",e)}},nextPage:function(){if(this.props.page<this.props.page_count){var e=this.props.page+1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked next page button",e)}},onPageInput:function(e){var t=parseInt(e.target.value);t<1?t=1:t>this.props.page_count&&(t=this.props.page_count),this.setState({page_input_val:t},this.props.changePage(t))},render:function(){var e=this.props.page<=1,t=this.props.page>=this.props.page_count;return React.createElement("div",null,React.createElement("div",{className:"pagination_nav"},React.createElement("nav",{className:"pagination"},React.createElement("span",{className:"prev"+(e?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"prev",onClick:this.prevPage})),React.createElement("div",{className:"page_selector"},React.createElement("input",{className:"page_num",placeholder:this.props.formatNumber?this.props.formatNumber(this.props.page):this.props.page,value:this.props.page,size:"4",type:"number",onChange:this.onPageInput,min:"1",max:this.props.page_count})," of",React.createElement("span",{className:"total_pages"}," ",this.props.formatNumber?this.props.formatNumber(this.props.page_count):this.props.page_count)),React.createElement("span",{className:"next"+(t?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"next",onClick:this.nextPage})))))}}),PaginationCount=createReactClass({render:function(){return this.props.first_load?React.createElement("div",{className:"pagination_status"},React.createElement("span",null,"Loading...")):0==this.props.count?React.createElement("div",{className:"pagination_status no_results_text"},React.createElement("span",null,"No results found.")):React.createElement("div",{className:"pagination_status"},React.createElement("span",{className:"nonessential"},"Showing"),React.createElement("b",null,React.createElement("span",{className:"start_index"}," ",this.props.formatNumber?this.props.formatNumber(this.props.start_index+1):this.props.start_index+1),"-",React.createElement("span",{className:"end_index"},this.props.formatNumber?this.props.formatNumber(this.props.end_index):this.props.end_index," ")),"of",React.createElement("b",null,React.createElement("span",{className:"total_results"}," ",this.props.formatNumber?this.props.formatNumber(this.props.count):this.props.count," ")),React.createElement("span",{className:"nonessential"},1==this.props.count?singularize(this.props.item_type):this.props.item_type))}}),PhotoGallery=createReactClass({getInitialState:function(){return{photo_items:[],index:null,prev_item:null,next_item:null,total:0,page:0,first_load:!0}},componentDidMount:function(){this.getData()},componentDidUpdate:function(){console.log("componentDidUpdate"),this.updateImageBuffer()},getData:function(e,t){var i=this,n="",s=e?this.state.page+1:0;$.ajax({url:this.props.api_url+"&page="+s,success:function(r){console.log(r),n=r;var o=[],a=r.photoset.total,l=n.photoset.photo;s=r.photoset.page;for(var c=0;c<n.photoset.photo.length;c++){var u="https://farm"+l[c].farm+".staticflickr.com/"+l[c].server+"/"+l[c].id+"_"+l[c].secret+"_c.jpg";o.push({id:c,url:u})}e?i.setState({photo_items:i.state.photo_items.concat(o),page:s},function(){"function"==typeof t&&t.call()}):i.setState({photo_items:o,index:0,total:a,page:s,first_load:!1},function(){})}})},renderData:function(){console.log("renderData");var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.";if(this.state.photo_items.length>0){var t=this.state.photo_items[this.state.index];return React.createElement("div",{className:"gallery_content responsive_image","data-aspect-ratio":"3/2","data-avoid-crop":!0},React.createElement(PhotoListItem,{key:t.id,item:t,alt:"Photo "+(this.state.index+1)}))}return this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)},loadNext:function(){if(console.log("loadNext"),this.state.index<this.state.photo_items.length-1){var e=this.state.index+1;this.setState({index:e})}else this.state.index<this.state.total&&(console.log("loading more data..."),this.getData(!0,this.loadNext))},loadPrev:function(){if(this.state.index>0){var e=this.state.index-1;this.setState({index:e})}},updateImageBuffer:function(){},renderTitle:function(){return this.props.title&&""!=this.props.title?React.createElement("div",{className:"module_title"},this.props.title):null},renderPagination:function(){return this.state.total&&0!=this.state.total?React.createElement("div",{className:"photo_index"},this.state.index+1," / ",this.state.total):null},prevDisabled:function(){return 0==this.state.index?"disabled":""},nextDisabled:function(){return this.state.index==this.state.photo_items.length-1?"disabled":""},render:function(){console.log("render");var e=this;return React.createElement("div",null,this.renderTitle(),React.createElement("div",{className:"react_photo_gallery"},e.renderData(),e.renderPagination(),React.createElement("div",{className:"nav_container"},React.createElement("div",{className:"nav"},React.createElement("button",{type:"button",onClick:e.loadPrev,disabled:e.prevDisabled(),"data-role":"none",className:"prev arrow","aria-label":"Previous",role:"button"}),React.createElement("button",{type:"button",onClick:e.loadNext,disabled:e.nextDisabled(),"data-role":"none",className:"next arrow","aria-label":"Next",role:"button"})))))}}),PhotoListItem=createReactClass({render:function(){return React.createElement("img",{src:this.props.item.url,alt:this.props.alt,className:"responsive_image__element"})}}),RawImageDetail=createReactClass({hammer:null,landscape_to_portrait:!1,initial_width:null,getInitialState:function(){return this.initial_width=90==window.orientation||-90==window.orientation?window.outerHeight:window.outerWidth,{detail_style:{width:"0px",left:"0px"},img_height:"0px",is_mobile:window.innerWidth<=600,single_column:!1,landscape:!1,no_image:!1,info_open:this.props.info_open_default,orientation_changed:!1,prev_disabled:this.props.prev_disabled,next_disabled:this.props.next_disabled,scrolling:!1,panning:!1,touch_position:{}}},componentDidMount:function(){this.updateDimensions(),window.addEventListener("keydown",this.handleArrowKeys),window.addEventListener("orientationchange",this.orientationChanged),window.addEventListener("touchstart",this.setScroll,{passive:!0}),window.addEventListener("touchmove",this.startScroll,{passive:!0}),window.addEventListener("touchend",this.endScroll),window.addEventListener("resize",this.updateDimensions),"undefined"!=typeof addthis&&(console.log("addthis init"),addthis.toolbox(".addthis_sharing_toolbox"))},componentDidUpdate:function(){var e=this.props.item,t=window.location.origin+this.props.item_link;"undefined"!=typeof addthis&&(addthis.update("share","url",t),addthis.update("share","media",e.https_url),addthis.url=t,addthis.toolbox(".addthis_sharing_toolbox"))},componentWillUnmount:function(){$("body").removeClass("noscroll"),window.removeEventListener("keydown",this.handleArrowKeys),window.removeEventListener("orientationchange",this.orientationChanged),window.removeEventListener("touchstart",this.setScroll),window.removeEventListener("touchmove",this.startScroll),window.removeEventListener("touchend",this.endScroll),window.removeEventListener("resize",this.updateDimensions)},orientationChanged:function(){this.setState({orientation_changed:!0})},setScroll:function(e){this.setState({touch_position:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}})},startScroll:function(e){if(!this.state.scrolling&&!this.state.panning&&!this.state.landscape){var t={x:e.changedTouches[0].clientX-this.state.touch_position.x,y:e.changedTouches[0].clientY-this.state.touch_position.y};Math.abs(t.x)<Math.abs(t.y)&&Math.abs(t.y)>5&&(console.log("startScroll"),this.setState({scrolling:!0}))}},endScroll:function(){this.state.scrolling&&(console.log("endScroll"),$(".rid_inner").css("overflowY","initial"),this.setState({scrolling:!1}))},updateDimensions:function(){var e=$(".raw_images_list").width(),t=window.innerWidth,i=!1;console.log("window width: "+t);var n=!1,s=mb_utils.mobileCheck();if(t<600||s){var r=!0;e="100%",n=0==window.orientation||180==window.orientation}else{t<1024&&(n=!0,!this.state.orientation_changed||0!=window.orientation&&180!=window.orientation||(t=this.initial_width)),t<769&&t>=600&&(i=!0);r=!1}var o=r?"0":"-"+$(ReactDOM.findDOMNode(this).parentNode).css("margin-left");if(r){if(90==window.orientation||-90==window.orientation){var a=!0;this.landscape_to_portrait=!1}else{a=!1;this.state.landscape?(this.landscape_to_portrait=!0,this.closeInfoPanel()):this.landscape_to_portrait=!1}this.setState({detail_style:{width:"100%",transform:"translateX(0px)",WebkitTransform:"translateX(0px)"},is_mobile:!0,single_column:n,landscape:a,no_image:i},function(){$("body").addClass("noscroll");var e=a&&!this.state.info_open?".raw_image_mobile_landscape_container":".rid_inner";this.initSwipe(e),this.landscape_to_portrait?this.setImageHeight("calc("+this.props.portrait_width+"px - 2em)"):this.setImageHeight()})}else this.setState({detail_style:{width:e,transform:"translateX("+o+")",WebkitTransform:"translateX("+o+")"},is_mobile:!1,single_column:n,landscape:!1,no_image:i,orientation_changed:!1,info_open:!1},function(){$("body").removeClass("noscroll"),this.setImageHeight(),this.hammer&&(this.hammer.off("swipeleft"),this.hammer.off("swiperight"))})},initSwipe:function(e){Hammer.defaults.touchAction="compute";var t=this;this.hammer&&this.hammer.destroy(),this.hammer=new Hammer.Manager($(e)[0],{domEvents:!0,inputClass:Hammer.TouchInput});var i=$(t.hammer.element),n=new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:10});this.hammer.add(n),this.hammer.on("panstart",function(){t.setState({panning:!0})}),this.hammer.on("pan",function(i){t.state.scrolling||$(e).css("transform","translateX("+i.deltaX+"px)")}),this.hammer.on("panend",function(n){t.setState({panning:!1}),t.state.scrolling?t.endScroll():n.deltaX>50&&!t.state.prev_disabled?(console.log("Panned right"),t.slidePrev(i)):n.deltaX<-50&&!t.state.next_disabled?(console.log("Panned left"),t.slideNext(i)):($(e).animate({fakeProp:n.deltaX},0),$(e).animate({fakeProp:0},{step:function(e){$(this).css("transform","translateX("+e+"px)")},duration:200}))}),this.props.enter_from&&(setTimeout(function(){$(e).css("transform","translateX(0)")},50),setTimeout(function(){$(e).removeClass("left right")},200))},setImageHeight:function(e){if(e)this.setState({img_height:e});else{var t=$(".rid_image_container").innerWidth();this.setState({img_height:t+"px"})}},slidePrev:function(e){var t=this;this.state.prev_disabled||this.setState({prev_disabled:!0},function(){this.state.is_mobile?(e.addClass("right"),e.css("transform","translateX(120%)"),setTimeout(function(){t.props.prevFn.call()},200)):t.props.prevFn.call()})},slideNext:function(e){var t=this;this.state.next_disabled||this.setState({next_disabled:!0},function(){this.state.is_mobile?(e.addClass("left"),e.css("transform","translateX(-120%)"),setTimeout(function(){t.props.nextFn.call()},200)):t.props.nextFn.call()})},handleArrowKeys:function(e){37!=e.keyCode||this.state.prev_disabled?39!=e.keyCode||this.state.next_disabled||this.setState({next_disabled:!0},function(){this.props.nextFn.call()}):this.setState({prev_disabled:!0},function(){this.props.prevFn.call()})},launchFancybox:function(e){(e.preventDefault(),this.state.is_mobile)||$(e.target).parents(".raw_image_container").find("a.fancybox_slideshow").click()},formatDate:function(e){var t=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],i=new Date(e),n=i.getUTCDate(),s=t[i.getUTCMonth()],r=i.getUTCFullYear(),o=i.getUTCHours(),a=i.getUTCMinutes(),l=o>=12?"PM":"AM";return s+" "+n+", "+r+" "+(o=o%12==0?12:o%12)+":"+(a=a<10?"0"+a:a)+" "+l},openInfoPanel:function(){this.setState({info_open:!0,single_column:!1},function(){this.setImageHeight(),console.log("info panel opened"),this.initSwipe(".rid_inner"),this.props.setDefaultInfoOpen(!0)})},closeInfoPanel:function(){this.setState({info_open:!1,single_column:!0},function(){console.log("info panel closed"),this.initSwipe(".raw_image_mobile_landscape_container"),this.props.setDefaultInfoOpen(!1)})},renderImageButtons:function(){var e=this.props.item,t=e.https_url,i=e.https_url.match(/\/(.+)$/)[1];"insight"==e.mission&&(i=(t=e.https_url.replace(/\.jpg/i,".PNG")).match(/\/(.+)$/)[1]);var n=this.props.item_link;return React.createElement("div",{className:"rid_image_links addthis_sharing_toolbox","data-addthis-url":window.location.origin+this.props.item_link,"data-addthis-title":e.title,"data-addthis-description":"","data-addthis-media":e.https_url},React.createElement("a",{className:"addthis_button_compact"},React.createElement("img",{src:"/assets/share.png",alt:"Share"})),this.state.is_mobile||mb_utils.mobileAndTabletCheck()?React.createElement("a",{className:"button",href:e.https_url,target:"_blank"},"DOWNLOAD"):React.createElement("a",{className:"button",href:t,download:i},"DOWNLOAD"),this.state.is_mobile||mb_utils.mobileAndTabletCheck()?React.createElement("a",{
className:"button",href:n,target:"_top"},"MORE INFO"):"",this.state.no_image&&!this.state.is_mobile?React.createElement("a",{className:"button",onClick:this.launchFancybox},"ENLARGE"):"")},renderPrevNextButtons:function(){var e=this;if(this.state.landscape)var t=$(".raw_image_mobile_landscape_container");else t=$(".rid_inner");return React.createElement("div",{className:"rid_prev_next_btns"},React.createElement("a",{className:this.state.prev_disabled?"rid_prev disabled":"rid_prev",onClick:function(){e.slidePrev(t)}},React.createElement("div",{className:"icon"})),React.createElement("a",{className:this.state.next_disabled?"rid_next disabled":"rid_next",onClick:function(){e.slideNext(t)}},React.createElement("div",{className:"icon"})))},render:function(){var e=this.props.item,t=(this.formatDate(e.date_taken),this.formatDate(e.date_received),this.props.enter_from&&!this.state.orientation_changed?this.props.enter_from:""),i=e.https_url;return"msl"==e.mission&&(i=e.https_url.replace(/\.jpg/i,"-br.jpg")),this.state.landscape&&!this.state.info_open?React.createElement("div",{className:"raw_image_detail_container"},React.createElement("div",{className:"raw_image_detail rid_mobile landscape"},React.createElement("div",{className:"raw_image_mobile_landscape_container "+t},React.createElement("div",{className:"rid_close",onClick:this.props.closeFn},React.createElement("div",{className:"icon"})),this.renderPrevNextButtons(),React.createElement("img",{src:i}),React.createElement("div",{className:"info_button",onClick:this.openInfoPanel},React.createElement("div",{className:"icon"}))))):React.createElement("div",{className:"raw_image_detail_container"},React.createElement("div",{className:"raw_image_detail_arrow"}),React.createElement("div",{className:"raw_image_detail"+(this.state.is_mobile?" rid_mobile":"")+(this.state.info_open?" info_open":""),style:this.state.detail_style},this.state.is_mobile&&!this.state.info_open?"":this.renderPrevNextButtons(),React.createElement("div",{className:"rid_inner "+t},React.createElement("div",{className:"rid_close",onClick:this.props.closeFn},React.createElement("div",{className:"icon"})),this.state.no_image||e.is_thumbnail&&!this.state.is_mobile?"":React.createElement("div",{className:"rid_left_col"},React.createElement("div",{className:"rid_image_container "+(e.is_thumbnail?"thumbnail_detail":""),style:{height:this.state.img_height}},React.createElement("a",{href:this.props.item_link,onClick:this.launchFancybox},React.createElement("img",{src:i}),React.createElement("div",{className:"zoom_icon"}),this.state.info_open?React.createElement("div",{className:"fs_icon",onClick:this.closeInfoPanel}):"")),this.state.single_column&&!this.state.info_open?"":this.renderImageButtons()),React.createElement("div",{className:"rid_right_col"},React.createElement("h2",{className:"rid_title"},e.title),this.state.is_mobile&&!this.state.info_open?this.renderPrevNextButtons():"",!this.state.single_column||this.state.info_open||e.is_thumbnail?"":this.renderImageButtons(),React.createElement("div",{className:"rid_description"},"insight"==e.mission?React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}}):React.createElement("p",null,"This image was taken by ",e.instrument.toUpperCase()," onboard NASA's Mars rover ",this.props.short_name," on Sol ",e.sol," (",e.date_taken,")"),React.createElement("p",null,React.createElement("b",null,"Image Credit: ")," ",e.image_credit)),!e.is_thumbnail||!this.state.single_column&&this.state.is_mobile?"":this.renderImageButtons()))))}});Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],s=0;s<i;){var r=t[s];if(e.call(n,r,s,t))return s;s++}return-1},configurable:!0,writable:!0});var RawImages=createReactClass({download_spinner_opts:{lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#000",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"0",shadow:!1,hwaccel:!1,position:"relative"},mission_info:{msl:{title:"Mars Science Laboratory: Curiosity",short_name:"Curiosity",sol_0:49268,deg_east:137.44,link:"/missions/msl",sort_options:[{label:"Sol (Newest to Oldest)",value:"sol desc,instrument_sort asc,sample_type_sort asc, date_taken desc"},{label:"Sol (Oldest to Newest)",value:"sol asc,instrument_sort desc,sample_type_sort desc, date_taken asc"}]},mera:{title:"Mars Exploration Rover: Spirit",short_name:"Spirit",sol_0:46215,deg_east:175.47,link:"/missions/mera"},merb:{title:"Mars Exploration Rover: Opportunity",short_name:"Opportunity",sol_0:46235,deg_east:354.47,link:"/missions/merb"},insight:{title:"Mars InSight",short_name:"InSight",sol_0:51510,deg_east:135,link:"/missions/insight",sort_options:[{label:"Sol (Newest to Oldest)",value:"sol desc,date_taken desc"},{label:"Sol (Oldest to Newest)",value:"sol asc,date_taken asc"}]}},default_sort_options:[{label:"Date (newest)",value:"sol desc,instrument desc,date_taken desc"},{label:"Date (oldest)",value:"sol asc,instrument asc,date_taken asc"}],getInitialState:function(){mb_utils.readCookie("raw_images_filter");var e=mb_utils.getParam("per_page"),t=mb_utils.getParam("page"),i=mb_utils.getParam("order"),n=mb_utils.getParam("begin_sol"),s=mb_utils.getParam("end_sol"),r=mb_utils.getParam("begin_date"),o=mb_utils.getParam("end_date"),a=mb_utils.getParam("fbl"),l=mb_utils.getParam("af"),c=mb_utils.readCookie("raw_images_selection"),u=undefined;(u=this.props.mission?this.props.mission:mb_utils.getParam("mission")?mb_utils.getParam("mission")[0]:null,/slide=/.test(location.hash))&&(n=s=[location.hash.match(/slide=(\d+)/)[1]]);i?i=i[0].replace(/\+/g," "):u&&this.mission_info[u].sort_options&&(i=this.mission_info[u].sort_options[0].value);var h=this,d={};this.blank_facets={};var p=u?this.props.filters.findIndex(function(e){return e.name==u}):0;$.each(this.props.filters,function(e,t){$.each(t.sections,function(e,i){if(h.blank_facets[t.name+"_"+i.name]=[],d[t.name+"_"+i.name]=[],l){var n=l[0].split(",");$.each(n,function(e,n){var s=i.checkboxes.findIndex(function(e){return n==e.value});s>-1&&d[t.name+"_"+i.name].push(i.checkboxes[s].value)})}})});var f=window.innerWidth>=600,m={};return u&&"all"!=u?m[u]={total:this.props.header_counts.total,new_count:this.props.header_counts.new_count}:m={all:{total:this.props.header_counts.total,new_count:this.props.header_counts.new_count},msl:{total:this.props.header_counts.msl.total,new_count:this.props.header_counts.msl.new_count},mera:{total:this.props.header_counts.mera.total,new_count:this.props.header_counts.mera.new_count},merb:{total:this.props.header_counts.merb.total,new_count:this.props.header_counts.merb.new_count},insight:{total:this.props.header_counts.insight.total,new_count:this.props.header_counts.insight.new_count}},{items:[],selected_items:c?decodeURIComponent(c).split(","):[],total:0,page:t?parseInt(t[0]):0,per_page:e?parseInt(e[0]):50,order:i||"sol desc",begin_date:r&&!n?r[0]:"",end_date:o&&!s?o[0]:"",begin_date_input:r&&!n?r[0]:"",end_date_input:o&&!s?o[0]:"",is_download_modal_open:!1,is_download_request_open:!1,start_index:0,end_index:0,page_count:0,first_load:!0,selected_max:100,is_max_selected_modal_open:!1,begin_min_date:null,end_min_date:null,begin_max_date:0,end_max_date:0,current_detail:null,detail_enter_from:null,detail_info_open:!1,mission:u||"all",sending_download_request:!1,begin_sol:n?n[0]:"",end_sol:s?s[0]:"",begin_sol_input:n?n[0]:"",end_sol_input:s?s[0]:"",filter_sections:this.props.filters[p].sections,active_facets:d,filters_open:f,mission_selector_open:!1,new_count:null,sol_count:null,latest:this.props.header_counts.latest,latest_by_mission:{},latest_sol:null,filter_by_latest:!!a,latest_sols:[],latest_sols_selected:a?a[0].split(","):[],header_counts:m}},componentWillMount:function(){ReactGA.initialize("UA-9453474-9")},componentDidMount:function(){if(this.getData(this.initListeners,!0),""!=this.state.begin_sol){var e=this.getDateForSol(this.state.begin_sol);this.setState({begin_date:e,begin_date_input:e})}else if(""!=this.state.begin_date){var t=this.getSolForDate(this.state.begin_date);this.setState({begin_sol:t,begin_sol_input:t})}if(""!=this.state.end_sol){var i=this.getDateForSol(this.state.end_sol);this.setState({end_date:i,end_date_input:i})}else if(""!=this.state.end_date){var n=this.getSolForDate(this.state.end_date);this.setState({end_sol:n,end_sol_input:n})}this.initTooltips();var s=this;$(document).on("selectem",function(e,t){var i=t;s.setState({per_page:t},function(){s.getData(function(){s._handleSelectABunch(i)})})})},componentWillUnmount:function(){$(window).off("selectToggleFromFancybox"),$(window).off("setCurrentDetailFromFancybox")},initListeners:function(){main.initListeners();var e=this;$(window).on("selectToggleFromFancybox",function(t,i){return $(".fancybox-open .button[data-external-id="+i+"]").toggleClass("selected"),$(".raw_list_image[data-external-id="+i+"]").parent().toggleClass("selected"),e.addRemoveImageFromCurrentSelection(i),mb_utils.createCookie("raw_images_selection",e.state.selected_items.join(","),365,!1),!1}),$(window).on("setCurrentDetailFromFancybox",function(t,i){console.log("event called from fancybox. id: "+i),e.viewDetail(i)})},_handleSelectABunch:function(e){console.log("num_items",e,this.state.items.length);var t=[];this.state.items.map(function(e){t.push(e.feiimageid)}),this.setState({selected_items:t})},initTooltips:function(){$(".question_tooltip").tooltipsy({alignTo:"element",delay:0,offset:[0,-1],css:{"margin-bottom":"10px","max-width":"150px"}})},getParams:function(e){var t=this,i=e?this.state.page:0,n={ajax_params:{order:this.state.order,per_page:this.state.per_page,page:i},cookie_params:{order:this.state.order,per_page:this.state.per_page,page:i,mission:this.state.mission}},s="",r="",o="";"all"!==this.state.mission&&(n.ajax_params.condition_1=this.state.mission+":mission");var a=2;if(this.state.filter_by_latest){var l=new Date(this.state.latest.replace(" UTC","Z").replace(" ","T"));l.setDate(l.getDate()-1),n.ajax_params["condition_"+a++]=l.toISOString()+":date_received:gte",n.ajax_params["condition_"+a++]=this.state.latest_sols_selected.toString()+":sol:in",n.cookie_params.fbl=this.state.latest_sols_selected.toString()}else{if(""!=this.state.begin_date){var c=!1;if(/^([0-9]{4})-([0-9][0-9]??)-([0-9][0-9]??)$/.test(this.state.begin_date)){n.cookie_params.begin_date=this.state.begin_date;var u=this.state.begin_date.replace(/-/g,"/"),h=new Date(u);this.numIsNan(h.getTime())||(c=!0,n.ajax_params["condition_"+a++]=u+":date_taken:gte")}c||this.setState({begin_date:""})}if(""!=this.state.end_date){var d=!1;if(/^([0-9]{4})-([0-9][0-9]??)-([0-9][0-9]??)$/.test(this.state.end_date)){n.cookie_params.end_date=this.state.end_date;var p=this.state.end_date.replace(/-/g,"/"),f=new Date(p),m=new Date(f.setDate(f.getDate()+1));if(!this.numIsNan(m.getTime())){d=!0;var g=m.getFullYear()+"-"+(m.getMonth()+1)+"-"+m.getDate();n.ajax_params["condition_"+a++]=g+":date_taken:lt"}}d||this.setState({end_date:""})}if(""!=this.state.begin_sol){var v=parseInt(this.state.begin_sol);v>=0?(n.ajax_params["condition_"+a++]=v+":sol:gte",n.cookie_params.begin_sol=v):(this.setState({begin_sol:""}),console.log("SOL values must be greater than or equal to 0"))}if(""!=this.state.end_sol){var _=parseInt(this.state.end_sol);_>=0?(n.ajax_params["condition_"+a++]=_+":sol:lte",n.cookie_params.end_sol=_):(this.setState({end_sol:""}),console.log("SOL values must be greater than or equal to 0"))}}$.each(this.state.filter_sections,function(e,i){var n=t.state.active_facets[t.state.mission+"_"+i.name];$.each(n,function(e,t){"extended"==i.field?(r+=r.length>0?",":"",r+=t):(s+=s.length>0?"|":"",s+=t)}),o+=o.length>0?","+n:n}),o.length>0&&(n.cookie_params.af=o);var y=this.props.filters.findIndex(function(e){return e.name==t.state.mission});return""==r&&this.props.filters[y].extended_default&&(r=this.props.filters[y].extended_default),n.ajax_params.search=s,n.ajax_params.extended=r,n},getData:function(e,t){var i,n=this,s=this,r=this.getParams(t);mb_utils.createCookie("raw_images_filter",$.param(r.cookie_params),365),window.history.replaceState(r,null,this.props.url+"/?"+$.param(r.cookie_params)),this.state.first_load&&(i=undefined,i=n.props.mission?n.props.mission:n.state.mission,$.ajax({url:"/api/v1/raw_image_items/"+i+"/latest/",data:{sol:n.state.sol},method:"GET",dataType:"json",success:function(e){console.log("Got latest data successfully.... ");var t=e.latest_data,n={latest:t.latest,latest_sol:t.latest_sol,latest_sols:t.latest_sols?t.latest_sols:[],latest_sols_selected:t.latest_sols?t.latest_sols.slice():[],sol_count:t.sol_count,new_count:t.new_count},r=$.extend({},this.state.header_counts),o=$.extend({},this.state.latest_by_mission);"all"==i?(r={all:{total:t.total,new_count:t.new_count},msl:{total:t.msl.total,new_count:t.msl.new_count},mera:{total:t.mera.total,new_count:t.mera.new_count},merb:{total:t.merb.total,new_count:t.merb.new_count},insight:{total:t.insight.total,new_count:t.insight.new_count}},o={all:t.latest,msl:t.msl.latest,mera:t.mera.latest,merb:t.merb.latest,insight:t.insight.latest}):(r[i]={total:t.total,new_count:t.new_count},o[i]=t.latest),n=$.extend(n,{header_counts:r,latest_by_mission:o}),s.setState(n)}.bind(n),error:function(e,t,i){console.error(t,i.toString())}.bind(n)})),$.ajax({url:"/api/v1/raw_image_items",data:r.ajax_params,method:"GET",dataType:"json",success:function(t){console.log("Got items successfully.... ");var i=$.extend(t,{first_load:!1,current_detail:null});s.setState(i),this.updateIndices(),"function"==typeof e&&e.call()}.bind(this),error:function(e,t,i){console.error(t,i.toString())}.bind(this)})},updateIndices:function(){var e=this.state.page*this.state.per_page,t=Math.min(this.state.total,e+this.state.per_page),i=Math.ceil(this.state.total/this.state.per_page);this.setState({start_index:e,end_index:t,page_count:i})},closeDownloadStatus:function(e){$(e.target).parents(".download_status").slideUp()},toggleSection:function(e){$(e.target).parents(".form_section").toggleClass("open")},selectForDownload:function(e){if(this.state.selected_items.length>=this.state.selected_max)this.setState({is_max_selected_modal_open:!0});else{var t=$(e.target).parents(".raw_image_container").find(".raw_list_image").data("external-id");this.addRemoveImageFromCurrentSelection(t)}},addRemoveImageFromCurrentSelection:function(e){var t=this.state.selected_items,i=t.indexOf(e.toString());i>-1?t.splice(i,1):t.push(e.toString()),this.setState({selected_items:t},function(){mb_utils.createCookie("raw_images_selection",this.state.selected_items.join("%2C"),365,!1)})},clearSelected:function(){$(".raw_image_container").removeClass("selected"),mb_utils.createCookie("raw_images_selection","",365,!1),this.setState({selected_items:[]})},clearFilters:function(){var e=$.extend(!0,{},this.blank_facets);this.setState({begin_date:"",end_date:"",begin_date_input:"",end_date_input:"",begin_sol:"",end_sol:"",begin_sol_input:"",end_sol_input:"",active_facets:e,latest_sols_selected:[]},this.getData),ReactGA.event({category:"Raw Images",action:"Cleared all filters"})},removeFilter:function(e){var t=e.target.getAttribute("data-filter-name");if(console.log("remove filter",t),t){if(/^latest_sol/i.test(t)){var i=t.match(/latest_sol_(\d+)/)[1],n=this.state.latest_sols_selected.slice();n.splice(n.indexOf(parseInt(i)),1),this.setState({latest_sols_selected:n},this.getData)}else if(/^(date|sol)/i.test(t))this.setState({begin_date:"",end_date:"",begin_date_input:"",end_date_input:"",begin_sol:"",begin_sol_input:"",end_sol:"",end_sol_input:""},this.getData);else{var s=$.extend(!0,{},this.state.active_facets),r=t.split("_"),o=r[0]+"_"+r[1],a=s[o].indexOf(r[2]);s[o].splice(a,1),this.setState({active_facets:s},this.getData)}ReactGA.event({category:"Raw Images",action:"Removed a Filter",label:t})}},hasActiveFilters:function(){var e=!1;return $.each(this.state.active_facets,function(t,i){i.length>0&&(e=!0)}),""!=this.state.begin_date||""!=this.state.end_date||""!=this.state.begin_sol||""!=this.state.end_sol||""!=this.state.begin_date_input||""!=this.state.end_date_input||null!=this.state.begin_min_date||0!=this.state.begin_max_date||null!=this.state.end_min_date||0!=this.state.end_max_date||e},scrollToTop:function(e){var t=document.getElementById("article_title");t&&t.scrollIntoView&&(e.preventDefault(),t.scrollIntoView())},downloadImageSet:function(e){if(console.log("RawImages.downloadImageSet: ",e),0==e.length)return this.closeDownloadModal(),null;var t="/raw_images_download",i=this;$.ajax({url:t,data:{ids:e},method:"POST",dataType:"json",success:function(t){$(".download_status p").html(t.message).parent().slideDown(),$("html,body").animate({scrollTop:$(".download_status").offset().top-120}),i.closeDownloadModal(),ReactGA.event({category:"Raw Images",action:"Download Selected",label:e.length.toString()})},fail:function(){$(".errors").append("<p> Error: We were unable to process your request. Please try again. </p> "),i.closeDownloadModal()}})},submitDownloadRequest:function(){var e=this;if(!this.state.sending_download_request){var t=function(){e.setState({sending_download_request:!0});var t=$("#email_for_download").val(),i=t.indexOf("@"),n=t.lastIndexOf(".");if(i<1||n<i+2||n+2>=t.length)return $("#email_for_download").css({border:"1px solid #f2162a"}),$("#email_validation_error").show(),{v:!1};$("#email_for_download").css({border:"1px solid #777777"}),$("#email_validation_error").hide(),console.log("submitDownloadRequest");var s="/raw_images_download?email="+$("#email_for_download").val()+"&",r=e,o=mb_utils.readCookie("raw_images_filter");$.ajax({url:s+o,method:"GET",dataType:"json",success:function(e){console.log("success! data: "+e.message),r.setState({sending_download_request:!1}),$(".download_status p").html(e.message).parent().slideDown(),r.closeDownloadRequest(),r.closeDownloadModal(),$("html,body").animate({scrollTop:$(".download_status").offset().top-120}),ReactGA.event({category:"Raw Images",action:"Download Requested",label:o})},fail:function(){console.log("failure!"),$(".errors").append("<p> Error: We were unable to process your request. Please try again. </p> "),r.closeDownloadRequest(),r.closeDownloadModal()}})}();if("object"==typeof t)return t.v}},downloadFiltered:function(){var e,t=this;if(!(this.state.total>0))return null;if(console.log("RawImages.downloadFiltered"),this.setState({is_download_modal_open:!0}),0==this.hasActiveFilters())this.downloadFullSet();else{if(this.state.total>this.props.max_download)return this.closeDownloadModal(),this.openDownloadRequest(),null;e=[],console.log("Items: "+e),t.state.items.map(function(t){e.push(t.feiimageid)}),t.downloadImageSet(e)}},downloadSelected:function(){console.log("RawImages.downloadSelected"),this.downloadImageSet(this.state.selected_items)},downloadFullSet:function(){console.log("RawImages.downloadFullSet");var e="Download full image set below: <br />";e+="<ul>",e+='  <li><a href="/download_all/all_raw_images_0.zip">all_raw_images_0.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_1.zip">all_raw_images_1.zip (1.2 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_2.zip">all_raw_images_2.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_3.zip">all_raw_images_3.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_4.zip">all_raw_images_4.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_5.zip">all_raw_images_5.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_6.zip">all_raw_images_6.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_7.zip">all_raw_images_7.zip (1.2 GB)</a></li>',e+="</ul>",$(".download_status p").html(e).parent().slideDown(),$("html,body").animate({scrollTop:$(".download_status").offset().top-120}),this.closeDownloadModal(),ReactGA.event({category:"Raw Images",action:"Download All"})},numIsNan:function(e){return e.toString()!=e},formatNumber:function(e){if(this.numIsNan(e))return"";for(var t=e.toString(),i="",n=0;n<t.length;n++)(t.length-n)%3==0&&n>0&&(i+=","),i+=t.charAt(n);return i},changeDates:function(){var e=$("input[name=begin_date]").val(),t=$("input[name=end_date]").val(),i={begin_date:e,begin_date_input:e,end_date:t,end_date_input:t};""!=e&&(i.begin_sol=""),""!=t&&(i.end_sol=""),this.setState(i,function(){this.getData(),""!=this.state.begin_date&&this.setBeginSolPerDate(),""!=this.state.end_date&&this.setEndSolPerDate()}),ReactGA.event({category:"Raw Images",action:"Changed date range",label:(e||"Mission launch")+" - "+(t||"present")})},openDownloadModal:function(){this.downloadSelected(),this.setState({is_download_modal_open:!0})},openDownloadRequest:function(){this.setState({is_download_request_open:!0})},closeDownloadModal:function(){this.setState({is_download_modal_open:!1})},closeDownloadRequest:function(){this.setState({is_download_request_open:!1})},changePageIndex:function(e,t,i){this.changePageNumber(e+1,t,i)},changePageNumber:function(e,t,i){if(console.log("raw_images.changePageNumber page, maintain_scroll_position",e,i),this.numIsNan(e))console.log("changePageNumber: page is NaN"),this.setState({page:e});else{var n=e-1;if(console.log("page",e,n),this.setState({page:n},function(){this.getData(t,!0)}),!i)if((document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)>$(".raw_images_form").offset().top){var s=mb_utils.getIEVersion();s.major>0&&s.major<12?document.documentElement.scrollTop=$(".raw_images_form").offset().top:window.scrollTo(0,$(".raw_images_form").offset().top)}}ReactGA.event({category:"Raw Images",action:"Changed page",label:e.toString(),value:e})},changeOrder:function(e){console.log("ri: change order",e),this.setState({order:e},this.getData),ReactGA.event({category:"Raw Images",action:"Changed sort order",label:e})},changePerPage:function(e){console.log("ri: change pp",e),this.setState({per_page:e},this.getData),ReactGA.event({category:"Raw Images",action:"Changed per page",label:e,value:parseInt(e)})},onCheckBoxChange:function(e){var t=e.target,i=t.name.split("_")[0],n=/^\d+$/g.test(t.value)?parseInt(t.value):t.value;this.addRemoveCheckboxItemFromActiveFacets(i,n,t.checked)},addRemoveCheckboxItemFromActiveFacets:function(e,t){var i=$.extend(this.state.active_facets,{}),n=i[this.state.mission+"_"+e].indexOf(t);n>-1?i[this.state.mission+"_"+e].splice(n,1):i[this.state.mission+"_"+e].push(t),this.setState({active_facets:i},this.getData)},activeFilters:function(){var e=[],t=this;if(this.state.filter_by_latest){var i=this.state.latest_sols_selected.map(function(e){return{id:"latest_sol_"+e,text:"Sol: "+e}});e=e.concat(i)}else if(""!=this.state.begin_sol||""!=this.state.end_sol){var n=""==this.state.begin_sol?"Landing":this.state.begin_sol,s=""==this.state.end_sol?"Latest Sol":this.state.end_sol;e.push({id:"sol",text:"Sol: "+n+" to "+s})}else if(""!=this.state.begin_date||""!=this.state.end_date){var r=""==this.state.begin_date?"Mission start":this.state.begin_date,o=""==this.state.end_date?"Present":this.state.end_date;e.push({id:"date",text:"Date: "+r+" to "+o})}return $.each(this.state.active_facets,function(i,n){var s=t.getActiveFacetsArray(i,n);e=e.concat(s)}),e},getActiveFacetsArray:function(e,t){var i=this.state.filter_sections,n=this,s=i.filter(function(t){return n.state.mission+"_"+t.name==e})[0];if(s&&s.checkboxes)var r=s.checkboxes.filter(function(e){return t.indexOf(e.value)>-1}).map(function(t){return{id:n.state.mission+"_"+s.name+"_"+t.value,text:titleize(e.split("_")[1])+": "+t.label}});return r&&r.length>0?r:[]},itemIsSelected:function(e){return this.state.selected_items.indexOf(e.toString())>-1},changeBeginDateValue:function(e){console.log("changeBeginDateValue",e.target.value),this.setState({begin_date_input:e.target.value}),ReactGA.event({category:"Raw Images",action:"Changed begin date",label:e.target.value.toString()})},changeOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&(console.log("changeOnEnter: enter pressed in date field"),this.changeDates())},addDaysToMinDate:function(e,t){var i=new Date(e);return i.setDate(e.getDate()+t),i},beginDatePickerClose:function(e,t,i){if(""!=e){console.log(e,t,i);var n=new Date(e);n.setDate(n.getDate()+1),this.setState({end_min_date:n,begin_date_input:e},this.changeDates)}},endDatePickerClose:function(e,t,i){""!=e&&(console.log(e,t,i),this.setState({begin_max_date:new Date(e),end_date_input:e},this.changeDates))},clearBeginDate:function(){this.setState({begin_min_date:null,begin_date_input:"",end_min_date:null},this.changeDates),ReactGA.event({category:"Raw Images",action:"Cleared begin date"})},clearEndDate:function(){this.setState({end_max_date:0,end_date_input:"",begin_max_date:0},this.changeDates),ReactGA.event({category:"Raw Images",action:"Cleared end date"})},changeEndDateValue:function(e){console.log(e),this.setState({end_date_input:e.target.value}),ReactGA.event({category:"Raw Images",action:"Changed end date",label:e.target.value.toString()})},setBeginSolPerDate:function(){if(""!=this.state.begin_date){console.log("SetBeginSolPerDate:",this.state.begin_date);var e=this.getSolForDate(this.state.begin_date);e>=0&&this.setState({begin_sol_input:e,begin_sol:""})}},setEndSolPerDate:function(){if(""!=this.state.end_date){console.log("SetEndSolPerDate:",this.state.end_date);var e=this.getSolForDate(this.state.end_date);e>=0&&this.setState({end_sol_input:e,end_sol:""})}},cancelMaxSelectedModal:function(){this.setState({is_max_selected_modal_open:!1})},closeMaxSelectedAndCloseModal:function(){this.downloadSelected(),this.setState({is_max_selected_modal_open:!1})},viewFirstDetail:function(){this.viewDetail("FIRST_ITEM","right")},viewLastDetail:function(){this.viewDetail("LAST_ITEM","left")},viewDetail:function(e,t){"PREV_PAGE"==e?this.changePageIndex(this.state.page-1,this.viewLastDetail,!0):"NEXT_PAGE"==e?this.changePageIndex(this.state.page+1,this.viewFirstDetail,!0):"FIRST_ITEM"==e?this.setState({current_detail:this.state.items[0].id,detail_enter_from:t},this.scrollToDetail):"LAST_ITEM"==e?this.setState({current_detail:this.state.items[this.state.items.length-1].id,detail_enter_from:t},this.scrollToDetail):this.setState({current_detail:e,detail_enter_from:t},this.scrollToDetail)},scrollToDetail:function(){var e=$(".raw_image_detail").parents(".raw_image_container");if(e.length>0){var t=$("header.site_header").outerHeight(),i=e.next(),n=e.prev(),s=window.innerWidth>=600?e.offset().top-t-5:e.offset().top,r=undefined,o=undefined;if(r=i.length>0?window.innerWidth>=600?e.offset().top+i.height()-t-1:i.offset().top:0,o=n.length>0?window.innerWidth>=600?n.offset().top-t-5:n.offset().top:0,Math.abs(s-window.scrollY)<5||Math.abs(r-window.scrollY)<5||Math.abs(o-window.scrollY)<5){var a=mb_utils.getIEVersion();a.major>0&&a.major<12?document.documentElement.scrollTop=s:window.scrollTo(0,s)}else $("html,body").animate({scrollTop:s},200)}},closeDetail:function(){this.setState({current_detail:null,detail_info_open:!1})},filtersApplied:function(){return""==this.state.min_distance&&""==this.state.max_distance&&""==this.state.begin_date&&""==this.state.end_date},setDefaultInfoOpen:function(e){this.setState({detail_info_open:e})},logPagePrevNext:function(e,t){console.log("Logging page change event: "+e),ReactGA.event({category:"Raw Images",action:"Changed page",label:e,value:t})},changeBeginSolValue:function(e){this.setState({begin_sol_input:e.currentTarget.value})},changeEndSolValue:function(e){this.setState({end_sol_input:e.currentTarget.value})},changeBeginSol:function(e){var t=this,i={begin_sol:e.currentTarget.value,end_sol:this.state.end_sol_input};""!=e.currentTarget.value&&(i.begin_date=""),this.setState(i,function(){t.getData(),t.setBeginDatePerSol()})},changeEndSol:function(e){var t=this,i={end_sol:e.currentTarget.value,begin_sol:this.state.begin_sol_input};""!=e.currentTarget.value&&(i.end_date=""),this.setState(i,function(){t.getData(),t.setEndDatePerSol()})},setBeginSolOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&this.changeBeginSol(e)},setEndSolOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&this.changeEndSol(e)},setBeginDatePerSol:function(){""!=this.state.begin_sol&&(console.log("SetBeginDatePerSol:",this.state.begin_sol),this.setState({begin_date_input:this.getDateForSol(this.state.begin_sol),begin_date:""}))},setEndDatePerSol:function(){""!=this.state.end_sol&&(console.log("SetEndDatePerSol:",this.state.end_sol),this.setState({end_date_input:this.getDateForSol(this.state.end_sol),end_date:""}))},getSolForDate:function(e){var t=this.mission_info[this.state.mission].sol_0,i=this.mission_info[this.state.mission].deg_east,n=e.split("-"),s=new Date(Date.UTC(n[0],parseInt(n[1])-1,n[2])),r=utcToMsd(s);return Math.floor(r-(360-i)/360-parseInt(t))},getDateForSol:function(e){var t=this.mission_info[this.state.mission].sol_0,i=this.mission_info[this.state.mission].deg_east,n=parseInt(t)+parseInt(e)+(360-i)/360,s=msdToUtc(n);return s.getUTCFullYear()+"-"+(s.getUTCMonth()+1)+"-"+s.getUTCDate()},changeMission:function(e){var t=e.currentTarget.dataset.mission,i=this.props.filters.filter(function(e){return e.name==t})[0],n=undefined;n=this.mission_info[t]&&this.mission_info[t].sort_options?this.mission_info[t].sort_options[0].value:this.default_sort_options[0].value,this.setState({mission:t,filter_sections:i.sections,begin_date:"",begin_date_input:"",end_date:"",end_date_input:"",begin_sol:"",begin_sol_input:"",end_sol:"",end_sol_input:"",order:n,filters_open:"all"!=t,filter_by_latest:!1,latest_sols:[],latest_sols_selected:[],first_load:!0},this.getData)},isCurrentMission:function(e){return this.state.mission==e?"current":""},toggleMissionSelector:function(){this.setState({mission_selector_open:!this.state.mission_selector_open})},getSortOptions:function(){return this.mission_info[this.state.mission]&&this.mission_info[this.state.mission].sort_options?this.mission_info[this.state.mission].sort_options:this.default_sort_options},getLatestSolInfo:function(){if("all"==this.state.mission){var e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"];return React.createElement("span",null,t[e.getUTCMonth()]+" "+e.getUTCDate()+", "+e.getUTCFullYear())}if(this.state.latest_sol&&this.state.sol_count)return React.createElement("span",null,React.createElement("strong",null,this.state.sol_count)," total ",1==this.state.sol_count?"image":"images"," for Sol ",this.state.latest_sol)},isLatest:function(e){if(e.date_received&&this.state.latest_by_mission[e.mission]){var t=new Date(e.date_received),i=new Date(this.state.latest_by_mission[e.mission]);return i.setUTCDate(i.getUTCDate()-1),t.valueOf()>=i.valueOf()}return!1},toggleFilters:function(){this.setState({filters_open:!this.state.filters_open},function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)})},setFiltersByDate:function(){this.setState({filter_by_latest:!1},this.getData)},setFiltersByLatest:function(){this.setState({filter_by_latest:!0},this.getData)},onLatestSolsCheckboxChange:function(e){var t=this.state.latest_sols_selected.slice(),i=t.indexOf(parseInt(e.target.value));-1==i?(t.push(parseInt(e.target.value)),t.sort()):t.splice(i,1),this.setState({latest_sols_selected:t},this.getData)},renderLatestInfo:function(){if(this.state.new_count)return React.createElement("div",{className:"latest_info"},React.createElement("h4",null,React.createElement("span",{className:"new_raw_images_count"},React.createElement("strong",null,this.state.new_count)," new ",1==this.state.new_count?"image":"images"),this.getLatestSolInfo()))},renderGrid:function(){var e=this,t=[{label:"25",value:25},{label:"50",value:50},{label:"100",value:100}],i=this.getSortOptions();return React.createElement("div",null,e.activeFilters().length>0?React.createElement("div",{className:"filtering_results"},"Filtering:",React.createElement("span",{className:"applied_filters"},e.activeFilters().map(function(t){return React.createElement("div",{key:t.id,className:"applied_filter"},React.createElement("a",{className:"filter_remove",href:"javascript:void(0)","data-filter-name":t.id,onClick:e.removeFilter}),t.text)})),React.createElement("a",{className:"clear_filter",onClick:e.clearFilters},"Clear filters")):this.renderLatestInfo(),React.createElement("hr",null),React.createElement("div",{id:"primary_column",className:"all"==this.state.mission?"full_width_grid":""},React.createElement(PaginationCount,{
count:this.state.total,start_index:this.state.start_index,end_index:this.state.end_index,item_type:"images",formatNumber:this.formatNumber,first_load:this.state.first_load}),React.createElement(PageSort,{per_page_options:t,initial_pp:this.state.per_page,sort_options:i,initial_sort:this.state.order,page:this.state.page+1,count:this.state.total,changeSort:this.changeOrder,changePage:this.changePageNumber,changePerPage:this.changePerPage,page_count:this.state.page_count,formatNumber:this.formatNumber,logGaEvent:this.logPagePrevNext}),React.createElement("div",{className:"mobile_filter_btn"},e.activeFilters().length>0?React.createElement("a",{className:"mobile_clear_filters",onClick:e.clearFilters},"Clear all filters"):"","all"==this.state.mission?null:React.createElement("a",{className:"button",onClick:this.toggleFilters},"Show Filters"),React.createElement("hr",null)),React.createElement("section",{className:"raw_image_gallery grid_gallery"},React.createElement("ul",{className:"raw_images_list"},e.state.items.map(function(t){var i,n=t.https_url;i="insight"==t.mission?t.https_url.replace(/\.jpg/i,".PNG"):t.https_url,"msl"==t.mission&&(n=t.https_url.replace(/\.jpg/i,"-thm.jpg"));var s="/raw_images/"+t.id+(e.props.mission?"?site="+e.props.mission:"");return React.createElement("li",{key:t.id,className:"raw_image_container "+(e.itemIsSelected(t.imageid)?" selected":"raw_image_container")+" "+(t.is_thumbnail?"thumbnail":"")},e.isLatest(t)?React.createElement("div",{className:"latest_triangle"}):null,React.createElement("div",{className:"raw_list_image","data-external-id":t.imageid},React.createElement("div",{className:"raw_list_image_inner",onClick:function(){e.viewDetail(t.id)}},React.createElement("a",{className:"fancybox_slideshow",href:s,"data-fancybox-group":"images","data-fancybox-href":t.https_url,"data-fancybox-download":i,"data-title":t.title,"data-sharedescription":"","data-thumbnail":n,"data-link":s,"data-id":t.id,"data-external-id":t.imageid}),React.createElement("img",{src:n}))),e.renderDetail(t))}))),React.createElement("div",{className:"errors"},React.createElement("div",{className:"date_error",style:{display:"none"}},"ERROR: Incorrect date format - please enter date as 'YYYY-MM-DD'.")),React.createElement("footer",{className:"search_footer"},React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,{initial_pp:e.state.per_page,page:this.state.page+1,changePage:e.changePageNumber,page_count:this.state.page_count,formatNumber:this.formatNumber,logGaEvent:this.logPagePrevNext}),React.createElement("span",{className:"scroll_to_top"},React.createElement("a",{href:"#",onClick:this.scrollToTop},"Back to top"))))),this.renderSidebar())},renderSidebar:function(){var e=this,t=this.state.latest_sols.map(function(e){return{label:"Sol "+e.toString(),value:e}});if(this.state.filters_open)return React.createElement("div",{id:"secondary_column"},React.createElement("aside",{className:"boxed raw_images_sidebar"},React.createElement("header",null,React.createElement("h2",null,"Filters"),React.createElement("div",{className:"mobile_filter_controls"},React.createElement("a",{className:"clear_filter",href:"javascript:void(0)","data-submit-form":"true",onClick:e.clearFilters},"Clear all"),React.createElement("a",{className:"button done",href:"javascript:void(0)",onClick:e.toggleFilters},"Done"))),React.createElement("hr",null),React.createElement("div",{className:"date_filters"},React.createElement("fieldset",{className:"latest_toggle_container"},React.createElement("span",{className:"latest_toggle"},React.createElement("span",{className:"input_container"},React.createElement("input",{id:"by_date",className:"by_date",name:"by_date",type:"radio",onChange:this.setFiltersByDate,checked:!this.state.filter_by_latest,value:"by_date"}),React.createElement("label",{htmlFor:"by_date"},"Dates")),React.createElement("span",{className:"input_container"},React.createElement("input",{id:"by_latest",className:"by_latest",name:"by_latest",type:"radio",onChange:this.setFiltersByLatest,checked:this.state.filter_by_latest,value:"by_latest"}),React.createElement("label",{htmlFor:"by_latest"},"Latest Images")))),this.state.filter_by_latest?React.createElement(CheckboxList,{items:t,checked_items:this.state.latest_sols_selected,checkbox_class:"ri_checkbox",when_clicked:this.onLatestSolsCheckboxChange}):React.createElement("fieldset",{className:"observation_time"},React.createElement("div",{className:"filter_row"},React.createElement(DateFilter,{clear:this.clearBeginDate,min_date:this.state.begin_min_date,max_date:this.state.begin_max_date,closeDatePicker:this.beginDatePickerClose,placeholder:"yyyy-mm-dd",preposition:"From",preposition_small:"START",datepicker_class:"begin_date",input_name:"begin_date",date_value:this.state.begin_date_input,changeValue:this.changeBeginDateValue,onKeyPress:this.changeOnEnter}),React.createElement("input",{className:"begin_sol",type:"number",placeholder:"Sol",name:"begin_sol",value:this.state.begin_sol_input,onChange:this.changeBeginSolValue,onBlur:this.changeBeginSol,onKeyPress:this.setBeginSolOnEnter})),React.createElement("div",{className:"filter_row"},React.createElement(DateFilter,{clear:this.clearEndDate,min_date:this.state.end_min_date,max_date:this.state.end_max_date,closeDatePicker:this.endDatePickerClose,placeholder:"yyyy-mm-dd",preposition:"to",preposition_small:"END",datepicker_class:"end_date",input_name:"end_date",date_value:this.state.end_date_input,changeValue:this.changeEndDateValue,onKeyPress:this.changeOnEnter}),React.createElement("input",{className:"end_sol",type:"number",placeholder:"Sol",name:"end_sol",value:this.state.end_sol_input,onChange:this.changeEndSolValue,onBlur:this.changeEndSol,onKeyPress:this.setEndSolOnEnter})))),this.state.filter_sections.map(function(t,i){return React.createElement("div",{className:"form_section",key:i},React.createElement("hr",null),React.createElement("div",{className:"form_section_header",onClick:e.toggleSection},t.super_title?React.createElement("h3",null,t.super_title):null,React.createElement("h4",null,t.name),t.about_text?React.createElement("p",null,t.about_text):null,React.createElement("div",{className:"expand_section"},React.createElement("div",{className:"arrow_down"}))),React.createElement(CheckboxList,{items:t.checkboxes,checked_items:e.state.active_facets[e.state.mission+"_"+t.name]?e.state.active_facets[e.state.mission+"_"+t.name]:[],checkbox_class:"ri_checkbox",when_clicked:e.onCheckBoxChange,show_count:t.show_count,show_min:t.show_min,filterable:t.filterable,placeholder:t.placeholder,formatNumber:e.formatNumber,more_less:t.more_less,form_section:t.name,show_all:t.show_all,clear_items:e.clearItems,text_format:"none",delimiter:"_"}))})))},renderDetail:function(e){var t,i,n,s,r=this;if(this.state.current_detail==e.id){var o=(t=r.state.items.indexOf(e),i=undefined,n=undefined,s=undefined,0==t&&r.state.page>0?(i="PREV_PAGE",n=t<r.state.items.length-1?r.state.items[t+1].id:e.id):t==r.state.items.length-1&&r.state.page<r.state.page_count-1?(i=t>0?r.state.items[t-1].id:e.id,n="NEXT_PAGE"):(i=t>0?r.state.items[t-1].id:e.id,n=t<r.state.items.length-1?r.state.items[t+1].id:e.id),s=90==window.orientation||-90==window.orientation?isMobile.iOS()?screen.width:screen.height:window.innerWidth,{v:React.createElement(RawImageDetail,{item:e,item_link:"/raw_images/"+e.id+(r.props.mission?"?site="+r.props.mission:""),short_name:r.mission_info[e.mission].short_name,prevFn:function(){this.viewDetail(i,"left")}.bind(r),prev_disabled:i==e.id,nextFn:function(){this.viewDetail(n,"right")}.bind(r),next_disabled:n==e.id,closeFn:function(){this.closeDetail()}.bind(r),portrait_width:s,enter_from:r.state.detail_enter_from,setDefaultInfoOpen:r.setDefaultInfoOpen,info_open_default:r.state.detail_info_open,faq_link:"insight"==r.props.mission?"/insight/faq/#images":"/faq/#raw_images"})});if("object"==typeof o)return o.v}},renderMissionSelector:function(){var e=this;if(this.state.mission_selector_open)return this.props.header_missions?React.createElement("div",{className:"missions"},this.props.header_missions.map(function(t){return React.createElement("div",{key:t.title,className:"mission "+("all"==t.raw_mission?"all_missions":t.raw_mission)+" "+e.isCurrentMission(t.raw_mission),"data-mission":t.raw_mission,onClick:e.changeMission},React.createElement("div",{className:"circle",style:{backgroundImage:"url("+t.image+")"}},React.createElement("div",{className:"mission_counts"},e.state.header_counts[t.raw_mission].new_count," New",React.createElement("br",null),e.state.header_counts[t.raw_mission].total," Total"),React.createElement("div",{className:"mission_title"},t.title)))})):React.createElement("div",{className:"missions"},React.createElement("div",{className:"mission all_missions "+this.isCurrentMission("all"),"data-mission":"all",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.all.new_count," New",React.createElement("br",null),this.state.header_counts.all.total," Total"),React.createElement("div",{className:"mission_title"},"All Missions"))),React.createElement("div",{className:"mission msl "+this.isCurrentMission("msl"),"data-mission":"msl",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.msl.new_count," New",React.createElement("br",null),this.state.header_counts.msl.total," Total"),React.createElement("div",{className:"mission_title"},"Curiosity"))),React.createElement("div",{className:"mission merb "+this.isCurrentMission("merb"),"data-mission":"merb",onClick:this.changeMission},React.createElement("div",{className:"circle "},React.createElement("div",{className:"mission_counts"},this.state.header_counts.merb.new_count," New",React.createElement("br",null),this.state.header_counts.merb.total," Total"),React.createElement("div",{className:"mission_title"},"Opportunity"))),React.createElement("div",{className:"mission mera "+this.isCurrentMission("mera"),"data-mission":"mera",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.mera.new_count," New",React.createElement("br",null),this.state.header_counts.mera.total," Total"),React.createElement("div",{className:"mission_title"},"Spirit"))),React.createElement("div",{className:"mission insight "+this.isCurrentMission("insight"),"data-mission":"insight",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.insight.new_count," New",React.createElement("br",null),this.state.header_counts.insight.total," Total"),React.createElement("div",{className:"mission_title"},"InSight"))))},render:function(){var e=this,t={background:"#000"},i={lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#FFF",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};undefined;this.filtersApplied(),this.formatNumber(this.state.total);var n=undefined;return n="all"==this.state.mission?"All raw images":this.mission_info[this.state.mission].title,React.createElement("div",{className:"grid_layout"},React.createElement("article",null,React.createElement("div",{className:"raw_images_form "+(this.state.items.length>0?"":"no_results")+" "+(this.state.filters_open?"":"faceted_search_hidden_filters")},React.createElement("header",{id:"page_header"},React.createElement("h1",{id:"article_title",className:"article_title"},"Raw Images"),this.props.mission?null:React.createElement("div",{className:"mission_selector"},React.createElement("div",{className:"active_mission_image "+this.state.mission}),React.createElement("div",{className:"active_mission_header"},React.createElement("h2",{className:"category_title"},"NOW VIEWING"),React.createElement("h2",{className:"mission_header_text"},n),"all"!==this.state.mission&&this.mission_info[this.state.mission].link?React.createElement("a",{href:this.mission_info[this.state.mission].link},"About ",this.mission_info[this.state.mission].short_name," \u203a"):null),React.createElement("div",{className:"mission_selector_toggle"+(this.state.mission_selector_open?" open":""),onClick:this.toggleMissionSelector},"SELECT A MISSION",React.createElement("div",{className:"mission_selector_arrow"})),this.renderMissionSelector())),React.createElement("div",{id:"modals"},React.createElement(Modal,{isOpen:this.state.is_download_modal_open,onClose:e.closeDownloadModal,className:"modal download_modal",width:"200",height:"170",style:t},React.createElement("p",null,"Your download will begin shortly"),React.createElement(Loader,{loaded:!1,options:i,className:"spinner"})),React.createElement(Modal,{isOpen:this.state.is_download_request_open,onClose:e.closeDownloadRequest,className:"modal download_request",width:"350"},React.createElement("a",{className:"close_button",onClick:e.closeDownloadRequest},React.createElement("div",{className:"close_icon"})),React.createElement("h1",null,"Download Request"),React.createElement("p",null,"Our system requires time to process requests of over ",e.props.max_download," images. Please submit your email and we will send you a link when your download is ready. Depending on size, your request could take up to 24 hours."),React.createElement("input",{type:"text",placeholder:"Enter email",required:!0,name:"email",id:"email_for_download"}),React.createElement("span",{id:"email_validation_error",style:{display:"none"}},"Please enter a valid email."),React.createElement("footer",null,React.createElement("a",{className:"button"+(this.state.sending_download_request?" disabled":""),onClick:e.submitDownloadRequest},"SUBMIT"),React.createElement("a",{className:"button gray_background",onClick:e.closeDownloadRequest},"CANCEL"),this.state.sending_download_request?React.createElement(Loader,{loaded:!1,options:this.download_spinner_opts,className:"spinner"}):"",React.createElement("a",{href:"http://www.jpl.nasa.gov/copyrights.php",target:"_blank"},"JPL Privacy Policy"))),React.createElement(Modal,{isOpen:this.state.is_max_selected_modal_open,onClose:e.cancelMaxSelectedModal,className:"modal download_modal",width:"350",style:t},React.createElement("p",null,this.state.selected_max," images max.",React.createElement("br",null),"Please download your selections and clear all to select more images."),React.createElement("footer",null,React.createElement("a",{className:"button",onClick:e.cancelMaxSelectedModal},"OK")))),this.renderGrid())))}}),RawImagesDashboard=createReactClass({getInitialState:function(){return{new_count:null,total:null}},componentWillMount:function(){var e=this;$.getJSON("/api/v1/raw_image_items/"+this.props.mission+"/latest/",function(t){var i=t.latest_data;e.setState({new_count:Number(i.new_count).toLocaleString(),total:Number(i.total).toLocaleString()})})},render:function(){return this.state.new_count&&this.state.total?React.createElement("div",{className:"value"},this.state.new_count," New ",React.createElement("span",{className:"sep"},"|")," ",this.state.total," Total"):React.createElement("div",{className:"value"},"Loading...")}}),SolsOnMars=createReactClass({getInitialState:function(){return{sols:this.getSol()}},getSol:function(){var e=utcToMsd(new Date);return Math.floor(e-(360-this.props.deg_east)/360-this.props.sol_0)},componentWillMount:function(){var e=this;setInterval(function(){e.setState({sols:e.getSol()})},1e3)},render:function(){if(this.state.sols>=0){var e=1==this.state.sols?"Sol":"Sols";return React.createElement("div",{className:"value"},this.state.sols," ",e," on Mars")}return null}}),ToggleUnits=createReactClass({getInitialState:function(){return{units:"standard"}},getToggleText:function(){return"view "+("standard"==this.state.units?"km":"miles")},toggleUnits:function(){var e="standard"==this.state.units?"metric":"standard";this.setState({units:e},this.sendToggleEvent)},sendToggleEvent:function(){$("body").trigger("toggle_units",this.state.units)},render:function(){return React.createElement("span",{className:"toggle_units"},React.createElement("a",{onClick:this.toggleUnits},this.getToggleText()))}}),Video=createReactClass({loadJwPlayer:function(){jwplayer.key="aUHw/vpMvlcbkzWba1bSGOhfZ5nefVNAZYIC037cIbg=",jwplayer(""+this.props.video_div).setup({flashplayer:"/assets/mbcms/vendor/jwplayer/jwplayer.flash.swf",sources:this.props.files,width:"100%",autostart:this.props.autostart,image:this.props.poster,aspectratio:"16:9",repeat:this.props.autoloop,modes:[{type:"html5"},{type:"flash"},{type:"download"}]});try{new Blob}catch(e){}var t=this;jwplayer(""+this.props.video_div).addButton("/assets/download.svg","Download Video",function(){var e=document.createElement("a");e.setAttribute("href",jwplayer(""+t.props.video_div).getPlaylistItem().file),e.setAttribute("download",t.props.files[0].file),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},"download")},checkAndPlayVideoInView:function(e){$("#"+e+":in-viewport").length>0&&"IDLE"==jwplayer(e).getState()?jwplayer(e).play(!0):0==$("#"+e+":in-viewport").length&&jwplayer(e).stop()},componentDidMount:function(){if("true"!=this.props.vrview&&(this.loadJwPlayer(),this.props.autostart&&"false"!=this.props.autostart)){var e,t=this;$(window).on("scroll",function(){clearTimeout(e),e=setTimeout(function(){t.checkAndPlayVideoInView(""+t.props.video_div)},50)})}},render:function(){var e,t;if(e=this.props.display_caption&&""!=this.props.caption?React.createElement("figcaption",{dangerouslySetInnerHTML:{__html:this.props.caption}}):"",this.props.vrview&&"true"==this.props.vrview&&this.props.files.length>0){var i="/vrview?video="+this.props.files[0].file+"&is_stereo="+this.props.vrview_stereo+"&image="+this.props.poster;t=React.createElement("iframe",{frameBorder:"0",allowFullScreen:!0,height:"600px",src:i,width:"100%"})}else t=React.createElement("div",{id:this.props.video_div,className:"video_player"});return React.createElement("figure",null,t,e)}});MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),i=new google.maps.LatLngBounds,n=0;e=t[n];n++)i.extend(e.getPosition());this.map_.fitBounds(i)},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(e,t){for(var i=0,n=e.length,s=n;0!==s;)s=parseInt(s/10,10),i++;return{text:n,index:i=Math.min(i,t)}},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(e,t){if(e.length)for(var i=0;n=e[i];i++)this.pushMarkerTo_(n);else if(Object.keys(e).length)for(var n in e)this.pushMarkerTo_(e[n]);t||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var i,n=0;i=this.markers_[n];n++)if(i==e){t=n;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},MarkerClusterer.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!(t||!i)&&(this.resetViewport(),this.redraw(),!0)},MarkerClusterer.prototype.removeMarkers=function(e,t){for(var i,n=e===this.getMarkers()?e.slice():e,s=!1,r=0;i=n[r];r++){var o=this.removeMarker_(i);s=s||o}if(!t&&s)return this.resetViewport(),this.redraw(),!0},MarkerClusterer.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(e){this.map_=e},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),s=t.fromLatLngToDivPixel(i);s.x+=this.gridSize_,s.y-=this.gridSize_;var r=t.fromLatLngToDivPixel(n);r.x-=this.gridSize_,r.y+=this.gridSize_;var o=t.fromDivPixelToLatLng(s),a=t.fromDivPixelToLatLng(r);return e.extend(o),e.extend(a),e},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(e){for(var t,i=0;t=this.clusters_[i];i++)t.remove();var n;for(i=0;n=this.markers_[i];i++)n.isAdded=!1,e&&n.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var t,i=0;t=e[i];i++)t.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var i=6371,n=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return i*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},MarkerClusterer.prototype.addToClosestCluster_=function(e){for(var t,i=4e4,n=null,s=(e.getPosition(),0);t=this.clusters_[s];s++){var r=t.getCenter();if(r){var o=this.distanceBetweenPoints_(r,e.getPosition());o<i&&(i=o,n=t)}}n&&n.isMarkerInClusterBounds(e)?n.addMarker(e):((t=new Cluster(this)).addMarker(e),this.clusters_.push(t))},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),i=this.getExtendedBounds(t),n=0;e=this.markers_[n];n++)!e.isAdded&&this.isMarkerInBounds_(e,i)&&this.addToClosestCluster_(e)},Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,i=0;t=this.markers_[i];i++)if(t==e)return!0;return!1},Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,i=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,n=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(i,n),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var s=this.markers_.length;if(s<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),s==this.minClusterSize_)for(var r=0;r<s;r++)this.markers_[r].setMap(null);return s>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers(),n=0;e=i[n];n++)t.extend(e.getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&e>t)for(var i,n=0;i=this.markers_[n];n++)i.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var s=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,s);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(r),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e.map_,"clusterclick",this.cluster_),e.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this;google.maps.event.addDomListener(this.div_,"click",function(){t.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px",this.div_.style.zIndex=google.maps.Marker.MAX_ZINDEX+1}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var i=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+i+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var n=this.textColor_?this.textColor_:"black",s=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+n+"; position:absolute; font-size:"+s+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,Object.keys=Object.keys||function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t};